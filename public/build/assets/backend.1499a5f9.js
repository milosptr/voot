import{_ as ue,o as et,c as st,F as le,r as _e,a as T,w as Qt,z as Zt,f as Ee,C as Qe,t as ce,D as d0,E as hD,G as Tr,H as Hu,j as wn,k as u0,h as oe,e as Ho,i as Pn,u as h0,b as Tl,n as Nr,p as Hs,g as $s,A as Pl,I as gD,J as fD,K as pD,q as mD,y as bD,L as g0,l as kD,B as $n}from"./plugin-vue_export-helper.b5fa66d4.js";/* empty css            */var l0,c0;if(document.querySelector(".admin-dashboard")){if((l0=document.querySelectorAll('[href="'+window.location.pathname+'"]')[0])==null||l0.classList.add("bg-primary-light"),(c0=document.querySelectorAll('[href="'+window.location.pathname+'"]')[1])==null||c0.classList.add("bg-primary-light"),document.querySelector(".format-the-date")&&document.querySelectorAll(".format-the-date").forEach(r=>{r.innerText=dayjs(r.innerText).format("DD MMM YY")+" at "+dayjs(r.innerText).format("HH:mm")}),document.querySelector(".delete-product-btn")&&(document.querySelectorAll(".delete-product-btn").forEach(i=>{i.addEventListener("click",s=>{const l=s.target.dataset.name,u="/api/product-category/delete/"+s.target.dataset.id;document.getElementById("delete-category-modal").classList.remove("hidden"),document.getElementById("delete-category-name").innerText=l,document.querySelector("#delete-category-modal form").action=u})}),document.getElementById("close-category-modal").addEventListener("click",i=>{document.getElementById("delete-category-modal").classList.add("hidden")})),document.querySelector(".ckeditor")){const r=CKEDITOR.replace("wysiwyg-editor",{removePlugins:"elementspath, resize, save, font"});r.setData(document.getElementById("product-description").value),r.on("change",f0(function(i){document.getElementById("product-description").innerHTML=i.editor.getData()},500))}if(document.querySelector(".selected-categories")){const r=document.querySelector(".selected-categories");let i=document.querySelector("input#categories").value;document.getElementById("category").addEventListener("input",s=>{let l=document.querySelector(`#category option[value="${s.target.value}"]`).text;l=l.replace("\u2014 ","").replace("\u2014 ",""),r.innerHTML+=`
      <div class="flex justify-between items-center selected-category-item py-1 border-b border-gray-100">
      <div class="pl-2">${l}</div>
      <div data-category="${s.target.value}" class="remove-from-categories pr-2 tracking-widest text-3xl font-thin leading-none text-gray-400 cursor-pointer hover:text-rose-500">&times;</div>
      </div>
      `,i=i===""?s.target.value:i.concat(", "+s.target.value),document.querySelector("input#categories").value=i,wD(document.querySelectorAll("#category option")),vD()})}}document.querySelector(".add-single-product");document.querySelectorAll("[data-link]").length&&document.querySelectorAll("[data-link]").forEach(r=>{r.addEventListener("click",i=>{i.target.closest("tr")&&window.open(i.target.closest("tr").dataset.link)})});document.querySelector(".show-history-btn")&&document.querySelector(".show-history-btn").addEventListener("click",r=>{document.querySelector(".history-box").style.height="auto",document.querySelector(".show-history-btn").remove()});document.getElementById("products-category-filter")&&document.getElementById("products-category-filter").addEventListener("change",i=>{i.target.value?$o("category",i.target.value):Ol("category")});document.getElementById("order-customer-filter")&&document.getElementById("order-customer-filter").addEventListener("change",i=>{i.target.value?$o("customer",i.target.value):Ol("customer")});document.getElementById("order-customer-filter-status")&&document.getElementById("order-customer-filter-status").addEventListener("change",i=>{i.target.value?$o("status",i.target.value):Ol("status")});if(document.getElementById("products-category-search")){window.location.search.length&&yw();const r=document.getElementById("products-category-search"),i=f0(function(){const s=document.getElementById("products-category-search").value;$o("s",s,0),yw()},450);r.addEventListener("keydown",i)}document.getElementById("clients-search")&&(window.location.search.length&&xw(),document.getElementById("clients-search").addEventListener("change",i=>{$o("s",i.target.value,0),xw()}));if(document.getElementById("fileDrop")){FilePond.registerPlugin(FilePondPluginImagePreview);const r=document.getElementById("fileDrop");FilePond.create(r,{labelIdle:'Drag & Drop your picture or <span class="filepond--label-action">Browse</span>',imagePreviewHeight:250,imageCropAspectRatio:"1:1",stylePanelLayout:"compact square",styleLoadIndicatorPosition:"center center"}).setOptions({server:{process:(s,l,u,g,d,f,p,k,C)=>{const w=new FormData;w.append(s,l,l.name),document.getElementById("editCategory")&&w.append("category_id",parseInt(document.getElementById("editCategory").dataset.categoryId)),document.getElementById("addNewCategory")&&w.append("category_id",parseInt(document.getElementById("addNewCategory").dataset.categoryId));const x=new XMLHttpRequest;return x.open("POST","/api/assets"),x.upload.onprogress=E=>{f(E.lengthComputable,E.loaded,E.total)},x.send(w),x.onload=()=>{x.status>=200&&x.status<300?(g(x.responseText),document.querySelector(".category-featured-image").remove()):d("Something went wrong!")},{abort:()=>{x.abort(),p()}}}}})}if(document.getElementById("sortable-category-products")){const r=document.getElementById("sortable-category-products");new Sortable(document.getElementById("sortable-category-products"),{handle:"svg",animation:150,ghostClass:"bg-gray-50",dragClass:"opacity-0",onUpdate:function(i){const s=[];[...r.children].forEach((l,u)=>{s.push({product_id:l.dataset.key,category_order:u})}),axios.post("/api/product-category-order",s)}})}function yw(){axios.post("/api/products/search",Object.fromEntries(new URLSearchParams(window.location.search))).then(r=>{document.getElementById("products-tbody-list").innerHTML=r.data})}function xw(){axios.post("/api/clients/search",Object.fromEntries(new URLSearchParams(window.location.search))).then(r=>{document.getElementById("client-list").innerHTML=r.data})}function $o(r,i,s=1){let l=new URLSearchParams(window.location.search);if(l.set(r,i),s)window.location.search=l.toString();else{const u=window.location.origin+window.location.pathname+"?"+l.toString();window.history.pushState({path:u},"",u)}r=="s"&&Ol("page")}function Ol(r){let i=new URLSearchParams(window.location.search);i.delete(r),window.location.search=i.toString()}function wD(r){r.forEach((i,s)=>{s===0?i.selected="selected":delete i.selected})}function vD(){document.querySelectorAll(".remove-from-categories").forEach(i=>{i.addEventListener("click",s=>{const l=s.target.dataset.category;let u=document.querySelector("input#categories").value;document.querySelector("input#categories").value=u.split(", ").filter(g=>g!==l),s.target.parentNode.remove()})})}const Ew=document.getElementById("pagination--prev"),Sw=document.getElementById("pagination--next");(Ew||Sw)&&(Ew.addEventListener("click",r=>{const i=r.target.dataset.current;i-1&&$o("page",parseInt(i)-1)}),Sw.addEventListener("click",r=>{const i=r.target.dataset.current;$o("page",parseInt(i)+1)}));function f0(r,i){let s;return function(...u){const g=()=>{clearTimeout(s),r(...u)};clearTimeout(s),s=setTimeout(g,i)}}const CD={props:{options:Array,optionValues:Array},data:()=>({}),methods:{addOption(){this.options.push({name:""}),this.optionValues.push([{value:"",option:""}])},removeOption(r){this.options.splice(r,1),this.optionValues.splice(r,1)},removeOptionValue(r,i){this.optionValues[r].splice(i,1)},addValue(r,i,s){this.optionValues[r][i].option=s,this.optionValues[r][i+1]===void 0&&this.optionValues[r].push({value:"",option:s})}}},_D={class:"bg-white overflow-hidden shadow rounded-lg mt-6"},AD=T("div",{class:"px-4 py-5 sm:p-6"},[T("div",{class:"text-lg text-black font-medium"},"Product Options")],-1),yD={class:"single-option px-4 py-5 sm:p-6"},xD=T("label",{for:"option_name",class:"block text-sm font-medium text-gray-700"},"Option name",-1),ED={class:"flex"},SD=["onUpdate:modelValue"],DD=["src","onClick"],MD={class:"pl-4 mt-3"},ID=T("div",{class:"block text-sm font-medium text-gray-700"},"Option values",-1),TD=["onUpdate:modelValue","onInput"],PD={style:{width:"24px"}},OD=["src","onClick"],ND={class:"px-4 py-5 sm:p-6"},BD={class:"flex justify-between items-center"};function LD(r,i,s,l,u,g){return et(),st("div",_D,[AD,(et(!0),st(le,null,_e(s.options,(d,f)=>(et(),st("div",{key:f,class:"border-t border-b border-gray-200"},[T("div",yD,[xD,T("div",ED,[Qt(T("input",{"onUpdate:modelValue":p=>d.name=p,type:"text",name:"option_name",id:"option_name",placeholder:"Size, Color, Material, Length, Weight...",class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,SD),[[Zt,d.name]]),f>0?(et(),st("img",{key:0,src:"/images/trash.svg",width:"24",height:"24",alt:"remove",class:"ml-6 cursor-pointer",onClick:p=>g.removeOption(f)},null,8,DD)):Ee("",!0)]),T("div",MD,[ID,(et(!0),st(le,null,_e(s.optionValues[f],(p,k)=>(et(),st("div",{key:k,class:"single-variant flex items-center"},[Qt(T("input",{"onUpdate:modelValue":C=>s.optionValues[f][k].value=C,onInput:C=>g.addValue(f,k,d.name),type:"text",name:"option_1_values",placeholder:"Add option value",class:"mt-1 mr-6 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,40,TD),[[Zt,s.optionValues[f][k].value]]),T("div",PD,[k>0?(et(),st("img",{key:0,src:"/images/trash.svg",width:"24",height:"24",alt:"remove",class:"cursor-pointer",onClick:C=>g.removeOptionValue(f,k)},null,8,OD)):Ee("",!0)])]))),128))])])]))),128)),T("div",ND,[T("div",BD,[T("div",{tabindex:"0",class:"text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe(d=>r.$emit("save"),["enter"])),onClick:i[1]||(i[1]=d=>r.$emit("save"))}," Save ",32),T("div",{tabindex:"0",class:"text-primary-lighter border-primary-lighter border font-normal rounded-md text-sm flex items-center px-6 py-2 cursor-pointer",onKeydown:i[2]||(i[2]=Qe(d=>g.addOption(),["enter"])),onClick:i[3]||(i[3]=d=>g.addOption())},ce(s.options.length?"Add another option":"Add option"),33)])])])}const zD=ue(CD,[["render",LD]]);var p0={exports:{}};const m0=d0(hD);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Dw(r,i){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);i&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),s.push.apply(s,l)}return s}function Ti(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Dw(Object(s),!0).forEach(function(l){RD(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Dw(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}function cl(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cl=function(i){return typeof i}:cl=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},cl(r)}function RD(r,i,s){return i in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,r}function ri(){return ri=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},ri.apply(this,arguments)}function jD(r,i){if(r==null)return{};var s={},l=Object.keys(r),u,g;for(g=0;g<l.length;g++)u=l[g],!(i.indexOf(u)>=0)&&(s[u]=r[u]);return s}function FD(r,i){if(r==null)return{};var s=jD(r,i),l,u;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(r);for(u=0;u<g.length;u++)l=g[u],!(i.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,l)||(s[l]=r[l]))}return s}function VD(r){return UD(r)||HD(r)||$D(r)||WD()}function UD(r){if(Array.isArray(r))return Au(r)}function HD(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function $D(r,i){if(!!r){if(typeof r=="string")return Au(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Au(r,i)}}function Au(r,i){(i==null||i>r.length)&&(i=r.length);for(var s=0,l=new Array(i);s<i;s++)l[s]=r[s];return l}function WD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var GD="1.14.0";function Qi(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var Zi=Qi(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ws=Qi(/Edge/i),Mw=Qi(/firefox/i),Ds=Qi(/safari/i)&&!Qi(/chrome/i)&&!Qi(/android/i),b0=Qi(/iP(ad|od|hone)/i),YD=Qi(/chrome/i)&&Qi(/android/i),k0={capture:!1,passive:!1};function jt(r,i,s){r.addEventListener(i,s,!Zi&&k0)}function Bt(r,i,s){r.removeEventListener(i,s,!Zi&&k0)}function pl(r,i){if(!!i){if(i[0]===">"&&(i=i.substring(1)),r)try{if(r.matches)return r.matches(i);if(r.msMatchesSelector)return r.msMatchesSelector(i);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(i)}catch{return!1}return!1}}function KD(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function gi(r,i,s,l){if(r){s=s||document;do{if(i!=null&&(i[0]===">"?r.parentNode===s&&pl(r,i):pl(r,i))||l&&r===s)return r;if(r===s)break}while(r=KD(r))}return null}var Iw=/\s+/g;function ze(r,i,s){if(r&&i)if(r.classList)r.classList[s?"add":"remove"](i);else{var l=(" "+r.className+" ").replace(Iw," ").replace(" "+i+" "," ");r.className=(l+(s?" "+i:"")).replace(Iw," ")}}function kt(r,i,s){var l=r&&r.style;if(l){if(s===void 0)return document.defaultView&&document.defaultView.getComputedStyle?s=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(s=r.currentStyle),i===void 0?s:s[i];!(i in l)&&i.indexOf("webkit")===-1&&(i="-webkit-"+i),l[i]=s+(typeof s=="string"?"":"px")}}function Fo(r,i){var s="";if(typeof r=="string")s=r;else do{var l=kt(r,"transform");l&&l!=="none"&&(s=l+" "+s)}while(!i&&(r=r.parentNode));var u=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return u&&new u(s)}function w0(r,i,s){if(r){var l=r.getElementsByTagName(i),u=0,g=l.length;if(s)for(;u<g;u++)s(l[u],u);return l}return[]}function Mi(){var r=document.scrollingElement;return r||document.documentElement}function Pe(r,i,s,l,u){if(!(!r.getBoundingClientRect&&r!==window)){var g,d,f,p,k,C,w;if(r!==window&&r.parentNode&&r!==Mi()?(g=r.getBoundingClientRect(),d=g.top,f=g.left,p=g.bottom,k=g.right,C=g.height,w=g.width):(d=0,f=0,p=window.innerHeight,k=window.innerWidth,C=window.innerHeight,w=window.innerWidth),(i||s)&&r!==window&&(u=u||r.parentNode,!Zi))do if(u&&u.getBoundingClientRect&&(kt(u,"transform")!=="none"||s&&kt(u,"position")!=="static")){var x=u.getBoundingClientRect();d-=x.top+parseInt(kt(u,"border-top-width")),f-=x.left+parseInt(kt(u,"border-left-width")),p=d+g.height,k=f+g.width;break}while(u=u.parentNode);if(l&&r!==window){var E=Fo(u||r),D=E&&E.a,I=E&&E.d;E&&(d/=I,f/=D,w/=D,C/=I,p=d+C,k=f+w)}return{top:d,left:f,bottom:p,right:k,width:w,height:C}}}function Tw(r,i,s){for(var l=ro(r,!0),u=Pe(r)[i];l;){var g=Pe(l)[s],d=void 0;if(s==="top"||s==="left"?d=u>=g:d=u<=g,!d)return l;if(l===Mi())break;l=ro(l,!1)}return!1}function Lr(r,i,s,l){for(var u=0,g=0,d=r.children;g<d.length;){if(d[g].style.display!=="none"&&d[g]!==yt.ghost&&(l||d[g]!==yt.dragged)&&gi(d[g],s.draggable,r,!1)){if(u===i)return d[g];u++}g++}return null}function $u(r,i){for(var s=r.lastElementChild;s&&(s===yt.ghost||kt(s,"display")==="none"||i&&!pl(s,i));)s=s.previousElementSibling;return s||null}function Ue(r,i){var s=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==yt.clone&&(!i||pl(r,i))&&s++;return s}function Pw(r){var i=0,s=0,l=Mi();if(r)do{var u=Fo(r),g=u.a,d=u.d;i+=r.scrollLeft*g,s+=r.scrollTop*d}while(r!==l&&(r=r.parentNode));return[i,s]}function QD(r,i){for(var s in r)if(!!r.hasOwnProperty(s)){for(var l in i)if(i.hasOwnProperty(l)&&i[l]===r[s][l])return Number(s)}return-1}function ro(r,i){if(!r||!r.getBoundingClientRect)return Mi();var s=r,l=!1;do if(s.clientWidth<s.scrollWidth||s.clientHeight<s.scrollHeight){var u=kt(s);if(s.clientWidth<s.scrollWidth&&(u.overflowX=="auto"||u.overflowX=="scroll")||s.clientHeight<s.scrollHeight&&(u.overflowY=="auto"||u.overflowY=="scroll")){if(!s.getBoundingClientRect||s===document.body)return Mi();if(l||i)return s;l=!0}}while(s=s.parentNode);return Mi()}function ZD(r,i){if(r&&i)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s]);return r}function Jd(r,i){return Math.round(r.top)===Math.round(i.top)&&Math.round(r.left)===Math.round(i.left)&&Math.round(r.height)===Math.round(i.height)&&Math.round(r.width)===Math.round(i.width)}var Ms;function v0(r,i){return function(){if(!Ms){var s=arguments,l=this;s.length===1?r.call(l,s[0]):r.apply(l,s),Ms=setTimeout(function(){Ms=void 0},i)}}}function qD(){clearTimeout(Ms),Ms=void 0}function C0(r,i,s){r.scrollLeft+=i,r.scrollTop+=s}function Wu(r){var i=window.Polymer,s=window.jQuery||window.Zepto;return i&&i.dom?i.dom(r).cloneNode(!0):s?s(r).clone(!0)[0]:r.cloneNode(!0)}function Ow(r,i){kt(r,"position","absolute"),kt(r,"top",i.top),kt(r,"left",i.left),kt(r,"width",i.width),kt(r,"height",i.height)}function tu(r){kt(r,"position",""),kt(r,"top",""),kt(r,"left",""),kt(r,"width",""),kt(r,"height","")}var vn="Sortable"+new Date().getTime();function XD(){var r=[],i;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var l=[].slice.call(this.el.children);l.forEach(function(u){if(!(kt(u,"display")==="none"||u===yt.ghost)){r.push({target:u,rect:Pe(u)});var g=Ti({},r[r.length-1].rect);if(u.thisAnimationDuration){var d=Fo(u,!0);d&&(g.top-=d.f,g.left-=d.e)}u.fromRect=g}})}},addAnimationState:function(l){r.push(l)},removeAnimationState:function(l){r.splice(QD(r,{target:l}),1)},animateAll:function(l){var u=this;if(!this.options.animation){clearTimeout(i),typeof l=="function"&&l();return}var g=!1,d=0;r.forEach(function(f){var p=0,k=f.target,C=k.fromRect,w=Pe(k),x=k.prevFromRect,E=k.prevToRect,D=f.rect,I=Fo(k,!0);I&&(w.top-=I.f,w.left-=I.e),k.toRect=w,k.thisAnimationDuration&&Jd(x,w)&&!Jd(C,w)&&(D.top-w.top)/(D.left-w.left)===(C.top-w.top)/(C.left-w.left)&&(p=tM(D,x,E,u.options)),Jd(w,C)||(k.prevFromRect=C,k.prevToRect=w,p||(p=u.options.animation),u.animate(k,D,w,p)),p&&(g=!0,d=Math.max(d,p),clearTimeout(k.animationResetTimer),k.animationResetTimer=setTimeout(function(){k.animationTime=0,k.prevFromRect=null,k.fromRect=null,k.prevToRect=null,k.thisAnimationDuration=null},p),k.thisAnimationDuration=p)}),clearTimeout(i),g?i=setTimeout(function(){typeof l=="function"&&l()},d):typeof l=="function"&&l(),r=[]},animate:function(l,u,g,d){if(d){kt(l,"transition",""),kt(l,"transform","");var f=Fo(this.el),p=f&&f.a,k=f&&f.d,C=(u.left-g.left)/(p||1),w=(u.top-g.top)/(k||1);l.animatingX=!!C,l.animatingY=!!w,kt(l,"transform","translate3d("+C+"px,"+w+"px,0)"),this.forRepaintDummy=JD(l),kt(l,"transition","transform "+d+"ms"+(this.options.easing?" "+this.options.easing:"")),kt(l,"transform","translate3d(0,0,0)"),typeof l.animated=="number"&&clearTimeout(l.animated),l.animated=setTimeout(function(){kt(l,"transition",""),kt(l,"transform",""),l.animated=!1,l.animatingX=!1,l.animatingY=!1},d)}}}}function JD(r){return r.offsetWidth}function tM(r,i,s,l){return Math.sqrt(Math.pow(i.top-r.top,2)+Math.pow(i.left-r.left,2))/Math.sqrt(Math.pow(i.top-s.top,2)+Math.pow(i.left-s.left,2))*l.animation}var Ar=[],eu={initializeByDefault:!0},Gs={mount:function(i){for(var s in eu)eu.hasOwnProperty(s)&&!(s in i)&&(i[s]=eu[s]);Ar.forEach(function(l){if(l.pluginName===i.pluginName)throw"Sortable: Cannot mount plugin ".concat(i.pluginName," more than once")}),Ar.push(i)},pluginEvent:function(i,s,l){var u=this;this.eventCanceled=!1,l.cancel=function(){u.eventCanceled=!0};var g=i+"Global";Ar.forEach(function(d){!s[d.pluginName]||(s[d.pluginName][g]&&s[d.pluginName][g](Ti({sortable:s},l)),s.options[d.pluginName]&&s[d.pluginName][i]&&s[d.pluginName][i](Ti({sortable:s},l)))})},initializePlugins:function(i,s,l,u){Ar.forEach(function(f){var p=f.pluginName;if(!(!i.options[p]&&!f.initializeByDefault)){var k=new f(i,s,i.options);k.sortable=i,k.options=i.options,i[p]=k,ri(l,k.defaults)}});for(var g in i.options)if(!!i.options.hasOwnProperty(g)){var d=this.modifyOption(i,g,i.options[g]);typeof d<"u"&&(i.options[g]=d)}},getEventProperties:function(i,s){var l={};return Ar.forEach(function(u){typeof u.eventProperties=="function"&&ri(l,u.eventProperties.call(s[u.pluginName],i))}),l},modifyOption:function(i,s,l){var u;return Ar.forEach(function(g){!i[g.pluginName]||g.optionListeners&&typeof g.optionListeners[s]=="function"&&(u=g.optionListeners[s].call(i[g.pluginName],l))}),u}};function Cs(r){var i=r.sortable,s=r.rootEl,l=r.name,u=r.targetEl,g=r.cloneEl,d=r.toEl,f=r.fromEl,p=r.oldIndex,k=r.newIndex,C=r.oldDraggableIndex,w=r.newDraggableIndex,x=r.originalEvent,E=r.putSortable,D=r.extraEventProperties;if(i=i||s&&s[vn],!!i){var I,P=i.options,B="on"+l.charAt(0).toUpperCase()+l.substr(1);window.CustomEvent&&!Zi&&!Ws?I=new CustomEvent(l,{bubbles:!0,cancelable:!0}):(I=document.createEvent("Event"),I.initEvent(l,!0,!0)),I.to=d||s,I.from=f||s,I.item=u||s,I.clone=g,I.oldIndex=p,I.newIndex=k,I.oldDraggableIndex=C,I.newDraggableIndex=w,I.originalEvent=x,I.pullMode=E?E.lastPutMode:void 0;var z=Ti(Ti({},D),Gs.getEventProperties(l,i));for(var U in z)I[U]=z[U];s&&s.dispatchEvent(I),P[B]&&P[B].call(i,I)}}var eM=["evt"],In=function(i,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=l.evt,g=FD(l,eM);Gs.pluginEvent.bind(yt)(i,s,Ti({dragEl:gt,parentEl:Fe,ghostEl:Tt,rootEl:Te,nextEl:zo,lastDownEl:dl,cloneEl:Ve,cloneHidden:oo,dragStarted:_s,putSortable:un,activeSortable:yt.active,originalEvent:u,oldIndex:Pr,oldDraggableIndex:Is,newIndex:Un,newDraggableIndex:io,hideGhostForTarget:x0,unhideGhostForTarget:E0,cloneNowHidden:function(){oo=!0},cloneNowShown:function(){oo=!1},dispatchSortableEvent:function(f){En({sortable:s,name:f,originalEvent:u})}},g))};function En(r){Cs(Ti({putSortable:un,cloneEl:Ve,targetEl:gt,rootEl:Te,oldIndex:Pr,oldDraggableIndex:Is,newIndex:Un,newDraggableIndex:io},r))}var gt,Fe,Tt,Te,zo,dl,Ve,oo,Pr,Un,Is,io,Wa,un,Ir=!1,ml=!1,bl=[],Po,ui,nu,iu,Nw,Bw,_s,yr,Ts,Ps=!1,Ga=!1,ul,bn,ou=[],yu=!1,kl=[],Nl=typeof document<"u",Ya=b0,Lw=Ws||Zi?"cssFloat":"float",nM=Nl&&!YD&&!b0&&"draggable"in document.createElement("div"),_0=function(){if(!!Nl){if(Zi)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),A0=function(i,s){var l=kt(i),u=parseInt(l.width)-parseInt(l.paddingLeft)-parseInt(l.paddingRight)-parseInt(l.borderLeftWidth)-parseInt(l.borderRightWidth),g=Lr(i,0,s),d=Lr(i,1,s),f=g&&kt(g),p=d&&kt(d),k=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+Pe(g).width,C=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+Pe(d).width;if(l.display==="flex")return l.flexDirection==="column"||l.flexDirection==="column-reverse"?"vertical":"horizontal";if(l.display==="grid")return l.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(g&&f.float&&f.float!=="none"){var w=f.float==="left"?"left":"right";return d&&(p.clear==="both"||p.clear===w)?"vertical":"horizontal"}return g&&(f.display==="block"||f.display==="flex"||f.display==="table"||f.display==="grid"||k>=u&&l[Lw]==="none"||d&&l[Lw]==="none"&&k+C>u)?"vertical":"horizontal"},iM=function(i,s,l){var u=l?i.left:i.top,g=l?i.right:i.bottom,d=l?i.width:i.height,f=l?s.left:s.top,p=l?s.right:s.bottom,k=l?s.width:s.height;return u===f||g===p||u+d/2===f+k/2},oM=function(i,s){var l;return bl.some(function(u){var g=u[vn].options.emptyInsertThreshold;if(!(!g||$u(u))){var d=Pe(u),f=i>=d.left-g&&i<=d.right+g,p=s>=d.top-g&&s<=d.bottom+g;if(f&&p)return l=u}}),l},y0=function(i){function s(g,d){return function(f,p,k,C){var w=f.options.group.name&&p.options.group.name&&f.options.group.name===p.options.group.name;if(g==null&&(d||w))return!0;if(g==null||g===!1)return!1;if(d&&g==="clone")return g;if(typeof g=="function")return s(g(f,p,k,C),d)(f,p,k,C);var x=(d?f:p).options.group.name;return g===!0||typeof g=="string"&&g===x||g.join&&g.indexOf(x)>-1}}var l={},u=i.group;(!u||cl(u)!="object")&&(u={name:u}),l.name=u.name,l.checkPull=s(u.pull,!0),l.checkPut=s(u.put),l.revertClone=u.revertClone,i.group=l},x0=function(){!_0&&Tt&&kt(Tt,"display","none")},E0=function(){!_0&&Tt&&kt(Tt,"display","")};Nl&&document.addEventListener("click",function(r){if(ml)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),ml=!1,!1},!0);var Oo=function(i){if(gt){i=i.touches?i.touches[0]:i;var s=oM(i.clientX,i.clientY);if(s){var l={};for(var u in i)i.hasOwnProperty(u)&&(l[u]=i[u]);l.target=l.rootEl=s,l.preventDefault=void 0,l.stopPropagation=void 0,s[vn]._onDragOver(l)}}},rM=function(i){gt&&gt.parentNode[vn]._isOutsideThisEl(i.target)};function yt(r,i){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=i=ri({},i),r[vn]=this;var s={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return A0(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(d,f){d.setData("Text",f.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:yt.supportPointer!==!1&&"PointerEvent"in window&&!Ds,emptyInsertThreshold:5};Gs.initializePlugins(this,r,s);for(var l in s)!(l in i)&&(i[l]=s[l]);y0(i);for(var u in this)u.charAt(0)==="_"&&typeof this[u]=="function"&&(this[u]=this[u].bind(this));this.nativeDraggable=i.forceFallback?!1:nM,this.nativeDraggable&&(this.options.touchStartThreshold=1),i.supportPointer?jt(r,"pointerdown",this._onTapStart):(jt(r,"mousedown",this._onTapStart),jt(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(jt(r,"dragover",this),jt(r,"dragenter",this)),bl.push(this.el),i.store&&i.store.get&&this.sort(i.store.get(this)||[]),ri(this,XD())}yt.prototype={constructor:yt,_isOutsideThisEl:function(i){!this.el.contains(i)&&i!==this.el&&(yr=null)},_getDirection:function(i,s){return typeof this.options.direction=="function"?this.options.direction.call(this,i,s,gt):this.options.direction},_onTapStart:function(i){if(!!i.cancelable){var s=this,l=this.el,u=this.options,g=u.preventOnFilter,d=i.type,f=i.touches&&i.touches[0]||i.pointerType&&i.pointerType==="touch"&&i,p=(f||i).target,k=i.target.shadowRoot&&(i.path&&i.path[0]||i.composedPath&&i.composedPath()[0])||p,C=u.filter;if(gM(l),!gt&&!(/mousedown|pointerdown/.test(d)&&i.button!==0||u.disabled)&&!k.isContentEditable&&!(!this.nativeDraggable&&Ds&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=gi(p,u.draggable,l,!1),!(p&&p.animated)&&dl!==p)){if(Pr=Ue(p),Is=Ue(p,u.draggable),typeof C=="function"){if(C.call(this,i,p,this)){En({sortable:s,rootEl:k,name:"filter",targetEl:p,toEl:l,fromEl:l}),In("filter",s,{evt:i}),g&&i.cancelable&&i.preventDefault();return}}else if(C&&(C=C.split(",").some(function(w){if(w=gi(k,w.trim(),l,!1),w)return En({sortable:s,rootEl:w,name:"filter",targetEl:p,fromEl:l,toEl:l}),In("filter",s,{evt:i}),!0}),C)){g&&i.cancelable&&i.preventDefault();return}u.handle&&!gi(k,u.handle,l,!1)||this._prepareDragStart(i,f,p)}}},_prepareDragStart:function(i,s,l){var u=this,g=u.el,d=u.options,f=g.ownerDocument,p;if(l&&!gt&&l.parentNode===g){var k=Pe(l);if(Te=g,gt=l,Fe=gt.parentNode,zo=gt.nextSibling,dl=l,Wa=d.group,yt.dragged=gt,Po={target:gt,clientX:(s||i).clientX,clientY:(s||i).clientY},Nw=Po.clientX-k.left,Bw=Po.clientY-k.top,this._lastX=(s||i).clientX,this._lastY=(s||i).clientY,gt.style["will-change"]="all",p=function(){if(In("delayEnded",u,{evt:i}),yt.eventCanceled){u._onDrop();return}u._disableDelayedDragEvents(),!Mw&&u.nativeDraggable&&(gt.draggable=!0),u._triggerDragStart(i,s),En({sortable:u,name:"choose",originalEvent:i}),ze(gt,d.chosenClass,!0)},d.ignore.split(",").forEach(function(C){w0(gt,C.trim(),ru)}),jt(f,"dragover",Oo),jt(f,"mousemove",Oo),jt(f,"touchmove",Oo),jt(f,"mouseup",u._onDrop),jt(f,"touchend",u._onDrop),jt(f,"touchcancel",u._onDrop),Mw&&this.nativeDraggable&&(this.options.touchStartThreshold=4,gt.draggable=!0),In("delayStart",this,{evt:i}),d.delay&&(!d.delayOnTouchOnly||s)&&(!this.nativeDraggable||!(Ws||Zi))){if(yt.eventCanceled){this._onDrop();return}jt(f,"mouseup",u._disableDelayedDrag),jt(f,"touchend",u._disableDelayedDrag),jt(f,"touchcancel",u._disableDelayedDrag),jt(f,"mousemove",u._delayedDragTouchMoveHandler),jt(f,"touchmove",u._delayedDragTouchMoveHandler),d.supportPointer&&jt(f,"pointermove",u._delayedDragTouchMoveHandler),u._dragStartTimer=setTimeout(p,d.delay)}else p()}},_delayedDragTouchMoveHandler:function(i){var s=i.touches?i.touches[0]:i;Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){gt&&ru(gt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var i=this.el.ownerDocument;Bt(i,"mouseup",this._disableDelayedDrag),Bt(i,"touchend",this._disableDelayedDrag),Bt(i,"touchcancel",this._disableDelayedDrag),Bt(i,"mousemove",this._delayedDragTouchMoveHandler),Bt(i,"touchmove",this._delayedDragTouchMoveHandler),Bt(i,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(i,s){s=s||i.pointerType=="touch"&&i,!this.nativeDraggable||s?this.options.supportPointer?jt(document,"pointermove",this._onTouchMove):s?jt(document,"touchmove",this._onTouchMove):jt(document,"mousemove",this._onTouchMove):(jt(gt,"dragend",this),jt(Te,"dragstart",this._onDragStart));try{document.selection?hl(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(i,s){if(Ir=!1,Te&&gt){In("dragStarted",this,{evt:s}),this.nativeDraggable&&jt(document,"dragover",rM);var l=this.options;!i&&ze(gt,l.dragClass,!1),ze(gt,l.ghostClass,!0),yt.active=this,i&&this._appendGhost(),En({sortable:this,name:"start",originalEvent:s})}else this._nulling()},_emulateDragOver:function(){if(ui){this._lastX=ui.clientX,this._lastY=ui.clientY,x0();for(var i=document.elementFromPoint(ui.clientX,ui.clientY),s=i;i&&i.shadowRoot&&(i=i.shadowRoot.elementFromPoint(ui.clientX,ui.clientY),i!==s);)s=i;if(gt.parentNode[vn]._isOutsideThisEl(i),s)do{if(s[vn]){var l=void 0;if(l=s[vn]._onDragOver({clientX:ui.clientX,clientY:ui.clientY,target:i,rootEl:s}),l&&!this.options.dragoverBubble)break}i=s}while(s=s.parentNode);E0()}},_onTouchMove:function(i){if(Po){var s=this.options,l=s.fallbackTolerance,u=s.fallbackOffset,g=i.touches?i.touches[0]:i,d=Tt&&Fo(Tt,!0),f=Tt&&d&&d.a,p=Tt&&d&&d.d,k=Ya&&bn&&Pw(bn),C=(g.clientX-Po.clientX+u.x)/(f||1)+(k?k[0]-ou[0]:0)/(f||1),w=(g.clientY-Po.clientY+u.y)/(p||1)+(k?k[1]-ou[1]:0)/(p||1);if(!yt.active&&!Ir){if(l&&Math.max(Math.abs(g.clientX-this._lastX),Math.abs(g.clientY-this._lastY))<l)return;this._onDragStart(i,!0)}if(Tt){d?(d.e+=C-(nu||0),d.f+=w-(iu||0)):d={a:1,b:0,c:0,d:1,e:C,f:w};var x="matrix(".concat(d.a,",").concat(d.b,",").concat(d.c,",").concat(d.d,",").concat(d.e,",").concat(d.f,")");kt(Tt,"webkitTransform",x),kt(Tt,"mozTransform",x),kt(Tt,"msTransform",x),kt(Tt,"transform",x),nu=C,iu=w,ui=g}i.cancelable&&i.preventDefault()}},_appendGhost:function(){if(!Tt){var i=this.options.fallbackOnBody?document.body:Te,s=Pe(gt,!0,Ya,!0,i),l=this.options;if(Ya){for(bn=i;kt(bn,"position")==="static"&&kt(bn,"transform")==="none"&&bn!==document;)bn=bn.parentNode;bn!==document.body&&bn!==document.documentElement?(bn===document&&(bn=Mi()),s.top+=bn.scrollTop,s.left+=bn.scrollLeft):bn=Mi(),ou=Pw(bn)}Tt=gt.cloneNode(!0),ze(Tt,l.ghostClass,!1),ze(Tt,l.fallbackClass,!0),ze(Tt,l.dragClass,!0),kt(Tt,"transition",""),kt(Tt,"transform",""),kt(Tt,"box-sizing","border-box"),kt(Tt,"margin",0),kt(Tt,"top",s.top),kt(Tt,"left",s.left),kt(Tt,"width",s.width),kt(Tt,"height",s.height),kt(Tt,"opacity","0.8"),kt(Tt,"position",Ya?"absolute":"fixed"),kt(Tt,"zIndex","100000"),kt(Tt,"pointerEvents","none"),yt.ghost=Tt,i.appendChild(Tt),kt(Tt,"transform-origin",Nw/parseInt(Tt.style.width)*100+"% "+Bw/parseInt(Tt.style.height)*100+"%")}},_onDragStart:function(i,s){var l=this,u=i.dataTransfer,g=l.options;if(In("dragStart",this,{evt:i}),yt.eventCanceled){this._onDrop();return}In("setupClone",this),yt.eventCanceled||(Ve=Wu(gt),Ve.draggable=!1,Ve.style["will-change"]="",this._hideClone(),ze(Ve,this.options.chosenClass,!1),yt.clone=Ve),l.cloneId=hl(function(){In("clone",l),!yt.eventCanceled&&(l.options.removeCloneOnHide||Te.insertBefore(Ve,gt),l._hideClone(),En({sortable:l,name:"clone"}))}),!s&&ze(gt,g.dragClass,!0),s?(ml=!0,l._loopId=setInterval(l._emulateDragOver,50)):(Bt(document,"mouseup",l._onDrop),Bt(document,"touchend",l._onDrop),Bt(document,"touchcancel",l._onDrop),u&&(u.effectAllowed="move",g.setData&&g.setData.call(l,u,gt)),jt(document,"drop",l),kt(gt,"transform","translateZ(0)")),Ir=!0,l._dragStartId=hl(l._dragStarted.bind(l,s,i)),jt(document,"selectstart",l),_s=!0,Ds&&kt(document.body,"user-select","none")},_onDragOver:function(i){var s=this.el,l=i.target,u,g,d,f=this.options,p=f.group,k=yt.active,C=Wa===p,w=f.sort,x=un||k,E,D=this,I=!1;if(yu)return;function P(Dt,Gt){In(Dt,D,Ti({evt:i,isOwner:C,axis:E?"vertical":"horizontal",revert:d,dragRect:u,targetRect:g,canSort:w,fromSortable:x,target:l,completed:z,onMove:function(Kt,Ut){return Ka(Te,s,gt,u,Kt,Pe(Kt),i,Ut)},changed:U},Gt))}function B(){P("dragOverAnimationCapture"),D.captureAnimationState(),D!==x&&x.captureAnimationState()}function z(Dt){return P("dragOverCompleted",{insertion:Dt}),Dt&&(C?k._hideClone():k._showClone(D),D!==x&&(ze(gt,un?un.options.ghostClass:k.options.ghostClass,!1),ze(gt,f.ghostClass,!0)),un!==D&&D!==yt.active?un=D:D===yt.active&&un&&(un=null),x===D&&(D._ignoreWhileAnimating=l),D.animateAll(function(){P("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==x&&(x.animateAll(),x._ignoreWhileAnimating=null)),(l===gt&&!gt.animated||l===s&&!l.animated)&&(yr=null),!f.dragoverBubble&&!i.rootEl&&l!==document&&(gt.parentNode[vn]._isOutsideThisEl(i.target),!Dt&&Oo(i)),!f.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),I=!0}function U(){Un=Ue(gt),io=Ue(gt,f.draggable),En({sortable:D,name:"change",toEl:s,newIndex:Un,newDraggableIndex:io,originalEvent:i})}if(i.preventDefault!==void 0&&i.cancelable&&i.preventDefault(),l=gi(l,f.draggable,s,!0),P("dragOver"),yt.eventCanceled)return I;if(gt.contains(i.target)||l.animated&&l.animatingX&&l.animatingY||D._ignoreWhileAnimating===l)return z(!1);if(ml=!1,k&&!f.disabled&&(C?w||(d=Fe!==Te):un===this||(this.lastPutMode=Wa.checkPull(this,k,gt,i))&&p.checkPut(this,k,gt,i))){if(E=this._getDirection(i,l)==="vertical",u=Pe(gt),P("dragOverValid"),yt.eventCanceled)return I;if(d)return Fe=Te,B(),this._hideClone(),P("revert"),yt.eventCanceled||(zo?Te.insertBefore(gt,zo):Te.appendChild(gt)),z(!0);var R=$u(s,f.draggable);if(!R||cM(i,E,this)&&!R.animated){if(R===gt)return z(!1);if(R&&s===i.target&&(l=R),l&&(g=Pe(l)),Ka(Te,s,gt,u,l,g,i,!!l)!==!1)return B(),s.appendChild(gt),Fe=s,U(),z(!0)}else if(R&&lM(i,E,this)){var F=Lr(s,0,f,!0);if(F===gt)return z(!1);if(l=F,g=Pe(l),Ka(Te,s,gt,u,l,g,i,!1)!==!1)return B(),s.insertBefore(gt,F),Fe=s,U(),z(!0)}else if(l.parentNode===s){g=Pe(l);var H=0,$,G=gt.parentNode!==s,V=!iM(gt.animated&&gt.toRect||u,l.animated&&l.toRect||g,E),Q=E?"top":"left",nt=Tw(l,"top","top")||Tw(gt,"top","top"),J=nt?nt.scrollTop:void 0;yr!==l&&($=g[Q],Ps=!1,Ga=!V&&f.invertSwap||G),H=dM(i,l,g,E,V?1:f.swapThreshold,f.invertedSwapThreshold==null?f.swapThreshold:f.invertedSwapThreshold,Ga,yr===l);var X;if(H!==0){var lt=Ue(gt);do lt-=H,X=Fe.children[lt];while(X&&(kt(X,"display")==="none"||X===Tt))}if(H===0||X===l)return z(!1);yr=l,Ts=H;var ot=l.nextElementSibling,rt=!1;rt=H===1;var ht=Ka(Te,s,gt,u,l,g,i,rt);if(ht!==!1)return(ht===1||ht===-1)&&(rt=ht===1),yu=!0,setTimeout(aM,30),B(),rt&&!ot?s.appendChild(gt):l.parentNode.insertBefore(gt,rt?ot:l),nt&&C0(nt,0,J-nt.scrollTop),Fe=gt.parentNode,$!==void 0&&!Ga&&(ul=Math.abs($-Pe(l)[Q])),U(),z(!0)}if(s.contains(gt))return z(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Bt(document,"mousemove",this._onTouchMove),Bt(document,"touchmove",this._onTouchMove),Bt(document,"pointermove",this._onTouchMove),Bt(document,"dragover",Oo),Bt(document,"mousemove",Oo),Bt(document,"touchmove",Oo)},_offUpEvents:function(){var i=this.el.ownerDocument;Bt(i,"mouseup",this._onDrop),Bt(i,"touchend",this._onDrop),Bt(i,"pointerup",this._onDrop),Bt(i,"touchcancel",this._onDrop),Bt(document,"selectstart",this)},_onDrop:function(i){var s=this.el,l=this.options;if(Un=Ue(gt),io=Ue(gt,l.draggable),In("drop",this,{evt:i}),Fe=gt&&gt.parentNode,Un=Ue(gt),io=Ue(gt,l.draggable),yt.eventCanceled){this._nulling();return}Ir=!1,Ga=!1,Ps=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xu(this.cloneId),xu(this._dragStartId),this.nativeDraggable&&(Bt(document,"drop",this),Bt(s,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ds&&kt(document.body,"user-select",""),kt(gt,"transform",""),i&&(_s&&(i.cancelable&&i.preventDefault(),!l.dropBubble&&i.stopPropagation()),Tt&&Tt.parentNode&&Tt.parentNode.removeChild(Tt),(Te===Fe||un&&un.lastPutMode!=="clone")&&Ve&&Ve.parentNode&&Ve.parentNode.removeChild(Ve),gt&&(this.nativeDraggable&&Bt(gt,"dragend",this),ru(gt),gt.style["will-change"]="",_s&&!Ir&&ze(gt,un?un.options.ghostClass:this.options.ghostClass,!1),ze(gt,this.options.chosenClass,!1),En({sortable:this,name:"unchoose",toEl:Fe,newIndex:null,newDraggableIndex:null,originalEvent:i}),Te!==Fe?(Un>=0&&(En({rootEl:Fe,name:"add",toEl:Fe,fromEl:Te,originalEvent:i}),En({sortable:this,name:"remove",toEl:Fe,originalEvent:i}),En({rootEl:Fe,name:"sort",toEl:Fe,fromEl:Te,originalEvent:i}),En({sortable:this,name:"sort",toEl:Fe,originalEvent:i})),un&&un.save()):Un!==Pr&&Un>=0&&(En({sortable:this,name:"update",toEl:Fe,originalEvent:i}),En({sortable:this,name:"sort",toEl:Fe,originalEvent:i})),yt.active&&((Un==null||Un===-1)&&(Un=Pr,io=Is),En({sortable:this,name:"end",toEl:Fe,originalEvent:i}),this.save()))),this._nulling()},_nulling:function(){In("nulling",this),Te=gt=Fe=Tt=zo=Ve=dl=oo=Po=ui=_s=Un=io=Pr=Is=yr=Ts=un=Wa=yt.dragged=yt.ghost=yt.clone=yt.active=null,kl.forEach(function(i){i.checked=!0}),kl.length=nu=iu=0},handleEvent:function(i){switch(i.type){case"drop":case"dragend":this._onDrop(i);break;case"dragenter":case"dragover":gt&&(this._onDragOver(i),sM(i));break;case"selectstart":i.preventDefault();break}},toArray:function(){for(var i=[],s,l=this.el.children,u=0,g=l.length,d=this.options;u<g;u++)s=l[u],gi(s,d.draggable,this.el,!1)&&i.push(s.getAttribute(d.dataIdAttr)||hM(s));return i},sort:function(i,s){var l={},u=this.el;this.toArray().forEach(function(g,d){var f=u.children[d];gi(f,this.options.draggable,u,!1)&&(l[g]=f)},this),s&&this.captureAnimationState(),i.forEach(function(g){l[g]&&(u.removeChild(l[g]),u.appendChild(l[g]))}),s&&this.animateAll()},save:function(){var i=this.options.store;i&&i.set&&i.set(this)},closest:function(i,s){return gi(i,s||this.options.draggable,this.el,!1)},option:function(i,s){var l=this.options;if(s===void 0)return l[i];var u=Gs.modifyOption(this,i,s);typeof u<"u"?l[i]=u:l[i]=s,i==="group"&&y0(l)},destroy:function(){In("destroy",this);var i=this.el;i[vn]=null,Bt(i,"mousedown",this._onTapStart),Bt(i,"touchstart",this._onTapStart),Bt(i,"pointerdown",this._onTapStart),this.nativeDraggable&&(Bt(i,"dragover",this),Bt(i,"dragenter",this)),Array.prototype.forEach.call(i.querySelectorAll("[draggable]"),function(s){s.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),bl.splice(bl.indexOf(this.el),1),this.el=i=null},_hideClone:function(){if(!oo){if(In("hideClone",this),yt.eventCanceled)return;kt(Ve,"display","none"),this.options.removeCloneOnHide&&Ve.parentNode&&Ve.parentNode.removeChild(Ve),oo=!0}},_showClone:function(i){if(i.lastPutMode!=="clone"){this._hideClone();return}if(oo){if(In("showClone",this),yt.eventCanceled)return;gt.parentNode==Te&&!this.options.group.revertClone?Te.insertBefore(Ve,gt):zo?Te.insertBefore(Ve,zo):Te.appendChild(Ve),this.options.group.revertClone&&this.animate(gt,Ve),kt(Ve,"display",""),oo=!1}}};function sM(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function Ka(r,i,s,l,u,g,d,f){var p,k=r[vn],C=k.options.onMove,w;return window.CustomEvent&&!Zi&&!Ws?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=i,p.from=r,p.dragged=s,p.draggedRect=l,p.related=u||i,p.relatedRect=g||Pe(i),p.willInsertAfter=f,p.originalEvent=d,r.dispatchEvent(p),C&&(w=C.call(k,p,d)),w}function ru(r){r.draggable=!1}function aM(){yu=!1}function lM(r,i,s){var l=Pe(Lr(s.el,0,s.options,!0)),u=10;return i?r.clientX<l.left-u||r.clientY<l.top&&r.clientX<l.right:r.clientY<l.top-u||r.clientY<l.bottom&&r.clientX<l.left}function cM(r,i,s){var l=Pe($u(s.el,s.options.draggable)),u=10;return i?r.clientX>l.right+u||r.clientX<=l.right&&r.clientY>l.bottom&&r.clientX>=l.left:r.clientX>l.right&&r.clientY>l.top||r.clientX<=l.right&&r.clientY>l.bottom+u}function dM(r,i,s,l,u,g,d,f){var p=l?r.clientY:r.clientX,k=l?s.height:s.width,C=l?s.top:s.left,w=l?s.bottom:s.right,x=!1;if(!d){if(f&&ul<k*u){if(!Ps&&(Ts===1?p>C+k*g/2:p<w-k*g/2)&&(Ps=!0),Ps)x=!0;else if(Ts===1?p<C+ul:p>w-ul)return-Ts}else if(p>C+k*(1-u)/2&&p<w-k*(1-u)/2)return uM(i)}return x=x||d,x&&(p<C+k*g/2||p>w-k*g/2)?p>C+k/2?1:-1:0}function uM(r){return Ue(gt)<Ue(r)?1:-1}function hM(r){for(var i=r.tagName+r.className+r.src+r.href+r.textContent,s=i.length,l=0;s--;)l+=i.charCodeAt(s);return l.toString(36)}function gM(r){kl.length=0;for(var i=r.getElementsByTagName("input"),s=i.length;s--;){var l=i[s];l.checked&&kl.push(l)}}function hl(r){return setTimeout(r,0)}function xu(r){return clearTimeout(r)}Nl&&jt(document,"touchmove",function(r){(yt.active||Ir)&&r.cancelable&&r.preventDefault()});yt.utils={on:jt,off:Bt,css:kt,find:w0,is:function(i,s){return!!gi(i,s,i,!1)},extend:ZD,throttle:v0,closest:gi,toggleClass:ze,clone:Wu,index:Ue,nextTick:hl,cancelNextTick:xu,detectDirection:A0,getChild:Lr};yt.get=function(r){return r[vn]};yt.mount=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i[0].constructor===Array&&(i=i[0]),i.forEach(function(l){if(!l.prototype||!l.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(l));l.utils&&(yt.utils=Ti(Ti({},yt.utils),l.utils)),Gs.mount(l)})};yt.create=function(r,i){return new yt(r,i)};yt.version=GD;var Ke=[],As,Eu,Su=!1,su,au,wl,ys;function fM(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this))}return r.prototype={dragStarted:function(s){var l=s.originalEvent;this.sortable.nativeDraggable?jt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?jt(document,"pointermove",this._handleFallbackAutoScroll):l.touches?jt(document,"touchmove",this._handleFallbackAutoScroll):jt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(s){var l=s.originalEvent;!this.options.dragOverBubble&&!l.rootEl&&this._handleAutoScroll(l)},drop:function(){this.sortable.nativeDraggable?Bt(document,"dragover",this._handleAutoScroll):(Bt(document,"pointermove",this._handleFallbackAutoScroll),Bt(document,"touchmove",this._handleFallbackAutoScroll),Bt(document,"mousemove",this._handleFallbackAutoScroll)),zw(),gl(),qD()},nulling:function(){wl=Eu=As=Su=ys=su=au=null,Ke.length=0},_handleFallbackAutoScroll:function(s){this._handleAutoScroll(s,!0)},_handleAutoScroll:function(s,l){var u=this,g=(s.touches?s.touches[0]:s).clientX,d=(s.touches?s.touches[0]:s).clientY,f=document.elementFromPoint(g,d);if(wl=s,l||this.options.forceAutoScrollFallback||Ws||Zi||Ds){lu(s,this.options,f,l);var p=ro(f,!0);Su&&(!ys||g!==su||d!==au)&&(ys&&zw(),ys=setInterval(function(){var k=ro(document.elementFromPoint(g,d),!0);k!==p&&(p=k,gl()),lu(s,u.options,k,l)},10),su=g,au=d)}else{if(!this.options.bubbleScroll||ro(f,!0)===Mi()){gl();return}lu(s,this.options,ro(f,!1),!1)}}},ri(r,{pluginName:"scroll",initializeByDefault:!0})}function gl(){Ke.forEach(function(r){clearInterval(r.pid)}),Ke=[]}function zw(){clearInterval(ys)}var lu=v0(function(r,i,s,l){if(!!i.scroll){var u=(r.touches?r.touches[0]:r).clientX,g=(r.touches?r.touches[0]:r).clientY,d=i.scrollSensitivity,f=i.scrollSpeed,p=Mi(),k=!1,C;Eu!==s&&(Eu=s,gl(),As=i.scroll,C=i.scrollFn,As===!0&&(As=ro(s,!0)));var w=0,x=As;do{var E=x,D=Pe(E),I=D.top,P=D.bottom,B=D.left,z=D.right,U=D.width,R=D.height,F=void 0,H=void 0,$=E.scrollWidth,G=E.scrollHeight,V=kt(E),Q=E.scrollLeft,nt=E.scrollTop;E===p?(F=U<$&&(V.overflowX==="auto"||V.overflowX==="scroll"||V.overflowX==="visible"),H=R<G&&(V.overflowY==="auto"||V.overflowY==="scroll"||V.overflowY==="visible")):(F=U<$&&(V.overflowX==="auto"||V.overflowX==="scroll"),H=R<G&&(V.overflowY==="auto"||V.overflowY==="scroll"));var J=F&&(Math.abs(z-u)<=d&&Q+U<$)-(Math.abs(B-u)<=d&&!!Q),X=H&&(Math.abs(P-g)<=d&&nt+R<G)-(Math.abs(I-g)<=d&&!!nt);if(!Ke[w])for(var lt=0;lt<=w;lt++)Ke[lt]||(Ke[lt]={});(Ke[w].vx!=J||Ke[w].vy!=X||Ke[w].el!==E)&&(Ke[w].el=E,Ke[w].vx=J,Ke[w].vy=X,clearInterval(Ke[w].pid),(J!=0||X!=0)&&(k=!0,Ke[w].pid=setInterval(function(){l&&this.layer===0&&yt.active._onTouchMove(wl);var ot=Ke[this.layer].vy?Ke[this.layer].vy*f:0,rt=Ke[this.layer].vx?Ke[this.layer].vx*f:0;typeof C=="function"&&C.call(yt.dragged.parentNode[vn],rt,ot,r,wl,Ke[this.layer].el)!=="continue"||C0(Ke[this.layer].el,rt,ot)}.bind({layer:w}),24))),w++}while(i.bubbleScroll&&x!==p&&(x=ro(x,!1)));Su=k}},30),S0=function(i){var s=i.originalEvent,l=i.putSortable,u=i.dragEl,g=i.activeSortable,d=i.dispatchSortableEvent,f=i.hideGhostForTarget,p=i.unhideGhostForTarget;if(!!s){var k=l||g;f();var C=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:s,w=document.elementFromPoint(C.clientX,C.clientY);p(),k&&!k.el.contains(w)&&(d("spill"),this.onSpill({dragEl:u,putSortable:l}))}};function Gu(){}Gu.prototype={startIndex:null,dragStart:function(i){var s=i.oldDraggableIndex;this.startIndex=s},onSpill:function(i){var s=i.dragEl,l=i.putSortable;this.sortable.captureAnimationState(),l&&l.captureAnimationState();var u=Lr(this.sortable.el,this.startIndex,this.options);u?this.sortable.el.insertBefore(s,u):this.sortable.el.appendChild(s),this.sortable.animateAll(),l&&l.animateAll()},drop:S0};ri(Gu,{pluginName:"revertOnSpill"});function Yu(){}Yu.prototype={onSpill:function(i){var s=i.dragEl,l=i.putSortable,u=l||this.sortable;u.captureAnimationState(),s.parentNode&&s.parentNode.removeChild(s),u.animateAll()},drop:S0};ri(Yu,{pluginName:"removeOnSpill"});var ei;function pM(){function r(){this.defaults={swapClass:"sortable-swap-highlight"}}return r.prototype={dragStart:function(s){var l=s.dragEl;ei=l},dragOverValid:function(s){var l=s.completed,u=s.target,g=s.onMove,d=s.activeSortable,f=s.changed,p=s.cancel;if(!!d.options.swap){var k=this.sortable.el,C=this.options;if(u&&u!==k){var w=ei;g(u)!==!1?(ze(u,C.swapClass,!0),ei=u):ei=null,w&&w!==ei&&ze(w,C.swapClass,!1)}f(),l(!0),p()}},drop:function(s){var l=s.activeSortable,u=s.putSortable,g=s.dragEl,d=u||this.sortable,f=this.options;ei&&ze(ei,f.swapClass,!1),ei&&(f.swap||u&&u.options.swap)&&g!==ei&&(d.captureAnimationState(),d!==l&&l.captureAnimationState(),mM(g,ei),d.animateAll(),d!==l&&l.animateAll())},nulling:function(){ei=null}},ri(r,{pluginName:"swap",eventProperties:function(){return{swapItem:ei}}})}function mM(r,i){var s=r.parentNode,l=i.parentNode,u,g;!s||!l||s.isEqualNode(i)||l.isEqualNode(r)||(u=Ue(r),g=Ue(i),s.isEqualNode(l)&&u<g&&g++,s.insertBefore(i,s.children[u]),l.insertBefore(r,l.children[g]))}var Mt=[],Vn=[],hs,hi,gs=!1,Tn=!1,xr=!1,we,fs,Qa;function bM(){function r(i){for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));i.options.supportPointer?jt(document,"pointerup",this._deselectMultiDrag):(jt(document,"mouseup",this._deselectMultiDrag),jt(document,"touchend",this._deselectMultiDrag)),jt(document,"keydown",this._checkKeyDown),jt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(u,g){var d="";Mt.length&&hi===i?Mt.forEach(function(f,p){d+=(p?", ":"")+f.textContent}):d=g.textContent,u.setData("Text",d)}}}return r.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(s){var l=s.dragEl;we=l},delayEnded:function(){this.isMultiDrag=~Mt.indexOf(we)},setupClone:function(s){var l=s.sortable,u=s.cancel;if(!!this.isMultiDrag){for(var g=0;g<Mt.length;g++)Vn.push(Wu(Mt[g])),Vn[g].sortableIndex=Mt[g].sortableIndex,Vn[g].draggable=!1,Vn[g].style["will-change"]="",ze(Vn[g],this.options.selectedClass,!1),Mt[g]===we&&ze(Vn[g],this.options.chosenClass,!1);l._hideClone(),u()}},clone:function(s){var l=s.sortable,u=s.rootEl,g=s.dispatchSortableEvent,d=s.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Mt.length&&hi===l&&(Rw(!0,u),g("clone"),d())},showClone:function(s){var l=s.cloneNowShown,u=s.rootEl,g=s.cancel;!this.isMultiDrag||(Rw(!1,u),Vn.forEach(function(d){kt(d,"display","")}),l(),Qa=!1,g())},hideClone:function(s){var l=this;s.sortable;var u=s.cloneNowHidden,g=s.cancel;!this.isMultiDrag||(Vn.forEach(function(d){kt(d,"display","none"),l.options.removeCloneOnHide&&d.parentNode&&d.parentNode.removeChild(d)}),u(),Qa=!0,g())},dragStartGlobal:function(s){s.sortable,!this.isMultiDrag&&hi&&hi.multiDrag._deselectMultiDrag(),Mt.forEach(function(l){l.sortableIndex=Ue(l)}),Mt=Mt.sort(function(l,u){return l.sortableIndex-u.sortableIndex}),xr=!0},dragStarted:function(s){var l=this,u=s.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(u.captureAnimationState(),this.options.animation)){Mt.forEach(function(d){d!==we&&kt(d,"position","absolute")});var g=Pe(we,!1,!0,!0);Mt.forEach(function(d){d!==we&&Ow(d,g)}),Tn=!0,gs=!0}u.animateAll(function(){Tn=!1,gs=!1,l.options.animation&&Mt.forEach(function(d){tu(d)}),l.options.sort&&Za()})}},dragOver:function(s){var l=s.target,u=s.completed,g=s.cancel;Tn&&~Mt.indexOf(l)&&(u(!1),g())},revert:function(s){var l=s.fromSortable,u=s.rootEl,g=s.sortable,d=s.dragRect;Mt.length>1&&(Mt.forEach(function(f){g.addAnimationState({target:f,rect:Tn?Pe(f):d}),tu(f),f.fromRect=d,l.removeAnimationState(f)}),Tn=!1,kM(!this.options.removeCloneOnHide,u))},dragOverCompleted:function(s){var l=s.sortable,u=s.isOwner,g=s.insertion,d=s.activeSortable,f=s.parentEl,p=s.putSortable,k=this.options;if(g){if(u&&d._hideClone(),gs=!1,k.animation&&Mt.length>1&&(Tn||!u&&!d.options.sort&&!p)){var C=Pe(we,!1,!0,!0);Mt.forEach(function(x){x!==we&&(Ow(x,C),f.appendChild(x))}),Tn=!0}if(!u)if(Tn||Za(),Mt.length>1){var w=Qa;d._showClone(l),d.options.animation&&!Qa&&w&&Vn.forEach(function(x){d.addAnimationState({target:x,rect:fs}),x.fromRect=fs,x.thisAnimationDuration=null})}else d._showClone(l)}},dragOverAnimationCapture:function(s){var l=s.dragRect,u=s.isOwner,g=s.activeSortable;if(Mt.forEach(function(f){f.thisAnimationDuration=null}),g.options.animation&&!u&&g.multiDrag.isMultiDrag){fs=ri({},l);var d=Fo(we,!0);fs.top-=d.f,fs.left-=d.e}},dragOverAnimationComplete:function(){Tn&&(Tn=!1,Za())},drop:function(s){var l=s.originalEvent,u=s.rootEl,g=s.parentEl,d=s.sortable,f=s.dispatchSortableEvent,p=s.oldIndex,k=s.putSortable,C=k||this.sortable;if(!!l){var w=this.options,x=g.children;if(!xr)if(w.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),ze(we,w.selectedClass,!~Mt.indexOf(we)),~Mt.indexOf(we))Mt.splice(Mt.indexOf(we),1),hs=null,Cs({sortable:d,rootEl:u,name:"deselect",targetEl:we,originalEvt:l});else{if(Mt.push(we),Cs({sortable:d,rootEl:u,name:"select",targetEl:we,originalEvt:l}),l.shiftKey&&hs&&d.el.contains(hs)){var E=Ue(hs),D=Ue(we);if(~E&&~D&&E!==D){var I,P;for(D>E?(P=E,I=D):(P=D,I=E+1);P<I;P++)~Mt.indexOf(x[P])||(ze(x[P],w.selectedClass,!0),Mt.push(x[P]),Cs({sortable:d,rootEl:u,name:"select",targetEl:x[P],originalEvt:l}))}}else hs=we;hi=C}if(xr&&this.isMultiDrag){if(Tn=!1,(g[vn].options.sort||g!==u)&&Mt.length>1){var B=Pe(we),z=Ue(we,":not(."+this.options.selectedClass+")");if(!gs&&w.animation&&(we.thisAnimationDuration=null),C.captureAnimationState(),!gs&&(w.animation&&(we.fromRect=B,Mt.forEach(function(R){if(R.thisAnimationDuration=null,R!==we){var F=Tn?Pe(R):B;R.fromRect=F,C.addAnimationState({target:R,rect:F})}})),Za(),Mt.forEach(function(R){x[z]?g.insertBefore(R,x[z]):g.appendChild(R),z++}),p===Ue(we))){var U=!1;Mt.forEach(function(R){if(R.sortableIndex!==Ue(R)){U=!0;return}}),U&&f("update")}Mt.forEach(function(R){tu(R)}),C.animateAll()}hi=C}(u===g||k&&k.lastPutMode!=="clone")&&Vn.forEach(function(R){R.parentNode&&R.parentNode.removeChild(R)})}},nullingGlobal:function(){this.isMultiDrag=xr=!1,Vn.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Bt(document,"pointerup",this._deselectMultiDrag),Bt(document,"mouseup",this._deselectMultiDrag),Bt(document,"touchend",this._deselectMultiDrag),Bt(document,"keydown",this._checkKeyDown),Bt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(s){if(!(typeof xr<"u"&&xr)&&hi===this.sortable&&!(s&&gi(s.target,this.options.draggable,this.sortable.el,!1))&&!(s&&s.button!==0))for(;Mt.length;){var l=Mt[0];ze(l,this.options.selectedClass,!1),Mt.shift(),Cs({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:l,originalEvt:s})}},_checkKeyDown:function(s){s.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(s){s.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ri(r,{pluginName:"multiDrag",utils:{select:function(s){var l=s.parentNode[vn];!l||!l.options.multiDrag||~Mt.indexOf(s)||(hi&&hi!==l&&(hi.multiDrag._deselectMultiDrag(),hi=l),ze(s,l.options.selectedClass,!0),Mt.push(s))},deselect:function(s){var l=s.parentNode[vn],u=Mt.indexOf(s);!l||!l.options.multiDrag||!~u||(ze(s,l.options.selectedClass,!1),Mt.splice(u,1))}},eventProperties:function(){var s=this,l=[],u=[];return Mt.forEach(function(g){l.push({multiDragElement:g,index:g.sortableIndex});var d;Tn&&g!==we?d=-1:Tn?d=Ue(g,":not(."+s.options.selectedClass+")"):d=Ue(g),u.push({multiDragElement:g,index:d})}),{items:VD(Mt),clones:[].concat(Vn),oldIndicies:l,newIndicies:u}},optionListeners:{multiDragKey:function(s){return s=s.toLowerCase(),s==="ctrl"?s="Control":s.length>1&&(s=s.charAt(0).toUpperCase()+s.substr(1)),s}}})}function kM(r,i){Mt.forEach(function(s,l){var u=i.children[s.sortableIndex+(r?Number(l):0)];u?i.insertBefore(s,u):i.appendChild(s)})}function Rw(r,i){Vn.forEach(function(s,l){var u=i.children[s.sortableIndex+(r?Number(l):0)];u?i.insertBefore(s,u):i.appendChild(s)})}function Za(){Mt.forEach(function(r){r!==we&&r.parentNode&&r.parentNode.removeChild(r)})}yt.mount(new fM);yt.mount(Yu,Gu);const wM=Object.freeze(Object.defineProperty({__proto__:null,default:yt,MultiDrag:bM,Sortable:yt,Swap:pM},Symbol.toStringTag,{value:"Module"})),vM=d0(wM);(function(r,i){(function(l,u){r.exports=u(m0,vM)})(typeof self<"u"?self:Tr,function(s,l){return function(u){var g={};function d(f){if(g[f])return g[f].exports;var p=g[f]={i:f,l:!1,exports:{}};return u[f].call(p.exports,p,p.exports,d),p.l=!0,p.exports}return d.m=u,d.c=g,d.d=function(f,p,k){d.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:k})},d.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},d.t=function(f,p){if(p&1&&(f=d(f)),p&8||p&4&&typeof f=="object"&&f&&f.__esModule)return f;var k=Object.create(null);if(d.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),p&2&&typeof f!="string")for(var C in f)d.d(k,C,function(w){return f[w]}.bind(null,C));return k},d.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return d.d(p,"a",p),p},d.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},d.p="",d(d.s="fb15")}({"00ee":function(u,g,d){var f=d("b622"),p=f("toStringTag"),k={};k[p]="z",u.exports=String(k)==="[object z]"},"0366":function(u,g,d){var f=d("1c0b");u.exports=function(p,k,C){if(f(p),k===void 0)return p;switch(C){case 0:return function(){return p.call(k)};case 1:return function(w){return p.call(k,w)};case 2:return function(w,x){return p.call(k,w,x)};case 3:return function(w,x,E){return p.call(k,w,x,E)}}return function(){return p.apply(k,arguments)}}},"057f":function(u,g,d){var f=d("fc6a"),p=d("241c").f,k={}.toString,C=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],w=function(x){try{return p(x)}catch{return C.slice()}};u.exports.f=function(E){return C&&k.call(E)=="[object Window]"?w(E):p(f(E))}},"06cf":function(u,g,d){var f=d("83ab"),p=d("d1e7"),k=d("5c6c"),C=d("fc6a"),w=d("c04e"),x=d("5135"),E=d("0cfb"),D=Object.getOwnPropertyDescriptor;g.f=f?D:function(P,B){if(P=C(P),B=w(B,!0),E)try{return D(P,B)}catch{}if(x(P,B))return k(!p.f.call(P,B),P[B])}},"0cfb":function(u,g,d){var f=d("83ab"),p=d("d039"),k=d("cc12");u.exports=!f&&!p(function(){return Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(u,g,d){var f=d("23e7"),p=d("d58f").left,k=d("a640"),C=d("ae40"),w=k("reduce"),x=C("reduce",{1:0});f({target:"Array",proto:!0,forced:!w||!x},{reduce:function(D){return p(this,D,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(u,g,d){var f=d("c6b6"),p=d("9263");u.exports=function(k,C){var w=k.exec;if(typeof w=="function"){var x=w.call(k,C);if(typeof x!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return x}if(f(k)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return p.call(k,C)}},"159b":function(u,g,d){var f=d("da84"),p=d("fdbc"),k=d("17c2"),C=d("9112");for(var w in p){var x=f[w],E=x&&x.prototype;if(E&&E.forEach!==k)try{C(E,"forEach",k)}catch{E.forEach=k}}},"17c2":function(u,g,d){var f=d("b727").forEach,p=d("a640"),k=d("ae40"),C=p("forEach"),w=k("forEach");u.exports=!C||!w?function(E){return f(this,E,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(u,g,d){var f=d("d066");u.exports=f("document","documentElement")},"1c0b":function(u,g){u.exports=function(d){if(typeof d!="function")throw TypeError(String(d)+" is not a function");return d}},"1c7e":function(u,g,d){var f=d("b622"),p=f("iterator"),k=!1;try{var C=0,w={next:function(){return{done:!!C++}},return:function(){k=!0}};w[p]=function(){return this},Array.from(w,function(){throw 2})}catch{}u.exports=function(x,E){if(!E&&!k)return!1;var D=!1;try{var I={};I[p]=function(){return{next:function(){return{done:D=!0}}}},x(I)}catch{}return D}},"1d80":function(u,g){u.exports=function(d){if(d==null)throw TypeError("Can't call method on "+d);return d}},"1dde":function(u,g,d){var f=d("d039"),p=d("b622"),k=d("2d00"),C=p("species");u.exports=function(w){return k>=51||!f(function(){var x=[],E=x.constructor={};return E[C]=function(){return{foo:1}},x[w](Boolean).foo!==1})}},"23cb":function(u,g,d){var f=d("a691"),p=Math.max,k=Math.min;u.exports=function(C,w){var x=f(C);return x<0?p(x+w,0):k(x,w)}},"23e7":function(u,g,d){var f=d("da84"),p=d("06cf").f,k=d("9112"),C=d("6eeb"),w=d("ce4e"),x=d("e893"),E=d("94ca");u.exports=function(D,I){var P=D.target,B=D.global,z=D.stat,U,R,F,H,$,G;if(B?R=f:z?R=f[P]||w(P,{}):R=(f[P]||{}).prototype,R)for(F in I){if($=I[F],D.noTargetGet?(G=p(R,F),H=G&&G.value):H=R[F],U=E(B?F:P+(z?".":"#")+F,D.forced),!U&&H!==void 0){if(typeof $==typeof H)continue;x($,H)}(D.sham||H&&H.sham)&&k($,"sham",!0),C(R,F,$,D)}}},"241c":function(u,g,d){var f=d("ca84"),p=d("7839"),k=p.concat("length","prototype");g.f=Object.getOwnPropertyNames||function(w){return f(w,k)}},"25f0":function(u,g,d){var f=d("6eeb"),p=d("825a"),k=d("d039"),C=d("ad6d"),w="toString",x=RegExp.prototype,E=x[w],D=k(function(){return E.call({source:"a",flags:"b"})!="/a/b"}),I=E.name!=w;(D||I)&&f(RegExp.prototype,w,function(){var B=p(this),z=String(B.source),U=B.flags,R=String(U===void 0&&B instanceof RegExp&&!("flags"in x)?C.call(B):U);return"/"+z+"/"+R},{unsafe:!0})},"2ca0":function(u,g,d){var f=d("23e7"),p=d("06cf").f,k=d("50c4"),C=d("5a34"),w=d("1d80"),x=d("ab13"),E=d("c430"),D="".startsWith,I=Math.min,P=x("startsWith"),B=!E&&!P&&!!function(){var z=p(String.prototype,"startsWith");return z&&!z.writable}();f({target:"String",proto:!0,forced:!B&&!P},{startsWith:function(U){var R=String(w(this));C(U);var F=k(I(arguments.length>1?arguments[1]:void 0,R.length)),H=String(U);return D?D.call(R,H,F):R.slice(F,F+H.length)===H}})},"2d00":function(u,g,d){var f=d("da84"),p=d("342f"),k=f.process,C=k&&k.versions,w=C&&C.v8,x,E;w?(x=w.split("."),E=x[0]+x[1]):p&&(x=p.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=p.match(/Chrome\/(\d+)/),x&&(E=x[1]))),u.exports=E&&+E},"342f":function(u,g,d){var f=d("d066");u.exports=f("navigator","userAgent")||""},"35a1":function(u,g,d){var f=d("f5df"),p=d("3f8c"),k=d("b622"),C=k("iterator");u.exports=function(w){if(w!=null)return w[C]||w["@@iterator"]||p[f(w)]}},"37e8":function(u,g,d){var f=d("83ab"),p=d("9bf2"),k=d("825a"),C=d("df75");u.exports=f?Object.defineProperties:function(x,E){k(x);for(var D=C(E),I=D.length,P=0,B;I>P;)p.f(x,B=D[P++],E[B]);return x}},"3bbe":function(u,g,d){var f=d("861d");u.exports=function(p){if(!f(p)&&p!==null)throw TypeError("Can't set "+String(p)+" as a prototype");return p}},"3ca3":function(u,g,d){var f=d("6547").charAt,p=d("69f3"),k=d("7dd0"),C="String Iterator",w=p.set,x=p.getterFor(C);k(String,"String",function(E){w(this,{type:C,string:String(E),index:0})},function(){var D=x(this),I=D.string,P=D.index,B;return P>=I.length?{value:void 0,done:!0}:(B=f(I,P),D.index+=B.length,{value:B,done:!1})})},"3f8c":function(u,g){u.exports={}},4160:function(u,g,d){var f=d("23e7"),p=d("17c2");f({target:"Array",proto:!0,forced:[].forEach!=p},{forEach:p})},"428f":function(u,g,d){var f=d("da84");u.exports=f},"44ad":function(u,g,d){var f=d("d039"),p=d("c6b6"),k="".split;u.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(C){return p(C)=="String"?k.call(C,""):Object(C)}:Object},"44d2":function(u,g,d){var f=d("b622"),p=d("7c73"),k=d("9bf2"),C=f("unscopables"),w=Array.prototype;w[C]==null&&k.f(w,C,{configurable:!0,value:p(null)}),u.exports=function(x){w[C][x]=!0}},"44e7":function(u,g,d){var f=d("861d"),p=d("c6b6"),k=d("b622"),C=k("match");u.exports=function(w){var x;return f(w)&&((x=w[C])!==void 0?!!x:p(w)=="RegExp")}},4930:function(u,g,d){var f=d("d039");u.exports=!!Object.getOwnPropertySymbols&&!f(function(){return!String(Symbol())})},"4d64":function(u,g,d){var f=d("fc6a"),p=d("50c4"),k=d("23cb"),C=function(w){return function(x,E,D){var I=f(x),P=p(I.length),B=k(D,P),z;if(w&&E!=E){for(;P>B;)if(z=I[B++],z!=z)return!0}else for(;P>B;B++)if((w||B in I)&&I[B]===E)return w||B||0;return!w&&-1}};u.exports={includes:C(!0),indexOf:C(!1)}},"4de4":function(u,g,d){var f=d("23e7"),p=d("b727").filter,k=d("1dde"),C=d("ae40"),w=k("filter"),x=C("filter");f({target:"Array",proto:!0,forced:!w||!x},{filter:function(D){return p(this,D,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(u,g,d){var f=d("0366"),p=d("7b0b"),k=d("9bdd"),C=d("e95a"),w=d("50c4"),x=d("8418"),E=d("35a1");u.exports=function(I){var P=p(I),B=typeof this=="function"?this:Array,z=arguments.length,U=z>1?arguments[1]:void 0,R=U!==void 0,F=E(P),H=0,$,G,V,Q,nt,J;if(R&&(U=f(U,z>2?arguments[2]:void 0,2)),F!=null&&!(B==Array&&C(F)))for(Q=F.call(P),nt=Q.next,G=new B;!(V=nt.call(Q)).done;H++)J=R?k(Q,U,[V.value,H],!0):V.value,x(G,H,J);else for($=w(P.length),G=new B($);$>H;H++)J=R?U(P[H],H):P[H],x(G,H,J);return G.length=H,G}},"4fad":function(u,g,d){var f=d("23e7"),p=d("6f53").entries;f({target:"Object",stat:!0},{entries:function(C){return p(C)}})},"50c4":function(u,g,d){var f=d("a691"),p=Math.min;u.exports=function(k){return k>0?p(f(k),9007199254740991):0}},5135:function(u,g){var d={}.hasOwnProperty;u.exports=function(f,p){return d.call(f,p)}},5319:function(u,g,d){var f=d("d784"),p=d("825a"),k=d("7b0b"),C=d("50c4"),w=d("a691"),x=d("1d80"),E=d("8aa5"),D=d("14c3"),I=Math.max,P=Math.min,B=Math.floor,z=/\$([$&'`]|\d\d?|<[^>]*>)/g,U=/\$([$&'`]|\d\d?)/g,R=function(F){return F===void 0?F:String(F)};f("replace",2,function(F,H,$,G){var V=G.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Q=G.REPLACE_KEEPS_$0,nt=V?"$":"$0";return[function(lt,ot){var rt=x(this),ht=lt==null?void 0:lt[F];return ht!==void 0?ht.call(lt,rt,ot):H.call(String(rt),lt,ot)},function(X,lt){if(!V&&Q||typeof lt=="string"&&lt.indexOf(nt)===-1){var ot=$(H,X,this,lt);if(ot.done)return ot.value}var rt=p(X),ht=String(this),Dt=typeof lt=="function";Dt||(lt=String(lt));var Gt=rt.global;if(Gt){var Yt=rt.unicode;rt.lastIndex=0}for(var Kt=[];;){var Ut=D(rt,ht);if(Ut===null||(Kt.push(Ut),!Gt))break;var Xt=String(Ut[0]);Xt===""&&(rt.lastIndex=E(ht,C(rt.lastIndex),Yt))}for(var he="",it=0,pt=0;pt<Kt.length;pt++){Ut=Kt[pt];for(var St=String(Ut[0]),re=I(P(w(Ut.index),ht.length),0),Ae=[],rn=1;rn<Ut.length;rn++)Ae.push(R(Ut[rn]));var $e=Ut.groups;if(Dt){var Ne=[St].concat(Ae,re,ht);$e!==void 0&&Ne.push($e);var ge=String(lt.apply(void 0,Ne))}else ge=J(St,ht,re,Ae,$e,lt);re>=it&&(he+=ht.slice(it,re)+ge,it=re+St.length)}return he+ht.slice(it)}];function J(X,lt,ot,rt,ht,Dt){var Gt=ot+X.length,Yt=rt.length,Kt=U;return ht!==void 0&&(ht=k(ht),Kt=z),H.call(Dt,Kt,function(Ut,Xt){var he;switch(Xt.charAt(0)){case"$":return"$";case"&":return X;case"`":return lt.slice(0,ot);case"'":return lt.slice(Gt);case"<":he=ht[Xt.slice(1,-1)];break;default:var it=+Xt;if(it===0)return Ut;if(it>Yt){var pt=B(it/10);return pt===0?Ut:pt<=Yt?rt[pt-1]===void 0?Xt.charAt(1):rt[pt-1]+Xt.charAt(1):Ut}he=rt[it-1]}return he===void 0?"":he})}})},5692:function(u,g,d){var f=d("c430"),p=d("c6cd");(u.exports=function(k,C){return p[k]||(p[k]=C!==void 0?C:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(u,g,d){var f=d("d066"),p=d("241c"),k=d("7418"),C=d("825a");u.exports=f("Reflect","ownKeys")||function(x){var E=p.f(C(x)),D=k.f;return D?E.concat(D(x)):E}},"5a34":function(u,g,d){var f=d("44e7");u.exports=function(p){if(f(p))throw TypeError("The method doesn't accept regular expressions");return p}},"5c6c":function(u,g){u.exports=function(d,f){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:f}}},"5db7":function(u,g,d){var f=d("23e7"),p=d("a2bf"),k=d("7b0b"),C=d("50c4"),w=d("1c0b"),x=d("65f0");f({target:"Array",proto:!0},{flatMap:function(D){var I=k(this),P=C(I.length),B;return w(D),B=x(I,0),B.length=p(B,I,I,P,0,1,D,arguments.length>1?arguments[1]:void 0),B}})},6547:function(u,g,d){var f=d("a691"),p=d("1d80"),k=function(C){return function(w,x){var E=String(p(w)),D=f(x),I=E.length,P,B;return D<0||D>=I?C?"":void 0:(P=E.charCodeAt(D),P<55296||P>56319||D+1===I||(B=E.charCodeAt(D+1))<56320||B>57343?C?E.charAt(D):P:C?E.slice(D,D+2):(P-55296<<10)+(B-56320)+65536)}};u.exports={codeAt:k(!1),charAt:k(!0)}},"65f0":function(u,g,d){var f=d("861d"),p=d("e8b5"),k=d("b622"),C=k("species");u.exports=function(w,x){var E;return p(w)&&(E=w.constructor,typeof E=="function"&&(E===Array||p(E.prototype))?E=void 0:f(E)&&(E=E[C],E===null&&(E=void 0))),new(E===void 0?Array:E)(x===0?0:x)}},"69f3":function(u,g,d){var f=d("7f9a"),p=d("da84"),k=d("861d"),C=d("9112"),w=d("5135"),x=d("f772"),E=d("d012"),D=p.WeakMap,I,P,B,z=function(V){return B(V)?P(V):I(V,{})},U=function(V){return function(Q){var nt;if(!k(Q)||(nt=P(Q)).type!==V)throw TypeError("Incompatible receiver, "+V+" required");return nt}};if(f){var R=new D,F=R.get,H=R.has,$=R.set;I=function(V,Q){return $.call(R,V,Q),Q},P=function(V){return F.call(R,V)||{}},B=function(V){return H.call(R,V)}}else{var G=x("state");E[G]=!0,I=function(V,Q){return C(V,G,Q),Q},P=function(V){return w(V,G)?V[G]:{}},B=function(V){return w(V,G)}}u.exports={set:I,get:P,has:B,enforce:z,getterFor:U}},"6eeb":function(u,g,d){var f=d("da84"),p=d("9112"),k=d("5135"),C=d("ce4e"),w=d("8925"),x=d("69f3"),E=x.get,D=x.enforce,I=String(String).split("String");(u.exports=function(P,B,z,U){var R=U?!!U.unsafe:!1,F=U?!!U.enumerable:!1,H=U?!!U.noTargetGet:!1;if(typeof z=="function"&&(typeof B=="string"&&!k(z,"name")&&p(z,"name",B),D(z).source=I.join(typeof B=="string"?B:"")),P===f){F?P[B]=z:C(B,z);return}else R?!H&&P[B]&&(F=!0):delete P[B];F?P[B]=z:p(P,B,z)})(Function.prototype,"toString",function(){return typeof this=="function"&&E(this).source||w(this)})},"6f53":function(u,g,d){var f=d("83ab"),p=d("df75"),k=d("fc6a"),C=d("d1e7").f,w=function(x){return function(E){for(var D=k(E),I=p(D),P=I.length,B=0,z=[],U;P>B;)U=I[B++],(!f||C.call(D,U))&&z.push(x?[U,D[U]]:D[U]);return z}};u.exports={entries:w(!0),values:w(!1)}},"73d9":function(u,g,d){var f=d("44d2");f("flatMap")},7418:function(u,g){g.f=Object.getOwnPropertySymbols},"746f":function(u,g,d){var f=d("428f"),p=d("5135"),k=d("e538"),C=d("9bf2").f;u.exports=function(w){var x=f.Symbol||(f.Symbol={});p(x,w)||C(x,w,{value:k.f(w)})}},7839:function(u,g){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(u,g,d){var f=d("1d80");u.exports=function(p){return Object(f(p))}},"7c73":function(u,g,d){var f=d("825a"),p=d("37e8"),k=d("7839"),C=d("d012"),w=d("1be4"),x=d("cc12"),E=d("f772"),D=">",I="<",P="prototype",B="script",z=E("IE_PROTO"),U=function(){},R=function(V){return I+B+D+V+I+"/"+B+D},F=function(V){V.write(R("")),V.close();var Q=V.parentWindow.Object;return V=null,Q},H=function(){var V=x("iframe"),Q="java"+B+":",nt;return V.style.display="none",w.appendChild(V),V.src=String(Q),nt=V.contentWindow.document,nt.open(),nt.write(R("document.F=Object")),nt.close(),nt.F},$,G=function(){try{$=document.domain&&new ActiveXObject("htmlfile")}catch{}G=$?F($):H();for(var V=k.length;V--;)delete G[P][k[V]];return G()};C[z]=!0,u.exports=Object.create||function(Q,nt){var J;return Q!==null?(U[P]=f(Q),J=new U,U[P]=null,J[z]=Q):J=G(),nt===void 0?J:p(J,nt)}},"7dd0":function(u,g,d){var f=d("23e7"),p=d("9ed3"),k=d("e163"),C=d("d2bb"),w=d("d44e"),x=d("9112"),E=d("6eeb"),D=d("b622"),I=d("c430"),P=d("3f8c"),B=d("ae93"),z=B.IteratorPrototype,U=B.BUGGY_SAFARI_ITERATORS,R=D("iterator"),F="keys",H="values",$="entries",G=function(){return this};u.exports=function(V,Q,nt,J,X,lt,ot){p(nt,Q,J);var rt=function(pt){if(pt===X&&Kt)return Kt;if(!U&&pt in Gt)return Gt[pt];switch(pt){case F:return function(){return new nt(this,pt)};case H:return function(){return new nt(this,pt)};case $:return function(){return new nt(this,pt)}}return function(){return new nt(this)}},ht=Q+" Iterator",Dt=!1,Gt=V.prototype,Yt=Gt[R]||Gt["@@iterator"]||X&&Gt[X],Kt=!U&&Yt||rt(X),Ut=Q=="Array"&&Gt.entries||Yt,Xt,he,it;if(Ut&&(Xt=k(Ut.call(new V)),z!==Object.prototype&&Xt.next&&(!I&&k(Xt)!==z&&(C?C(Xt,z):typeof Xt[R]!="function"&&x(Xt,R,G)),w(Xt,ht,!0,!0),I&&(P[ht]=G))),X==H&&Yt&&Yt.name!==H&&(Dt=!0,Kt=function(){return Yt.call(this)}),(!I||ot)&&Gt[R]!==Kt&&x(Gt,R,Kt),P[Q]=Kt,X)if(he={values:rt(H),keys:lt?Kt:rt(F),entries:rt($)},ot)for(it in he)(U||Dt||!(it in Gt))&&E(Gt,it,he[it]);else f({target:Q,proto:!0,forced:U||Dt},he);return he}},"7f9a":function(u,g,d){var f=d("da84"),p=d("8925"),k=f.WeakMap;u.exports=typeof k=="function"&&/native code/.test(p(k))},"825a":function(u,g,d){var f=d("861d");u.exports=function(p){if(!f(p))throw TypeError(String(p)+" is not an object");return p}},"83ab":function(u,g,d){var f=d("d039");u.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(u,g,d){var f=d("c04e"),p=d("9bf2"),k=d("5c6c");u.exports=function(C,w,x){var E=f(w);E in C?p.f(C,E,k(0,x)):C[E]=x}},"861d":function(u,g){u.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}},8875:function(u,g,d){var f,p,k;(function(C,w){p=[],f=w,k=typeof f=="function"?f.apply(g,p):f,k!==void 0&&(u.exports=k)})(typeof self<"u"?self:this,function(){function C(){var w=Object.getOwnPropertyDescriptor(document,"currentScript");if(!w&&"currentScript"in document&&document.currentScript||w&&w.get!==C&&document.currentScript)return document.currentScript;try{throw new Error}catch($){var x=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,E=/@([^@]*):(\d+):(\d+)\s*$/ig,D=x.exec($.stack)||E.exec($.stack),I=D&&D[1]||!1,P=D&&D[2]||!1,B=document.location.href.replace(document.location.hash,""),z,U,R,F=document.getElementsByTagName("script");I===B&&(z=document.documentElement.outerHTML,U=new RegExp("(?:[^\\n]+?\\n){0,"+(P-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),R=z.replace(U,"$1").trim());for(var H=0;H<F.length;H++)if(F[H].readyState==="interactive"||F[H].src===I||I===B&&F[H].innerHTML&&F[H].innerHTML.trim()===R)return F[H];return null}}return C})},8925:function(u,g,d){var f=d("c6cd"),p=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(k){return p.call(k)}),u.exports=f.inspectSource},"8aa5":function(u,g,d){var f=d("6547").charAt;u.exports=function(p,k,C){return k+(C?f(p,k).length:1)}},"8bbf":function(u,g){u.exports=s},"90e3":function(u,g){var d=0,f=Math.random();u.exports=function(p){return"Symbol("+String(p===void 0?"":p)+")_"+(++d+f).toString(36)}},9112:function(u,g,d){var f=d("83ab"),p=d("9bf2"),k=d("5c6c");u.exports=f?function(C,w,x){return p.f(C,w,k(1,x))}:function(C,w,x){return C[w]=x,C}},9263:function(u,g,d){var f=d("ad6d"),p=d("9f7f"),k=RegExp.prototype.exec,C=String.prototype.replace,w=k,x=function(){var P=/a/,B=/b*/g;return k.call(P,"a"),k.call(B,"a"),P.lastIndex!==0||B.lastIndex!==0}(),E=p.UNSUPPORTED_Y||p.BROKEN_CARET,D=/()??/.exec("")[1]!==void 0,I=x||D||E;I&&(w=function(B){var z=this,U,R,F,H,$=E&&z.sticky,G=f.call(z),V=z.source,Q=0,nt=B;return $&&(G=G.replace("y",""),G.indexOf("g")===-1&&(G+="g"),nt=String(B).slice(z.lastIndex),z.lastIndex>0&&(!z.multiline||z.multiline&&B[z.lastIndex-1]!==`
`)&&(V="(?: "+V+")",nt=" "+nt,Q++),R=new RegExp("^(?:"+V+")",G)),D&&(R=new RegExp("^"+V+"$(?!\\s)",G)),x&&(U=z.lastIndex),F=k.call($?R:z,nt),$?F?(F.input=F.input.slice(Q),F[0]=F[0].slice(Q),F.index=z.lastIndex,z.lastIndex+=F[0].length):z.lastIndex=0:x&&F&&(z.lastIndex=z.global?F.index+F[0].length:U),D&&F&&F.length>1&&C.call(F[0],R,function(){for(H=1;H<arguments.length-2;H++)arguments[H]===void 0&&(F[H]=void 0)}),F}),u.exports=w},"94ca":function(u,g,d){var f=d("d039"),p=/#|\.prototype\./,k=function(D,I){var P=w[C(D)];return P==E?!0:P==x?!1:typeof I=="function"?f(I):!!I},C=k.normalize=function(D){return String(D).replace(p,".").toLowerCase()},w=k.data={},x=k.NATIVE="N",E=k.POLYFILL="P";u.exports=k},"99af":function(u,g,d){var f=d("23e7"),p=d("d039"),k=d("e8b5"),C=d("861d"),w=d("7b0b"),x=d("50c4"),E=d("8418"),D=d("65f0"),I=d("1dde"),P=d("b622"),B=d("2d00"),z=P("isConcatSpreadable"),U=9007199254740991,R="Maximum allowed index exceeded",F=B>=51||!p(function(){var V=[];return V[z]=!1,V.concat()[0]!==V}),H=I("concat"),$=function(V){if(!C(V))return!1;var Q=V[z];return Q!==void 0?!!Q:k(V)},G=!F||!H;f({target:"Array",proto:!0,forced:G},{concat:function(Q){var nt=w(this),J=D(nt,0),X=0,lt,ot,rt,ht,Dt;for(lt=-1,rt=arguments.length;lt<rt;lt++)if(Dt=lt===-1?nt:arguments[lt],$(Dt)){if(ht=x(Dt.length),X+ht>U)throw TypeError(R);for(ot=0;ot<ht;ot++,X++)ot in Dt&&E(J,X,Dt[ot])}else{if(X>=U)throw TypeError(R);E(J,X++,Dt)}return J.length=X,J}})},"9bdd":function(u,g,d){var f=d("825a");u.exports=function(p,k,C,w){try{return w?k(f(C)[0],C[1]):k(C)}catch(E){var x=p.return;throw x!==void 0&&f(x.call(p)),E}}},"9bf2":function(u,g,d){var f=d("83ab"),p=d("0cfb"),k=d("825a"),C=d("c04e"),w=Object.defineProperty;g.f=f?w:function(E,D,I){if(k(E),D=C(D,!0),k(I),p)try{return w(E,D,I)}catch{}if("get"in I||"set"in I)throw TypeError("Accessors not supported");return"value"in I&&(E[D]=I.value),E}},"9ed3":function(u,g,d){var f=d("ae93").IteratorPrototype,p=d("7c73"),k=d("5c6c"),C=d("d44e"),w=d("3f8c"),x=function(){return this};u.exports=function(E,D,I){var P=D+" Iterator";return E.prototype=p(f,{next:k(1,I)}),C(E,P,!1,!0),w[P]=x,E}},"9f7f":function(u,g,d){var f=d("d039");function p(k,C){return RegExp(k,C)}g.UNSUPPORTED_Y=f(function(){var k=p("a","y");return k.lastIndex=2,k.exec("abcd")!=null}),g.BROKEN_CARET=f(function(){var k=p("^r","gy");return k.lastIndex=2,k.exec("str")!=null})},a2bf:function(u,g,d){var f=d("e8b5"),p=d("50c4"),k=d("0366"),C=function(w,x,E,D,I,P,B,z){for(var U=I,R=0,F=B?k(B,z,3):!1,H;R<D;){if(R in E){if(H=F?F(E[R],R,x):E[R],P>0&&f(H))U=C(w,x,H,p(H.length),U,P-1)-1;else{if(U>=9007199254740991)throw TypeError("Exceed the acceptable array length");w[U]=H}U++}R++}return U};u.exports=C},a352:function(u,g){u.exports=l},a434:function(u,g,d){var f=d("23e7"),p=d("23cb"),k=d("a691"),C=d("50c4"),w=d("7b0b"),x=d("65f0"),E=d("8418"),D=d("1dde"),I=d("ae40"),P=D("splice"),B=I("splice",{ACCESSORS:!0,0:0,1:2}),z=Math.max,U=Math.min,R=9007199254740991,F="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!P||!B},{splice:function($,G){var V=w(this),Q=C(V.length),nt=p($,Q),J=arguments.length,X,lt,ot,rt,ht,Dt;if(J===0?X=lt=0:J===1?(X=0,lt=Q-nt):(X=J-2,lt=U(z(k(G),0),Q-nt)),Q+X-lt>R)throw TypeError(F);for(ot=x(V,lt),rt=0;rt<lt;rt++)ht=nt+rt,ht in V&&E(ot,rt,V[ht]);if(ot.length=lt,X<lt){for(rt=nt;rt<Q-lt;rt++)ht=rt+lt,Dt=rt+X,ht in V?V[Dt]=V[ht]:delete V[Dt];for(rt=Q;rt>Q-lt+X;rt--)delete V[rt-1]}else if(X>lt)for(rt=Q-lt;rt>nt;rt--)ht=rt+lt-1,Dt=rt+X-1,ht in V?V[Dt]=V[ht]:delete V[Dt];for(rt=0;rt<X;rt++)V[rt+nt]=arguments[rt+2];return V.length=Q-lt+X,ot}})},a4d3:function(u,g,d){var f=d("23e7"),p=d("da84"),k=d("d066"),C=d("c430"),w=d("83ab"),x=d("4930"),E=d("fdbf"),D=d("d039"),I=d("5135"),P=d("e8b5"),B=d("861d"),z=d("825a"),U=d("7b0b"),R=d("fc6a"),F=d("c04e"),H=d("5c6c"),$=d("7c73"),G=d("df75"),V=d("241c"),Q=d("057f"),nt=d("7418"),J=d("06cf"),X=d("9bf2"),lt=d("d1e7"),ot=d("9112"),rt=d("6eeb"),ht=d("5692"),Dt=d("f772"),Gt=d("d012"),Yt=d("90e3"),Kt=d("b622"),Ut=d("e538"),Xt=d("746f"),he=d("d44e"),it=d("69f3"),pt=d("b727").forEach,St=Dt("hidden"),re="Symbol",Ae="prototype",rn=Kt("toPrimitive"),$e=it.set,Ne=it.getterFor(re),ge=Object[Ae],ye=p.Symbol,Wn=k("JSON","stringify"),sn=J.f,hn=X.f,ki=Q.f,fo=lt.f,Re=ht("symbols"),Je=ht("op-symbols"),Bn=ht("string-to-symbol-registry"),An=ht("symbol-to-string-registry"),Se=ht("wks"),Ze=p.QObject,an=!Ze||!Ze[Ae]||!Ze[Ae].findChild,Ln=w&&D(function(){return $(hn({},"a",{get:function(){return hn(this,"a",{value:7}).a}})).a!=7})?function(vt,bt,wt){var Lt=sn(ge,bt);Lt&&delete ge[bt],hn(vt,bt,wt),Lt&&vt!==ge&&hn(ge,bt,Lt)}:hn,po=function(vt,bt){var wt=Re[vt]=$(ye[Ae]);return $e(wt,{type:re,tag:vt,description:bt}),w||(wt.description=bt),wt},Y=E?function(vt){return typeof vt=="symbol"}:function(vt){return Object(vt)instanceof ye},K=function(bt,wt,Lt){bt===ge&&K(Je,wt,Lt),z(bt);var Rt=F(wt,!0);return z(Lt),I(Re,Rt)?(Lt.enumerable?(I(bt,St)&&bt[St][Rt]&&(bt[St][Rt]=!1),Lt=$(Lt,{enumerable:H(0,!1)})):(I(bt,St)||hn(bt,St,H(1,{})),bt[St][Rt]=!0),Ln(bt,Rt,Lt)):hn(bt,Rt,Lt)},Z=function(bt,wt){z(bt);var Lt=R(wt),Rt=G(Lt).concat(Ht(Lt));return pt(Rt,function(gn){(!w||mt.call(Lt,gn))&&K(bt,gn,Lt[gn])}),bt},ct=function(bt,wt){return wt===void 0?$(bt):Z($(bt),wt)},mt=function(bt){var wt=F(bt,!0),Lt=fo.call(this,wt);return this===ge&&I(Re,wt)&&!I(Je,wt)?!1:Lt||!I(this,wt)||!I(Re,wt)||I(this,St)&&this[St][wt]?Lt:!0},xt=function(bt,wt){var Lt=R(bt),Rt=F(wt,!0);if(!(Lt===ge&&I(Re,Rt)&&!I(Je,Rt))){var gn=sn(Lt,Rt);return gn&&I(Re,Rt)&&!(I(Lt,St)&&Lt[St][Rt])&&(gn.enumerable=!0),gn}},It=function(bt){var wt=ki(R(bt)),Lt=[];return pt(wt,function(Rt){!I(Re,Rt)&&!I(Gt,Rt)&&Lt.push(Rt)}),Lt},Ht=function(bt){var wt=bt===ge,Lt=ki(wt?Je:R(bt)),Rt=[];return pt(Lt,function(gn){I(Re,gn)&&(!wt||I(ge,gn))&&Rt.push(Re[gn])}),Rt};if(x||(ye=function(){if(this instanceof ye)throw TypeError("Symbol is not a constructor");var bt=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),wt=Yt(bt),Lt=function(Rt){this===ge&&Lt.call(Je,Rt),I(this,St)&&I(this[St],wt)&&(this[St][wt]=!1),Ln(this,wt,H(1,Rt))};return w&&an&&Ln(ge,wt,{configurable:!0,set:Lt}),po(wt,bt)},rt(ye[Ae],"toString",function(){return Ne(this).tag}),rt(ye,"withoutSetter",function(vt){return po(Yt(vt),vt)}),lt.f=mt,X.f=K,J.f=xt,V.f=Q.f=It,nt.f=Ht,Ut.f=function(vt){return po(Kt(vt),vt)},w&&(hn(ye[Ae],"description",{configurable:!0,get:function(){return Ne(this).description}}),C||rt(ge,"propertyIsEnumerable",mt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!x,sham:!x},{Symbol:ye}),pt(G(Se),function(vt){Xt(vt)}),f({target:re,stat:!0,forced:!x},{for:function(vt){var bt=String(vt);if(I(Bn,bt))return Bn[bt];var wt=ye(bt);return Bn[bt]=wt,An[wt]=bt,wt},keyFor:function(bt){if(!Y(bt))throw TypeError(bt+" is not a symbol");if(I(An,bt))return An[bt]},useSetter:function(){an=!0},useSimple:function(){an=!1}}),f({target:"Object",stat:!0,forced:!x,sham:!w},{create:ct,defineProperty:K,defineProperties:Z,getOwnPropertyDescriptor:xt}),f({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:It,getOwnPropertySymbols:Ht}),f({target:"Object",stat:!0,forced:D(function(){nt.f(1)})},{getOwnPropertySymbols:function(bt){return nt.f(U(bt))}}),Wn){var De=!x||D(function(){var vt=ye();return Wn([vt])!="[null]"||Wn({a:vt})!="{}"||Wn(Object(vt))!="{}"});f({target:"JSON",stat:!0,forced:De},{stringify:function(bt,wt,Lt){for(var Rt=[bt],gn=1,fn;arguments.length>gn;)Rt.push(arguments[gn++]);if(fn=wt,!(!B(wt)&&bt===void 0||Y(bt)))return P(wt)||(wt=function(Js,mo){if(typeof fn=="function"&&(mo=fn.call(this,Js,mo)),!Y(mo))return mo}),Rt[1]=wt,Wn.apply(null,Rt)}})}ye[Ae][rn]||ot(ye[Ae],rn,ye[Ae].valueOf),he(ye,re),Gt[St]=!0},a630:function(u,g,d){var f=d("23e7"),p=d("4df4"),k=d("1c7e"),C=!k(function(w){Array.from(w)});f({target:"Array",stat:!0,forced:C},{from:p})},a640:function(u,g,d){var f=d("d039");u.exports=function(p,k){var C=[][p];return!!C&&f(function(){C.call(null,k||function(){throw 1},1)})}},a691:function(u,g){var d=Math.ceil,f=Math.floor;u.exports=function(p){return isNaN(p=+p)?0:(p>0?f:d)(p)}},ab13:function(u,g,d){var f=d("b622"),p=f("match");u.exports=function(k){var C=/./;try{"/./"[k](C)}catch{try{return C[p]=!1,"/./"[k](C)}catch{}}return!1}},ac1f:function(u,g,d){var f=d("23e7"),p=d("9263");f({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},ad6d:function(u,g,d){var f=d("825a");u.exports=function(){var p=f(this),k="";return p.global&&(k+="g"),p.ignoreCase&&(k+="i"),p.multiline&&(k+="m"),p.dotAll&&(k+="s"),p.unicode&&(k+="u"),p.sticky&&(k+="y"),k}},ae40:function(u,g,d){var f=d("83ab"),p=d("d039"),k=d("5135"),C=Object.defineProperty,w={},x=function(E){throw E};u.exports=function(E,D){if(k(w,E))return w[E];D||(D={});var I=[][E],P=k(D,"ACCESSORS")?D.ACCESSORS:!1,B=k(D,0)?D[0]:x,z=k(D,1)?D[1]:void 0;return w[E]=!!I&&!p(function(){if(P&&!f)return!0;var U={length:-1};P?C(U,1,{enumerable:!0,get:x}):U[1]=1,I.call(U,B,z)})}},ae93:function(u,g,d){var f=d("e163"),p=d("9112"),k=d("5135"),C=d("b622"),w=d("c430"),x=C("iterator"),E=!1,D=function(){return this},I,P,B;[].keys&&(B=[].keys(),"next"in B?(P=f(f(B)),P!==Object.prototype&&(I=P)):E=!0),I==null&&(I={}),!w&&!k(I,x)&&p(I,x,D),u.exports={IteratorPrototype:I,BUGGY_SAFARI_ITERATORS:E}},b041:function(u,g,d){var f=d("00ee"),p=d("f5df");u.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}},b0c0:function(u,g,d){var f=d("83ab"),p=d("9bf2").f,k=Function.prototype,C=k.toString,w=/^\s*function ([^ (]*)/,x="name";f&&!(x in k)&&p(k,x,{configurable:!0,get:function(){try{return C.call(this).match(w)[1]}catch{return""}}})},b622:function(u,g,d){var f=d("da84"),p=d("5692"),k=d("5135"),C=d("90e3"),w=d("4930"),x=d("fdbf"),E=p("wks"),D=f.Symbol,I=x?D:D&&D.withoutSetter||C;u.exports=function(P){return k(E,P)||(w&&k(D,P)?E[P]=D[P]:E[P]=I("Symbol."+P)),E[P]}},b64b:function(u,g,d){var f=d("23e7"),p=d("7b0b"),k=d("df75"),C=d("d039"),w=C(function(){k(1)});f({target:"Object",stat:!0,forced:w},{keys:function(E){return k(p(E))}})},b727:function(u,g,d){var f=d("0366"),p=d("44ad"),k=d("7b0b"),C=d("50c4"),w=d("65f0"),x=[].push,E=function(D){var I=D==1,P=D==2,B=D==3,z=D==4,U=D==6,R=D==5||U;return function(F,H,$,G){for(var V=k(F),Q=p(V),nt=f(H,$,3),J=C(Q.length),X=0,lt=G||w,ot=I?lt(F,J):P?lt(F,0):void 0,rt,ht;J>X;X++)if((R||X in Q)&&(rt=Q[X],ht=nt(rt,X,V),D)){if(I)ot[X]=ht;else if(ht)switch(D){case 3:return!0;case 5:return rt;case 6:return X;case 2:x.call(ot,rt)}else if(z)return!1}return U?-1:B||z?z:ot}};u.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6)}},c04e:function(u,g,d){var f=d("861d");u.exports=function(p,k){if(!f(p))return p;var C,w;if(k&&typeof(C=p.toString)=="function"&&!f(w=C.call(p))||typeof(C=p.valueOf)=="function"&&!f(w=C.call(p))||!k&&typeof(C=p.toString)=="function"&&!f(w=C.call(p)))return w;throw TypeError("Can't convert object to primitive value")}},c430:function(u,g){u.exports=!1},c6b6:function(u,g){var d={}.toString;u.exports=function(f){return d.call(f).slice(8,-1)}},c6cd:function(u,g,d){var f=d("da84"),p=d("ce4e"),k="__core-js_shared__",C=f[k]||p(k,{});u.exports=C},c740:function(u,g,d){var f=d("23e7"),p=d("b727").findIndex,k=d("44d2"),C=d("ae40"),w="findIndex",x=!0,E=C(w);w in[]&&Array(1)[w](function(){x=!1}),f({target:"Array",proto:!0,forced:x||!E},{findIndex:function(I){return p(this,I,arguments.length>1?arguments[1]:void 0)}}),k(w)},c8ba:function(u,g){var d;d=function(){return this}();try{d=d||new Function("return this")()}catch{typeof window=="object"&&(d=window)}u.exports=d},c975:function(u,g,d){var f=d("23e7"),p=d("4d64").indexOf,k=d("a640"),C=d("ae40"),w=[].indexOf,x=!!w&&1/[1].indexOf(1,-0)<0,E=k("indexOf"),D=C("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:x||!E||!D},{indexOf:function(P){return x?w.apply(this,arguments)||0:p(this,P,arguments.length>1?arguments[1]:void 0)}})},ca84:function(u,g,d){var f=d("5135"),p=d("fc6a"),k=d("4d64").indexOf,C=d("d012");u.exports=function(w,x){var E=p(w),D=0,I=[],P;for(P in E)!f(C,P)&&f(E,P)&&I.push(P);for(;x.length>D;)f(E,P=x[D++])&&(~k(I,P)||I.push(P));return I}},caad:function(u,g,d){var f=d("23e7"),p=d("4d64").includes,k=d("44d2"),C=d("ae40"),w=C("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:!w},{includes:function(E){return p(this,E,arguments.length>1?arguments[1]:void 0)}}),k("includes")},cc12:function(u,g,d){var f=d("da84"),p=d("861d"),k=f.document,C=p(k)&&p(k.createElement);u.exports=function(w){return C?k.createElement(w):{}}},ce4e:function(u,g,d){var f=d("da84"),p=d("9112");u.exports=function(k,C){try{p(f,k,C)}catch{f[k]=C}return C}},d012:function(u,g){u.exports={}},d039:function(u,g){u.exports=function(d){try{return!!d()}catch{return!0}}},d066:function(u,g,d){var f=d("428f"),p=d("da84"),k=function(C){return typeof C=="function"?C:void 0};u.exports=function(C,w){return arguments.length<2?k(f[C])||k(p[C]):f[C]&&f[C][w]||p[C]&&p[C][w]}},d1e7:function(u,g,d){var f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,k=p&&!f.call({1:2},1);g.f=k?function(w){var x=p(this,w);return!!x&&x.enumerable}:f},d28b:function(u,g,d){var f=d("746f");f("iterator")},d2bb:function(u,g,d){var f=d("825a"),p=d("3bbe");u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var k=!1,C={},w;try{w=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,w.call(C,[]),k=C instanceof Array}catch{}return function(E,D){return f(E),p(D),k?w.call(E,D):E.__proto__=D,E}}():void 0)},d3b7:function(u,g,d){var f=d("00ee"),p=d("6eeb"),k=d("b041");f||p(Object.prototype,"toString",k,{unsafe:!0})},d44e:function(u,g,d){var f=d("9bf2").f,p=d("5135"),k=d("b622"),C=k("toStringTag");u.exports=function(w,x,E){w&&!p(w=E?w:w.prototype,C)&&f(w,C,{configurable:!0,value:x})}},d58f:function(u,g,d){var f=d("1c0b"),p=d("7b0b"),k=d("44ad"),C=d("50c4"),w=function(x){return function(E,D,I,P){f(D);var B=p(E),z=k(B),U=C(B.length),R=x?U-1:0,F=x?-1:1;if(I<2)for(;;){if(R in z){P=z[R],R+=F;break}if(R+=F,x?R<0:U<=R)throw TypeError("Reduce of empty array with no initial value")}for(;x?R>=0:U>R;R+=F)R in z&&(P=D(P,z[R],R,B));return P}};u.exports={left:w(!1),right:w(!0)}},d784:function(u,g,d){d("ac1f");var f=d("6eeb"),p=d("d039"),k=d("b622"),C=d("9263"),w=d("9112"),x=k("species"),E=!p(function(){var z=/./;return z.exec=function(){var U=[];return U.groups={a:"7"},U},"".replace(z,"$<a>")!=="7"}),D=function(){return"a".replace(/./,"$0")==="$0"}(),I=k("replace"),P=function(){return/./[I]?/./[I]("a","$0")==="":!1}(),B=!p(function(){var z=/(?:)/,U=z.exec;z.exec=function(){return U.apply(this,arguments)};var R="ab".split(z);return R.length!==2||R[0]!=="a"||R[1]!=="b"});u.exports=function(z,U,R,F){var H=k(z),$=!p(function(){var X={};return X[H]=function(){return 7},""[z](X)!=7}),G=$&&!p(function(){var X=!1,lt=/a/;return z==="split"&&(lt={},lt.constructor={},lt.constructor[x]=function(){return lt},lt.flags="",lt[H]=/./[H]),lt.exec=function(){return X=!0,null},lt[H](""),!X});if(!$||!G||z==="replace"&&!(E&&D&&!P)||z==="split"&&!B){var V=/./[H],Q=R(H,""[z],function(X,lt,ot,rt,ht){return lt.exec===C?$&&!ht?{done:!0,value:V.call(lt,ot,rt)}:{done:!0,value:X.call(ot,lt,rt)}:{done:!1}},{REPLACE_KEEPS_$0:D,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:P}),nt=Q[0],J=Q[1];f(String.prototype,z,nt),f(RegExp.prototype,H,U==2?function(X,lt){return J.call(X,this,lt)}:function(X){return J.call(X,this)})}F&&w(RegExp.prototype[H],"sham",!0)}},d81d:function(u,g,d){var f=d("23e7"),p=d("b727").map,k=d("1dde"),C=d("ae40"),w=k("map"),x=C("map");f({target:"Array",proto:!0,forced:!w||!x},{map:function(D){return p(this,D,arguments.length>1?arguments[1]:void 0)}})},da84:function(u,g,d){(function(f){var p=function(k){return k&&k.Math==Math&&k};u.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof f=="object"&&f)||Function("return this")()}).call(this,d("c8ba"))},dbb4:function(u,g,d){var f=d("23e7"),p=d("83ab"),k=d("56ef"),C=d("fc6a"),w=d("06cf"),x=d("8418");f({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(D){for(var I=C(D),P=w.f,B=k(I),z={},U=0,R,F;B.length>U;)F=P(I,R=B[U++]),F!==void 0&&x(z,R,F);return z}})},dbf1:function(u,g,d){(function(f){d.d(g,"a",function(){return k});function p(){return typeof window<"u"?window.console:f.console}var k=p()}).call(this,d("c8ba"))},ddb0:function(u,g,d){var f=d("da84"),p=d("fdbc"),k=d("e260"),C=d("9112"),w=d("b622"),x=w("iterator"),E=w("toStringTag"),D=k.values;for(var I in p){var P=f[I],B=P&&P.prototype;if(B){if(B[x]!==D)try{C(B,x,D)}catch{B[x]=D}if(B[E]||C(B,E,I),p[I]){for(var z in k)if(B[z]!==k[z])try{C(B,z,k[z])}catch{B[z]=k[z]}}}}},df75:function(u,g,d){var f=d("ca84"),p=d("7839");u.exports=Object.keys||function(C){return f(C,p)}},e01a:function(u,g,d){var f=d("23e7"),p=d("83ab"),k=d("da84"),C=d("5135"),w=d("861d"),x=d("9bf2").f,E=d("e893"),D=k.Symbol;if(p&&typeof D=="function"&&(!("description"in D.prototype)||D().description!==void 0)){var I={},P=function(){var H=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),$=this instanceof P?new D(H):H===void 0?D():D(H);return H===""&&(I[$]=!0),$};E(P,D);var B=P.prototype=D.prototype;B.constructor=P;var z=B.toString,U=String(D("test"))=="Symbol(test)",R=/^Symbol\((.*)\)[^)]+$/;x(B,"description",{configurable:!0,get:function(){var H=w(this)?this.valueOf():this,$=z.call(H);if(C(I,H))return"";var G=U?$.slice(7,-1):$.replace(R,"$1");return G===""?void 0:G}}),f({global:!0,forced:!0},{Symbol:P})}},e163:function(u,g,d){var f=d("5135"),p=d("7b0b"),k=d("f772"),C=d("e177"),w=k("IE_PROTO"),x=Object.prototype;u.exports=C?Object.getPrototypeOf:function(E){return E=p(E),f(E,w)?E[w]:typeof E.constructor=="function"&&E instanceof E.constructor?E.constructor.prototype:E instanceof Object?x:null}},e177:function(u,g,d){var f=d("d039");u.exports=!f(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},e260:function(u,g,d){var f=d("fc6a"),p=d("44d2"),k=d("3f8c"),C=d("69f3"),w=d("7dd0"),x="Array Iterator",E=C.set,D=C.getterFor(x);u.exports=w(Array,"Array",function(I,P){E(this,{type:x,target:f(I),index:0,kind:P})},function(){var I=D(this),P=I.target,B=I.kind,z=I.index++;return!P||z>=P.length?(I.target=void 0,{value:void 0,done:!0}):B=="keys"?{value:z,done:!1}:B=="values"?{value:P[z],done:!1}:{value:[z,P[z]],done:!1}},"values"),k.Arguments=k.Array,p("keys"),p("values"),p("entries")},e439:function(u,g,d){var f=d("23e7"),p=d("d039"),k=d("fc6a"),C=d("06cf").f,w=d("83ab"),x=p(function(){C(1)}),E=!w||x;f({target:"Object",stat:!0,forced:E,sham:!w},{getOwnPropertyDescriptor:function(I,P){return C(k(I),P)}})},e538:function(u,g,d){var f=d("b622");g.f=f},e893:function(u,g,d){var f=d("5135"),p=d("56ef"),k=d("06cf"),C=d("9bf2");u.exports=function(w,x){for(var E=p(x),D=C.f,I=k.f,P=0;P<E.length;P++){var B=E[P];f(w,B)||D(w,B,I(x,B))}}},e8b5:function(u,g,d){var f=d("c6b6");u.exports=Array.isArray||function(k){return f(k)=="Array"}},e95a:function(u,g,d){var f=d("b622"),p=d("3f8c"),k=f("iterator"),C=Array.prototype;u.exports=function(w){return w!==void 0&&(p.Array===w||C[k]===w)}},f5df:function(u,g,d){var f=d("00ee"),p=d("c6b6"),k=d("b622"),C=k("toStringTag"),w=p(function(){return arguments}())=="Arguments",x=function(E,D){try{return E[D]}catch{}};u.exports=f?p:function(E){var D,I,P;return E===void 0?"Undefined":E===null?"Null":typeof(I=x(D=Object(E),C))=="string"?I:w?p(D):(P=p(D))=="Object"&&typeof D.callee=="function"?"Arguments":P}},f772:function(u,g,d){var f=d("5692"),p=d("90e3"),k=f("keys");u.exports=function(C){return k[C]||(k[C]=p(C))}},fb15:function(u,g,d){if(d.r(g),typeof window<"u"){var f=window.document.currentScript;{var p=d("8875");f=p(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:p})}var k=f&&f.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);k&&(d.p=k[1])}d("99af"),d("4de4"),d("4160"),d("c975"),d("d81d"),d("a434"),d("159b"),d("a4d3"),d("e439"),d("dbb4"),d("b64b");function C(Y,K,Z){return K in Y?Object.defineProperty(Y,K,{value:Z,enumerable:!0,configurable:!0,writable:!0}):Y[K]=Z,Y}function w(Y,K){var Z=Object.keys(Y);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(Y);K&&(ct=ct.filter(function(mt){return Object.getOwnPropertyDescriptor(Y,mt).enumerable})),Z.push.apply(Z,ct)}return Z}function x(Y){for(var K=1;K<arguments.length;K++){var Z=arguments[K]!=null?arguments[K]:{};K%2?w(Object(Z),!0).forEach(function(ct){C(Y,ct,Z[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(Z)):w(Object(Z)).forEach(function(ct){Object.defineProperty(Y,ct,Object.getOwnPropertyDescriptor(Z,ct))})}return Y}function E(Y){if(Array.isArray(Y))return Y}d("e01a"),d("d28b"),d("e260"),d("d3b7"),d("3ca3"),d("ddb0");function D(Y,K){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Y)))){var Z=[],ct=!0,mt=!1,xt=void 0;try{for(var It=Y[Symbol.iterator](),Ht;!(ct=(Ht=It.next()).done)&&(Z.push(Ht.value),!(K&&Z.length===K));ct=!0);}catch(De){mt=!0,xt=De}finally{try{!ct&&It.return!=null&&It.return()}finally{if(mt)throw xt}}return Z}}d("a630"),d("fb6a"),d("b0c0"),d("25f0");function I(Y,K){(K==null||K>Y.length)&&(K=Y.length);for(var Z=0,ct=new Array(K);Z<K;Z++)ct[Z]=Y[Z];return ct}function P(Y,K){if(!!Y){if(typeof Y=="string")return I(Y,K);var Z=Object.prototype.toString.call(Y).slice(8,-1);if(Z==="Object"&&Y.constructor&&(Z=Y.constructor.name),Z==="Map"||Z==="Set")return Array.from(Y);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return I(Y,K)}}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(Y,K){return E(Y)||D(Y,K)||P(Y,K)||B()}function U(Y){if(Array.isArray(Y))return I(Y)}function R(Y){if(typeof Symbol<"u"&&Symbol.iterator in Object(Y))return Array.from(Y)}function F(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(Y){return U(Y)||R(Y)||P(Y)||F()}var $=d("a352"),G=d.n($);function V(Y){Y.parentElement!==null&&Y.parentElement.removeChild(Y)}function Q(Y,K,Z){var ct=Z===0?Y.children[0]:Y.children[Z-1].nextSibling;Y.insertBefore(K,ct)}var nt=d("dbf1");d("13d5"),d("4fad"),d("ac1f"),d("5319");function J(Y){var K=Object.create(null);return function(ct){var mt=K[ct];return mt||(K[ct]=Y(ct))}}var X=/-(\w)/g,lt=J(function(Y){return Y.replace(X,function(K,Z){return Z.toUpperCase()})});d("5db7"),d("73d9");var ot=["Start","Add","Remove","Update","End"],rt=["Choose","Unchoose","Sort","Filter","Clone"],ht=["Move"],Dt=[ht,ot,rt].flatMap(function(Y){return Y}).map(function(Y){return"on".concat(Y)}),Gt={manage:ht,manageAndEmit:ot,emit:rt};function Yt(Y){return Dt.indexOf(Y)!==-1}d("caad"),d("2ca0");var Kt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ut(Y){return Kt.includes(Y)}function Xt(Y){return["transition-group","TransitionGroup"].includes(Y)}function he(Y){return["id","class","role","style"].includes(Y)||Y.startsWith("data-")||Y.startsWith("aria-")||Y.startsWith("on")}function it(Y){return Y.reduce(function(K,Z){var ct=z(Z,2),mt=ct[0],xt=ct[1];return K[mt]=xt,K},{})}function pt(Y){var K=Y.$attrs,Z=Y.componentData,ct=Z===void 0?{}:Z,mt=it(Object.entries(K).filter(function(xt){var It=z(xt,2),Ht=It[0];return It[1],he(Ht)}));return x(x({},mt),ct)}function St(Y){var K=Y.$attrs,Z=Y.callBackBuilder,ct=it(re(K));Object.entries(Z).forEach(function(xt){var It=z(xt,2),Ht=It[0],De=It[1];Gt[Ht].forEach(function(vt){ct["on".concat(vt)]=De(vt)})});var mt="[data-draggable]".concat(ct.draggable||"");return x(x({},ct),{},{draggable:mt})}function re(Y){return Object.entries(Y).filter(function(K){var Z=z(K,2),ct=Z[0];return Z[1],!he(ct)}).map(function(K){var Z=z(K,2),ct=Z[0],mt=Z[1];return[lt(ct),mt]}).filter(function(K){var Z=z(K,2),ct=Z[0];return Z[1],!Yt(ct)})}d("c740");function Ae(Y,K){if(!(Y instanceof K))throw new TypeError("Cannot call a class as a function")}function rn(Y,K){for(var Z=0;Z<K.length;Z++){var ct=K[Z];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(Y,ct.key,ct)}}function $e(Y,K,Z){return K&&rn(Y.prototype,K),Z&&rn(Y,Z),Y}var Ne=function(K){var Z=K.el;return Z},ge=function(K,Z){return K.__draggable_context=Z},ye=function(K){return K.__draggable_context},Wn=function(){function Y(K){var Z=K.nodes,ct=Z.header,mt=Z.default,xt=Z.footer,It=K.root,Ht=K.realList;Ae(this,Y),this.defaultNodes=mt,this.children=[].concat(H(ct),H(mt),H(xt)),this.externalComponent=It.externalComponent,this.rootTransition=It.transition,this.tag=It.tag,this.realList=Ht}return $e(Y,[{key:"render",value:function(Z,ct){var mt=this.tag,xt=this.children,It=this._isRootComponent,Ht=It?{default:function(){return xt}}:xt;return Z(mt,ct,Ht)}},{key:"updated",value:function(){var Z=this.defaultNodes,ct=this.realList;Z.forEach(function(mt,xt){ge(Ne(mt),{element:ct[xt],index:xt})})}},{key:"getUnderlyingVm",value:function(Z){return ye(Z)}},{key:"getVmIndexFromDomIndex",value:function(Z,ct){var mt=this.defaultNodes,xt=mt.length,It=ct.children,Ht=It.item(Z);if(Ht===null)return xt;var De=ye(Ht);if(De)return De.index;if(xt===0)return 0;var vt=Ne(mt[0]),bt=H(It).findIndex(function(wt){return wt===vt});return Z<bt?0:xt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),Y}(),sn=d("8bbf");function hn(Y,K){var Z=Y[K];return Z?Z():[]}function ki(Y){var K=Y.$slots,Z=Y.realList,ct=Y.getKey,mt=Z||[],xt=["header","footer"].map(function(wt){return hn(K,wt)}),It=z(xt,2),Ht=It[0],De=It[1],vt=K.item;if(!vt)throw new Error("draggable element must have an item slot");var bt=mt.flatMap(function(wt,Lt){return vt({element:wt,index:Lt}).map(function(Rt){return Rt.key=ct(wt),Rt.props=x(x({},Rt.props||{}),{},{"data-draggable":!0}),Rt})});if(bt.length!==mt.length)throw new Error("Item slot must have only one child");return{header:Ht,footer:De,default:bt}}function fo(Y){var K=Xt(Y),Z=!Ut(Y)&&!K;return{transition:K,externalComponent:Z,tag:Z?Object(sn.resolveComponent)(Y):K?sn.TransitionGroup:Y}}function Re(Y){var K=Y.$slots,Z=Y.tag,ct=Y.realList,mt=Y.getKey,xt=ki({$slots:K,realList:ct,getKey:mt}),It=fo(Z);return new Wn({nodes:xt,root:It,realList:ct})}function Je(Y,K){var Z=this;Object(sn.nextTick)(function(){return Z.$emit(Y.toLowerCase(),K)})}function Bn(Y){var K=this;return function(Z,ct){if(K.realList!==null)return K["onDrag".concat(Y)](Z,ct)}}function An(Y){var K=this,Z=Bn.call(this,Y);return function(ct,mt){Z.call(K,ct,mt),Je.call(K,Y,ct)}}var Se=null,Ze={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(K){return K}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},an=["update:modelValue","change"].concat(H([].concat(H(Gt.manageAndEmit),H(Gt.emit)).map(function(Y){return Y.toLowerCase()}))),Ln=Object(sn.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ze,emits:an,data:function(){return{error:!1}},render:function(){try{this.error=!1;var K=this.$slots,Z=this.$attrs,ct=this.tag,mt=this.componentData,xt=this.realList,It=this.getKey,Ht=Re({$slots:K,tag:ct,realList:xt,getKey:It});this.componentStructure=Ht;var De=pt({$attrs:Z,componentData:mt});return Ht.render(sn.h,De)}catch(vt){return this.error=!0,Object(sn.h)("pre",{style:{color:"red"}},vt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&nt.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var K=this;if(!this.error){var Z=this.$attrs,ct=this.$el,mt=this.componentStructure;mt.updated();var xt=St({$attrs:Z,callBackBuilder:{manageAndEmit:function(De){return An.call(K,De)},emit:function(De){return Je.bind(K,De)},manage:function(De){return Bn.call(K,De)}}}),It=ct.nodeType===1?ct:ct.parentElement;this._sortable=new G.a(It,xt),this.targetDomElement=It,It.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var K=this.list;return K||this.modelValue},getKey:function(){var K=this.itemKey;return typeof K=="function"?K:function(Z){return Z[K]}}},watch:{$attrs:{handler:function(K){var Z=this._sortable;!Z||re(K).forEach(function(ct){var mt=z(ct,2),xt=mt[0],It=mt[1];Z.option(xt,It)})},deep:!0}},methods:{getUnderlyingVm:function(K){return this.componentStructure.getUnderlyingVm(K)||null},getUnderlyingPotencialDraggableComponent:function(K){return K.__draggable_component__},emitChanges:function(K){var Z=this;Object(sn.nextTick)(function(){return Z.$emit("change",K)})},alterList:function(K){if(this.list){K(this.list);return}var Z=H(this.modelValue);K(Z),this.$emit("update:modelValue",Z)},spliceList:function(){var K=arguments,Z=function(mt){return mt.splice.apply(mt,H(K))};this.alterList(Z)},updatePosition:function(K,Z){var ct=function(xt){return xt.splice(Z,0,xt.splice(K,1)[0])};this.alterList(ct)},getRelatedContextFromMoveEvent:function(K){var Z=K.to,ct=K.related,mt=this.getUnderlyingPotencialDraggableComponent(Z);if(!mt)return{component:mt};var xt=mt.realList,It={list:xt,component:mt};if(Z!==ct&&xt){var Ht=mt.getUnderlyingVm(ct)||{};return x(x({},Ht),It)}return It},getVmIndexFromDomIndex:function(K){return this.componentStructure.getVmIndexFromDomIndex(K,this.targetDomElement)},onDragStart:function(K){this.context=this.getUnderlyingVm(K.item),K.item._underlying_vm_=this.clone(this.context.element),Se=K.item},onDragAdd:function(K){var Z=K.item._underlying_vm_;if(Z!==void 0){V(K.item);var ct=this.getVmIndexFromDomIndex(K.newIndex);this.spliceList(ct,0,Z);var mt={element:Z,newIndex:ct};this.emitChanges({added:mt})}},onDragRemove:function(K){if(Q(this.$el,K.item,K.oldIndex),K.pullMode==="clone"){V(K.clone);return}var Z=this.context,ct=Z.index,mt=Z.element;this.spliceList(ct,1);var xt={element:mt,oldIndex:ct};this.emitChanges({removed:xt})},onDragUpdate:function(K){V(K.item),Q(K.from,K.item,K.oldIndex);var Z=this.context.index,ct=this.getVmIndexFromDomIndex(K.newIndex);this.updatePosition(Z,ct);var mt={element:this.context.element,oldIndex:Z,newIndex:ct};this.emitChanges({moved:mt})},computeFutureIndex:function(K,Z){if(!K.element)return 0;var ct=H(Z.to.children).filter(function(Ht){return Ht.style.display!=="none"}),mt=ct.indexOf(Z.related),xt=K.component.getVmIndexFromDomIndex(mt),It=ct.indexOf(Se)!==-1;return It||!Z.willInsertAfter?xt:xt+1},onDragMove:function(K,Z){var ct=this.move,mt=this.realList;if(!ct||!mt)return!0;var xt=this.getRelatedContextFromMoveEvent(K),It=this.computeFutureIndex(xt,K),Ht=x(x({},this.context),{},{futureIndex:It}),De=x(x({},K),{},{relatedContext:xt,draggedContext:Ht});return ct(De,Z)},onDragEnd:function(){Se=null}}}),po=Ln;g.default=po},fb6a:function(u,g,d){var f=d("23e7"),p=d("861d"),k=d("e8b5"),C=d("23cb"),w=d("50c4"),x=d("fc6a"),E=d("8418"),D=d("b622"),I=d("1dde"),P=d("ae40"),B=I("slice"),z=P("slice",{ACCESSORS:!0,0:0,1:2}),U=D("species"),R=[].slice,F=Math.max;f({target:"Array",proto:!0,forced:!B||!z},{slice:function($,G){var V=x(this),Q=w(V.length),nt=C($,Q),J=C(G===void 0?Q:G,Q),X,lt,ot;if(k(V)&&(X=V.constructor,typeof X=="function"&&(X===Array||k(X.prototype))?X=void 0:p(X)&&(X=X[U],X===null&&(X=void 0)),X===Array||X===void 0))return R.call(V,nt,J);for(lt=new(X===void 0?Array:X)(F(J-nt,0)),ot=0;nt<J;nt++,ot++)nt in V&&E(lt,ot,V[nt]);return lt.length=ot,lt}})},fc6a:function(u,g,d){var f=d("44ad"),p=d("1d80");u.exports=function(k){return f(p(k))}},fdbc:function(u,g){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(u,g,d){var f=d("4930");u.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(p0);const D0=Hu(p0.exports),CM={components:{draggable:D0},data:()=>({showAvailableColors:!1,availableColors:[],drag:!1,variations:[]}),mounted(){axios.get("/api/colors").then(r=>{this.availableColors=r.data,this.variations=this.$store.getters.product.variations})},methods:{addVariation(){this.variations.push({})},removeVariant(r,i){this.$store.commit("removeVariant",i),r.id&&axios.delete("/api/product-variations/"+r.id)},updateVariantField(r,i,s){this.$store.commit("updateVariantField",{index:r,key:i,value:s.target.value})},uploadImage(r,i,s){const l=new FormData;l.append("file",r.target.files[0]),axios.post("/api/assets",l).then(u=>{this.$store.commit("updateVariantField",{index:s,key:"file_path",value:"/"+u.data.file_path})})},toggleAvailableColors(){this.showAvailableColors=!this.showAvailableColors},onDragEnd(){const r=this.variations.map((i,s)=>(i.order=s,i));axios.post("/api/product-variations/reorder",{variants:r})}}},_M={class:"bg-white overflow-hidden shadow rounded-lg"},AM={class:"px-4 py-5 sm:p-6"},yM={class:"flex flex-col sm:flex-row items-start justify-between"},xM=T("div",{class:"text-lg text-black font-medium"},"Product Variations",-1),EM={class:"border-t border-gray-200"},SM={class:"single-variant px-4 py-5 sm:p-6 border-b border-gray-200 flex items-end justify-between"},DM={key:0,class:"handle w-8 h-14 flex items-center justify-center"},MM=T("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"#111",viewBox:"0 0 256 256"},[T("rect",{width:"256",height:"256",fill:"none"}),T("circle",{cx:"92",cy:"60",r:"10"}),T("circle",{cx:"164",cy:"60",r:"10"}),T("circle",{cx:"92",cy:"128",r:"10"}),T("circle",{cx:"164",cy:"128",r:"10"}),T("circle",{cx:"92",cy:"196",r:"10"}),T("circle",{cx:"164",cy:"196",r:"10"})],-1),IM=[MM],TM={class:"w-14 h-14"},PM=["for"],OM=["src"],NM={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-9 h-9",viewBox:"0 0 24 24",fill:"none",stroke:"#d4d4d8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},BM=T("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),LM=T("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),zM=T("polyline",{points:"21 15 16 10 5 21"},null,-1),RM=[BM,LM,zM],jM=["id","onChange"],FM={class:"w-1/3 px-3"},VM=["for"],UM=["value","onInput","id"],HM={class:"w-1/3 px-3"},$M=["for"],WM=["value","onInput","id"],GM=["onClick"],YM=["src"],KM={key:0,class:"fixed left-0 top-0 w-full h-screen z-40 flex items-center justify-center"},QM={class:"relative w-full sm:w-1/2 xl:w-1/3 z-50 my-32 h-full",style:{height:"90vh"}},ZM={class:"bg-white p-12 overflow-y-scroll h-full rounded-md"},qM=T("div",{class:"py-1 border-b border-gray-100 grid grid-cols-3 gap-3 text-sm font-bold"},[T("div",{class:"font-bold text-sm text-gray-600"},"Name"),T("div",{class:"font-bold text-sm text-gray-600"},"Name english"),T("div",{class:"font-bold text-sm text-gray-600 text-center"},"Color")],-1),XM={class:"flex items-center justify-center"};function JM(r,i,s,l,u,g){const d=oe("draggable");return et(),st("div",_M,[T("div",AM,[T("div",yM,[xM,T("div",{class:"inline-flex items-center border border-gray-200 rounded px-2 text-sm font-sans font-medium text-gray-400 cursor-pointer hover:bg-gray-200 hover:text-gary-900",onClick:i[0]||(i[0]=(...f)=>g.toggleAvailableColors&&g.toggleAvailableColors(...f))}," Available Colors ")]),T("div",EM,[wn(d,{modelValue:r.variations,"onUpdate:modelValue":i[1]||(i[1]=f=>r.variations=f),group:r.variations,onStart:i[2]||(i[2]=f=>r.drag=!0),onEnd:g.onDragEnd,"item-key":"id",handle:".handle"},{item:u0(({element:f,index:p})=>[T("div",SM,[f.id?(et(),st("div",DM,IM)):Ee("",!0),T("div",TM,[T("label",{for:"variation-img-"+p,class:"dropzone-placeholder h-full flex items-center justify-center text-center cursor-pointer"},[f.file_path?(et(),st("img",{key:0,src:f.file_path,alt:"variation-image",class:"w-14 h-14 rounded-md"},null,8,OM)):(et(),st("svg",NM,RM)),T("input",{type:"file",id:"variation-img-"+p,onChange:k=>g.uploadImage(k,f,p),hidden:""},null,40,jM)],8,PM)]),T("div",FM,[T("label",{for:"name-"+p,class:"block text-sm font-medium text-gray-700"},"Name",8,VM),T("input",{value:f.value,onInput:k=>g.updateVariantField(p,"value",k),type:"text",id:"name-"+p,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,40,UM)]),T("div",HM,[T("label",{for:"sku-"+p,class:"block text-sm font-medium text-gray-700"},"SKU",8,$M),T("input",{value:f.sku,onInput:k=>g.updateVariantField(p,"sku",k),type:"text",id:"sku-"+p,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,40,WM)]),T("div",{class:"pl-3 mb-2 cursor-pointer",onClick:k=>g.removeVariant(f,p)},[T("img",{src:"/images/trash.svg",width:"24",height:"24",alt:"delete"},null,8,YM)],8,GM)])]),_:1},8,["modelValue","group","onEnd"])]),T("div",{tabindex:"0",class:"w-1/3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[3]||(i[3]=Qe((...f)=>g.addVariation&&g.addVariation(...f),["enter"])),onClick:i[4]||(i[4]=(...f)=>g.addVariation&&g.addVariation(...f))}," Add another variation ",32)]),r.showAvailableColors?(et(),st("div",KM,[T("div",{class:"absolute left-0 top-0 w-full h-screen bg-black bg-opacity-50",onClick:i[5]||(i[5]=(...f)=>g.toggleAvailableColors&&g.toggleAvailableColors(...f))}),T("div",QM,[T("div",ZM,[qM,(et(!0),st(le,null,_e(r.availableColors,f=>(et(),st("div",{key:f.id,class:"py-1 border-t border-b border-gray-100 grid grid-cols-3 gap-3 text-sm"},[T("div",null,ce(f.name),1),T("div",null,ce(f.name_en),1),T("div",XM,[T("div",{class:"w-12 h-4 rounded-sm border border-gray-100",style:Ho("background:"+f.hex)},null,4)])]))),128))])])])):Ee("",!0)])}const M0=ue(CM,[["render",JM]]),tI={components:{ProductOptions:zD,ProductVariations:M0},data:()=>({variations:[{}]}),watch:{variations:{deep:!0,handler:r=>{document.getElementById("all_variations").setAttribute("value",JSON.stringify(r))}}},mounted(){const r=document.getElementById("variations-app").dataset.productid;axios.get(`/api/product-variations/${r}`).then(i=>{this.variations=i.data,this.variations.push({})})},methods:{addVariant(){this.variations.push({})},updateVariations(){if(this.optionValues[0][0]){const r=this.optionValues.map(i=>i.filter(s=>s.value));this.optionValues=[],this.variations+=r.reduce((i,s)=>i.flatMap(l=>s.map(u=>{const g=l.value?l.value+(l?" / ":"")+u.value:u.value,d=l.option?l.option+(l?" // ":"")+u.option:u.option;return{value:g,option:d,sku:null,name:g}})),[""])}}}};function eI(r,i,s,l,u,g){const d=oe("ProductVariations");return r.variations.length?(et(),Pn(d,{key:0,variations:r.variations,onAdd:i[0]||(i[0]=f=>g.addVariant())},null,8,["variations"])):Ee("",!0)}const nI=ue(tI,[["render",eI]]),iI={name:"Media",data:()=>({featured_image_id:null,feature_image:null,media_ids:[],gallery:[]}),computed:{product(){return this.$store.getters.product}},mounted(){axios.get(`/api/product-media/${document.getElementById("editSingleProduct").dataset.key}`).then(r=>{this.feature_image=r.data.reverse().find(i=>!!i.featured_image),this.gallery=r.data.filter(i=>!i.featured_image||i.featured_image==="0")})},methods:{uploadAssets(r,i){const s=new FormData;for(let l=0;l<r.target.files.length;l++)s.append("file[]",r.target.files[l]);i&&(this.feature_image&&this.feature_image.id&&this.removeImage(this.feature_image),s.append("featured_image","true")),s.append("product_id",this.product.id),axios.post("/api/assets/new-product",s).then(l=>{const u=l.data.map(g=>g.id);i&&(this.feature_image=l.data[0],this.featured_image_id=u),i||(this.gallery.push(...l.data),this.media_ids.push(...u))})},removeImage(r){this.media_ids=this.media_ids.filter(i=>r.id!==i),this.gallery=this.gallery.filter(i=>i.id!==r.id),axios.delete(`/api/assets/${r.id}`)}}},oI={class:"bg-white overflow-hidden shadow rounded-lg"},rI={class:"px-4 py-5 sm:p-6"},sI=T("div",{class:"text-lg text-black font-medium"},"Media",-1),aI=T("div",{class:"text-gray-500 text-sm"},"(Media are saved automatically)",-1),lI={class:"mt-6"},cI=T("div",{class:"block text-sm font-medium text-gray-700"},"Featured image",-1),dI={for:"upload_featured_image",class:"dropzone-placeholder flex items-center justify-center py-3 mt-2 cursor-pointer"},uI={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-9 h-9",viewBox:"0 0 24 24",fill:"none",stroke:"#d4d4d8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},hI=T("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),gI=T("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),fI=T("polyline",{points:"21 15 16 10 5 21"},null,-1),pI=[hI,gI,fI],mI={class:"mt-6"},bI=T("div",{class:"block text-sm font-medium text-gray-700"},"Gallery",-1),kI={for:"upload_media",class:"dropzone-placeholder flex items-center justify-center py-3 mt-2 cursor-pointer"},wI=T("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-9 h-9",viewBox:"0 0 24 24",fill:"none",stroke:"#d4d4d8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[T("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),T("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),T("polyline",{points:"21 15 16 10 5 21"})],-1),vI={class:"mt-2 flex flex-wrap"},CI=["onClick"],_I=["value"],AI=["value"];function yI(r,i,s,l,u,g){return et(),st("div",oI,[T("div",rI,[sI,aI,T("div",lI,[cI,T("label",dI,[r.feature_image?(et(),st("div",{key:0,class:"w-1/3 gap-4 bg-cover bg-center bg-no-repeat",style:Ho(`aspect-ratio: 1/1; background-image: url('/${r.feature_image.file_path}')`)},null,4)):(et(),st("svg",uI,pI)),T("input",{type:"file",name:"upload_featured_image",id:"upload_featured_image",hidden:"",onChange:i[0]||(i[0]=d=>g.uploadAssets(d,1))},null,32)])]),T("div",mI,[bI,T("label",kI,[wI,T("input",{type:"file",name:"upload_media",id:"upload_media",multiple:"",hidden:"",onChange:i[1]||(i[1]=d=>g.uploadAssets(d,0))},null,32)]),T("div",vI,[(et(!0),st(le,null,_e(r.gallery,(d,f)=>(et(),st("div",{key:f,class:"w-1/3 p-2 hover-remove-image",onClick:p=>g.removeImage(d)},[T("div",{class:"bg-cover bg-center bg-no-repeat",style:Ho(`aspect-ratio: 1/1; background-image: url('/${d.file_path}')`)},null,4)],8,CI))),128))])]),T("input",{type:"text",name:"featured_image_id",value:r.featured_image_id,hidden:""},null,8,_I),T("input",{type:"text",name:"media_ids",value:r.media_ids,hidden:""},null,8,AI)])])}const I0=ue(iI,[["render",yI]]),xI={data:()=>({key:null,customer:null}),computed:{logo(){return this.customer&&this.customer.logo?"/"+this.customer.logo:"/images/file-upload.png"}},mounted(){this.key=document.getElementById("upload-customer-logo").dataset.key,this.getCustomer()},methods:{upload(r){const i=new FormData;for(let s=0;s<r.target.files.length;s++)i.append("file[]",r.target.files[s]);axios.post(`/api/customer/${this.key}/logo`,i).then(()=>{this.getCustomer()})},getCustomer(){axios.get("/api/customer-info/"+this.key).then(r=>{this.customer=r.data.data})}}},EI={class:"bg-white overflow-hidden shadow rounded-lg px-4 py-5 sm:p-6"},SI=T("label",{for:"fileDrop",class:"block text-sm font-medium text-gray-700"}," Client logo (automatic upload - no need to save) ",-1),DI={class:"w-1/2 mx-auto mt-2"};function MI(r,i,s,l,u,g){return et(),st("div",EI,[SI,T("div",DI,[T("input",{id:"customer-logo-image",type:"file",name:"logo",hidden:"",onChange:i[0]||(i[0]=d=>g.upload(d))},null,32),T("label",{for:"customer-logo-image",class:"block aspect-w-1 aspect-h-1 bg-contain bg-center bg-no-repeat rounded-md cursor-pointer",style:Ho(`background-image: url('${g.logo}');`)},null,4)])])}const II=ue(xI,[["render",MI]]),TI={data:()=>({newtag:""}),computed:{tags(){return this.$store.getters.product.tags}},methods:{add(r){r.preventDefault(),this.tags.some(i=>i.name===this.newtag)||axios.post("/api/tags",{name:this.newtag.trim()}).then(i=>{this.$store.commit("addTag",i.data)}),this.newtag=""},remove(r){this.$store.commit("removeTag",r)}}},PI={class:"flex flex-col gap-4"},OI=T("div",{class:"mt-6 text-sm font-medium text-gray-700"},"Add tags",-1),NI={class:"relative flex items-center"},BI=T("div",{class:"absolute inset-y-0 right-0 flex py-1.5 pr-1.5"},[T("kbd",{class:"inline-flex items-center border border-gray-200 rounded px-2 text-sm font-sans font-medium text-gray-400"}," \u21B5 ENTER ")],-1),LI={class:"flex flex-wrap gap-2"},zI=["onClick"];function RI(r,i,s,l,u,g){return et(),st("div",PI,[OI,T("div",NI,[Qt(T("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>r.newtag=d),type:"text",class:"w-full shadow-sm sm:text-sm border-gray-300 rounded",onKeydown:i[1]||(i[1]=Qe(h0((...d)=>g.add&&g.add(...d),["prevent"]),["enter"]))},null,544),[[Zt,r.newtag]]),BI]),T("div",LI,[(et(!0),st(le,null,_e(g.tags,(d,f)=>(et(),st("div",{key:f,class:"flex items-center bg-gray-100 text-sm font-mediume px-4 py-1 rounded-md hover:bg-red-500 hover:text-white ease-in-out duration-200 cursor-trash",onClick:p=>g.remove(d.name)}," #"+ce(d.name),9,zI))),128))])])}const T0=ue(TI,[["render",RI]]),jI={data:()=>({documentName:"",inputFiles:0}),computed:{inputFilesText(){return this.inputFiles>1?this.inputFiles+" files":this.inputFiles+" file"},documents(){return this.$store.getters.product.documents}},mounted(){},methods:{calculateFiles(){this.inputFiles=document.getElementById("product-documents-upload").files.length},upload(){const r=new FormData,i=document.getElementById("product-documents-upload").files;for(let s=0;s<i.length;s++)r.append("documents[]",i[s]);r.append("name",this.documentName),r.append("product_id",this.$store.getters.product.id),axios.post("/api/documents",r).then(s=>{this.$store.commit("appendDocument",s.data),this.reset()})},openDocument(r){const i="/"+r.file_path;window.open(i,"_blank")},reset(){this.documentName="",this.inputFiles=0,document.getElementById("product-documents-upload").value=""},remove(r){axios.delete(`/api/documents/${r}`).then(i=>{this.$store.commit("removeDocument",r)})}}},FI={class:"bg-white overflow-hidden shadow rounded-lg"},VI={class:"px-4 py-5 sm:p-6"},UI=T("div",{class:"text-lg text-black font-medium"},"Product Documents",-1),HI=T("div",{class:"text-gray-500 text-sm"},"(documents are saved automatically)",-1),$I={class:"flex gap-4 mt-4"},WI={for:"product-documents-upload",class:"w-full relative flex items-center shadow-sm sm:text-sm border-gray-300 border rounded-md cursor-pointer hover:border-primary-lighter",style:{height:"38px"}},GI={key:0,class:"absolute inset-y-0 left-0 flex items-center 5 pl-4 font-bold uppercase tracking-wider text-primary-lighter text-xs leading-none"},YI=T("div",{class:"absolute inset-y-0 right-0 flex py-1.5 pr-1.5"},[T("kbd",{class:"inline-flex items-center border border-gray-200 rounded px-2 text-sm font-sans font-medium text-gray-400"}," \uFF0B CLICK TO UPLOAD ")],-1),KI={class:"flex flex-col gap-4"},QI={class:"mt-4"},ZI=["onClick"],qI={class:"pl-2 text-sm"},XI=["onClick"];function JI(r,i,s,l,u,g){return et(),st("div",FI,[T("div",VI,[UI,HI,T("div",$I,[Qt(T("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>r.documentName=d),name:"doc_name",type:"text",placeholder:"Document name",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[Zt,r.documentName]]),T("label",WI,[T("input",{id:"product-documents-upload",type:"file",multiple:"",hidden:"",onChange:i[1]||(i[1]=d=>g.calculateFiles())},null,32),r.inputFiles?(et(),st("div",GI,ce(g.inputFilesText),1)):Ee("",!0),YI]),T("div",{class:"text-center text-gray-600 border border-gray-200 px-6 py-2 text-sm font-normal rounded-md hover:bg-gray-200 cursor-pointer",onClick:i[2]||(i[2]=d=>g.upload())},"Add")]),T("div",KI,[T("div",QI,[(et(!0),st(le,null,_e(g.documents,d=>(et(),st("div",{key:d.id,class:"flex justify-between items-center selected-category-item py-1 border-b border-gray-100 cursor-pointer",onClick:f=>g.openDocument(d)},[T("div",qI,ce(d.name),1),T("div",{class:"pr-2 tracking-widest text-3xl font-thin leading-none text-gray-400 cursor-pointer hover:text-rose-500",onClick:h0(f=>g.remove(d.id),["stop"])},"\xD7",8,XI)],8,ZI))),128))])])])])}const P0=ue(jI,[["render",JI]]),tT={computed:{information(){return this.$store.getters.product.informations}},methods:{updateInformation(r,i,s){this.$store.commit("setInformation",{index:r,key:i,value:s.target.value})}}},eT={class:"bg-white overflow-hidden shadow rounded-lg"},nT={class:"px-4 py-5 sm:p-6"},iT=T("div",{class:"text-lg text-black font-medium"},"Product Information",-1),oT={class:"mt-6"},rT={class:"w-1/2"},sT=["for"],aT=["value","onInput","id"],lT={class:"w-1/2"},cT=["for"],dT=["value","onInput","id"],uT=["onClick"],hT=T("svg",{width:"24",height:"24",fill:"none",stroke:"#dc2626",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),gT=[hT];function fT(r,i,s,l,u,g){return et(),st("div",eT,[T("div",nT,[iT,T("div",oT,[(et(!0),st(le,null,_e(g.information,(d,f)=>(et(),st("div",{key:f,class:"flex items-end gap-5 mb-5"},[T("div",rT,[T("label",{for:"name-"+f,class:"block text-sm font-medium text-gray-700"},"Name",8,sT),T("input",{value:d.name,onInput:p=>g.updateInformation(f,"name",p),type:"text",id:"name-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,40,aT)]),T("div",lT,[T("label",{for:"label-"+f,class:"block text-sm font-medium text-gray-700"},"Value",8,cT),T("input",{value:d.value,onInput:p=>g.updateInformation(f,"value",p),type:"text",id:"label-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,40,dT)]),T("div",{class:"mb-2 cursor-pointer",onClick:p=>r.$store.commit("removeProductInformation",d)},gT,8,uT)]))),128)),T("div",{class:"w-2/5 text-center text-gray-600 border border-gray-200 px-6 py-2 text-sm font-normal rounded-md hover:bg-gray-200 cursor-pointer",onClick:i[0]||(i[0]=d=>r.$store.commit("addInformation"))}," Add ")])])])}const O0=ue(tT,[["render",fT]]),pT={data:()=>({nColumns:4,nRows:3,table:[],table_org:[]}),watch:{nRows(r){r>this.table.length&&(this.table.push([...Array(this.nColumns-1).keys()].map(i=>"")),this.updateTable()),r<this.table.length&&(this.table.pop(),this.updateTable())},nColumns(r){this.table.forEach(i=>{i.length>r&&i.splice(-1),this.updateTable()})}},computed:{product(){return this.$store.getters.product}},mounted(){this.setTable()},methods:{updateColumn(r,i,s){this.table[r-1].splice(i-1,1,s.target.value),this.updateTable()},setTable(){var i;const r=(i=this.product)==null?void 0:i.product_table;this.table=r?JSON.parse(r):[["","","",""],["","","",""],["","","",""]],this.table_org=_.cloneDeep(this.table),this.table.length&&(this.nRows=this.table.length),this.table.length&&this.table[0].length&&(this.nColumns=this.table[0].length)},resetTable(){this.table=_.cloneDeep(this.table_org),this.table.length&&(this.nRows=this.table.length),this.table.length&&this.table[0].length&&(this.nColumns=this.table[0].length),this.updateTable()},updateTable(){this.$store.commit("updateProductField",{key:"product_table",value:JSON.stringify(this.table)})}}},mT={class:"bg-white overflow-hidden shadow rounded-lg"},bT={class:"px-4 py-5 sm:p-6"},kT=T("div",{class:"text-lg text-black font-medium"},"Product Table",-1),wT={class:"mt-6"},vT={class:"flex items-end gap-4"},CT=Tl("Columns "),_T=Tl("Rows "),AT={class:"block overflow-scroll w-full h-64 mt-4"},yT=["placeholder","value","onInput"];function xT(r,i,s,l,u,g){return et(),st("div",mT,[T("div",bT,[kT,T("div",wT,[T("div",vT,[T("label",null,[CT,Qt(T("input",{type:"number","onUpdate:modelValue":i[0]||(i[0]=d=>r.nColumns=d),min:"1",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-48 sm:text-sm border-gray-300 rounded-md"},null,512),[[Zt,r.nColumns,void 0,{number:!0}]])]),T("label",null,[_T,Qt(T("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=d=>r.nRows=d),min:"1",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-48 sm:text-sm border-gray-300 rounded-md"},null,512),[[Zt,r.nRows,void 0,{number:!0}]])]),T("div",{class:"ml-auto text-center text-red-600 border border-red-500 px-6 py-2 text-sm font-normal rounded-md hover:bg-red-500 hover:text-white cursor-pointer",onClick:i[2]||(i[2]=(...d)=>g.resetTable&&g.resetTable(...d))}," Reset ")]),T("table",AT,[(et(!0),st(le,null,_e(r.nRows,d=>(et(),st("tr",{key:d,class:Nr(["block",{"mb-3":d===1}])},[(et(!0),st(le,null,_e(r.nColumns,f=>{var p,k;return et(),st("td",{key:f,class:Nr({"bg-gray-200":d===1})},[T("input",{type:"text",class:Nr(["m-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-48 sm:text-sm border-gray-300 rounded-md",{"my-2":d===1}]),placeholder:d===1?"Column name":"",value:(k=(p=r.table)==null?void 0:p[d-1])==null?void 0:k[f-1],onInput:C=>g.updateColumn(d,f,C)},null,42,yT)],2)}),128))],2))),128))])])])])}const N0=ue(pT,[["render",xT]]),ET={computed:{productIcons(){return this.$store.getters.product.icons},icons(){return this.$store.getters.icons}},methods:{isAdded(r){return this.productIcons.some(i=>i.id===r.id)},addIcon(r){this.isAdded(r)?this.$store.commit("removeIcon",r.id):this.$store.commit("addIcon",r)}}},ST={class:"bg-white overflow-hidden shadow rounded-lg"},DT={class:"px-4 py-5 sm:p-6"},MT=T("div",{class:"text-lg text-black font-medium"},"Product Icons",-1),IT={class:"mt-6"},TT=["onClick"],PT={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#1d68a7",viewBox:"0 0 256 256"},OT=T("rect",{width:"256",height:"256",fill:"none"},null,-1),NT=T("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:"#1d68a7","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"24"},null,-1),BT=T("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:"#1d68a7","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"18"},null,-1),LT=[OT,NT,BT],zT={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#555555",viewBox:"0 0 256 256"},RT=T("rect",{width:"256",height:"256",fill:"none"},null,-1),jT=T("rect",{x:"42",y:"42",width:"176",height:"176",rx:"8",fill:"none",stroke:"#555555","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"16"},null,-1),FT=[RT,jT],VT=["for"];function UT(r,i,s,l,u,g){return et(),st("div",ST,[T("div",DT,[MT,T("div",IT,[(et(!0),st(le,null,_e(g.icons,d=>(et(),st("div",{key:d.id,class:"flex items-center",onClick:f=>g.addIcon(d)},[g.isAdded(d)?(et(),st("svg",PT,LT)):(et(),st("svg",zT,FT)),T("label",{for:"icon-"+d.id,class:"ml-3 text-gray-600 select-none"},ce(d.name),9,VT)],8,TT))),128))])])])}const B0=ue(ET,[["render",UT]]),HT={name:"ProductIcons",data:()=>({icons:[]}),mounted(){axios.get("/api/settings-icons").then(r=>{this.icons=r.data,this.addNewIcon()}).catch(()=>{this.addNewIcon()})},methods:{addNewIcon(){this.icons.push({id:0,name:"",file_path:""})},removeIcon(r){axios.delete("/api/settings-icons/"+r).then(()=>{this.icons=this.icons.filter(i=>i.id!==r)})},save(){this.icons=this.icons.filter(r=>{if(r.name!=="")return r}),axios.post("/api/settings-icons",this.icons).then(()=>{this.$emit("saved"),this.addNewIcon()})},uploadImage(r,i,s){const l=new FormData;l.append("file",r.target.files[0]),axios.post("/api/assets",l).then(u=>{this.icons[s].file_path="/"+u.data.file_path})}}},$T={class:"w-14 h-14"},WT=["for"],GT=["src"],YT={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-9 h-9",viewBox:"0 0 24 24",fill:"none",stroke:"#d4d4d8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},KT=T("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),QT=T("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),ZT=T("polyline",{points:"21 15 16 10 5 21"},null,-1),qT=[KT,QT,ZT],XT=["id","onChange"],JT={class:"w-1/2 px-3 ml-3"},t5=["for"],e5=["onUpdate:modelValue","id"],n5=["onClick"],i5=["src"],o5={class:"flex justify-between"};function r5(r,i,s,l,u,g){return et(),st("div",null,[(et(!0),st(le,null,_e(r.icons,(d,f)=>(et(),st("div",{key:f,class:"single-variant py-5 border-t border-gray-200 flex items-end"},[T("div",$T,[T("label",{for:"variation-img-"+f,class:"dropzone-placeholder h-full flex items-center justify-center text-center cursor-pointer"},[d.file_path?(et(),st("img",{key:0,src:d.file_path,alt:"variation-image",class:"w-14 h-14 rounded-md"},null,8,GT)):(et(),st("svg",YT,qT)),T("input",{type:"file",id:"variation-img-"+f,onChange:p=>g.uploadImage(p,d,f),hidden:""},null,40,XT)],8,WT)]),T("div",JT,[T("label",{for:"name-"+f,class:"block text-sm font-medium text-gray-700"},"Name",8,t5),Qt(T("input",{"onUpdate:modelValue":p=>d.name=p,type:"text",id:"name-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,e5),[[Zt,d.name]])]),d.id?(et(),st("div",{key:0,class:"px-3 ml-3 mb-2 cursor-pointer",onClick:p=>g.removeIcon(d.id)},[T("img",{src:"/images/trash.svg",width:"24",height:"24",alt:"delete"},null,8,i5)],8,n5)):Ee("",!0)]))),128)),T("div",o5,[T("div",{tabindex:"0",class:"w-48 mr-3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe((...d)=>g.addNewIcon&&g.addNewIcon(...d),["enter"])),onClick:i[1]||(i[1]=(...d)=>g.addNewIcon&&g.addNewIcon(...d))}," Add new icon ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[2]||(i[2]=Qe((...d)=>g.save&&g.save(...d),["enter"])),onClick:i[3]||(i[3]=(...d)=>g.save&&g.save(...d))}," Save ",32)])])}const s5=ue(HT,[["render",r5]]);var L0={exports:{}};/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(r,i){(function(s,l){r.exports=l(m0)})(window,function(s){return function(l){var u={};function g(d){if(u[d])return u[d].exports;var f=u[d]={i:d,l:!1,exports:{}};return l[d].call(f.exports,f,f.exports,g),f.l=!0,f.exports}return g.m=l,g.c=u,g.d=function(d,f,p){g.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:p})},g.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},g.t=function(d,f){if(1&f&&(d=g(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(g.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var k in d)g.d(p,k,function(C){return d[C]}.bind(null,k));return p},g.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return g.d(f,"a",f),f},g.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},g.p="",g(g.s=3)}([function(l,u){l.exports=s},function(l,u,g){(function(d){var f=typeof d=="object"&&d&&d.Object===Object&&d;u.a=f}).call(this,g(2))},function(l,u){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch{typeof window=="object"&&(g=window)}l.exports=g},function(l,u,g){g.r(u);var d=g(0),f=g.n(d),p=function(it){var pt=typeof it;return it!=null&&(pt=="object"||pt=="function")},k=g(1),C=typeof self=="object"&&self&&self.Object===Object&&self,w=k.a||C||Function("return this")(),x=function(){return w.Date.now()},E=/\s/,D=function(it){for(var pt=it.length;pt--&&E.test(it.charAt(pt)););return pt},I=/^\s+/,P=function(it){return it&&it.slice(0,D(it)+1).replace(I,"")},B=w.Symbol,z=Object.prototype,U=z.hasOwnProperty,R=z.toString,F=B?B.toStringTag:void 0,H=function(it){var pt=U.call(it,F),St=it[F];try{it[F]=void 0;var re=!0}catch{}var Ae=R.call(it);return re&&(pt?it[F]=St:delete it[F]),Ae},$=Object.prototype.toString,G=function(it){return $.call(it)},V=B?B.toStringTag:void 0,Q=function(it){return it==null?it===void 0?"[object Undefined]":"[object Null]":V&&V in Object(it)?H(it):G(it)},nt=function(it){return it!=null&&typeof it=="object"},J=function(it){return typeof it=="symbol"||nt(it)&&Q(it)=="[object Symbol]"},X=/^[-+]0x[0-9a-f]+$/i,lt=/^0b[01]+$/i,ot=/^0o[0-7]+$/i,rt=parseInt,ht=function(it){if(typeof it=="number")return it;if(J(it))return NaN;if(p(it)){var pt=typeof it.valueOf=="function"?it.valueOf():it;it=p(pt)?pt+"":pt}if(typeof it!="string")return it===0?it:+it;it=P(it);var St=lt.test(it);return St||ot.test(it)?rt(it.slice(2),St?2:8):X.test(it)?NaN:+it},Dt=Math.max,Gt=Math.min,Yt=function(it,pt,St){var re,Ae,rn,$e,Ne,ge,ye=0,Wn=!1,sn=!1,hn=!0;if(typeof it!="function")throw new TypeError("Expected a function");function ki(Se){var Ze=re,an=Ae;return re=Ae=void 0,ye=Se,$e=it.apply(an,Ze)}function fo(Se){return ye=Se,Ne=setTimeout(Je,pt),Wn?ki(Se):$e}function Re(Se){var Ze=Se-ge;return ge===void 0||Ze>=pt||Ze<0||sn&&Se-ye>=rn}function Je(){var Se=x();if(Re(Se))return Bn(Se);Ne=setTimeout(Je,function(Ze){var an=pt-(Ze-ge);return sn?Gt(an,rn-(Ze-ye)):an}(Se))}function Bn(Se){return Ne=void 0,hn&&re?ki(Se):(re=Ae=void 0,$e)}function An(){var Se=x(),Ze=Re(Se);if(re=arguments,Ae=this,ge=Se,Ze){if(Ne===void 0)return fo(ge);if(sn)return clearTimeout(Ne),Ne=setTimeout(Je,pt),ki(ge)}return Ne===void 0&&(Ne=setTimeout(Je,pt)),$e}return pt=ht(pt)||0,p(St)&&(Wn=!!St.leading,rn=(sn="maxWait"in St)?Dt(ht(St.maxWait)||0,pt):rn,hn="trailing"in St?!!St.trailing:hn),An.cancel=function(){Ne!==void 0&&clearTimeout(Ne),ye=0,re=ge=Ae=Ne=void 0},An.flush=function(){return Ne===void 0?$e:Bn(x())},An},Kt={name:"ckeditor",render(){return Object(d.h)(this.tagName)},model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,default:null},modelValue:{type:String,default:""},config:{type:Object,default:()=>({})},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},data:()=>({instance:null,lastEditorData:{type:String,default:""}}),mounted(){const it=Object.assign({},this.config);this.modelValue&&(it.initialData=this.modelValue),this.editor.create(this.$el,it).then(pt=>{this.instance=Object(d.markRaw)(pt),pt.isReadOnly=this.disabled,this.setUpEditorEvents(),this.$emit("ready",pt)}).catch(pt=>{console.error(pt)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},watch:{modelValue(it,pt){it!==pt&&it!==this.lastEditorData&&this.instance.setData(it)},disabled(it){this.instance.isReadOnly=it}},methods:{setUpEditorEvents(){const it=this.instance,pt=Yt(St=>{const re=this.lastEditorData=it.getData();this.$emit("update:modelValue",re,St,it),this.$emit("input",re,St,it)},300,{leading:!0});it.model.document.on("change:data",pt),it.editing.view.document.on("focus",St=>{this.$emit("focus",St,it)}),it.editing.view.document.on("blur",St=>{this.$emit("blur",St,it)})}}};const Ut=f.a?f.a.version:d.version,[Xt]=Ut.split(".").map(it=>parseInt(it,10));if(Xt<3)throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const he={install(it){it.component("ckeditor",Kt)},component:Kt};u.default=he}]).default})})(L0);const Bl=Hu(L0.exports);var Du={exports:{}};(function(r,i){(function(s){const l=s.en=s.en||{};l.dictionary=Object.assign(l.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(s,l){r.exports=l()}(self,function(){return(()=>{var s={3062:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAEC,eAAgB,CAGhB,mBAAoB,CACpB,kBAAmB,CAEnB,aAAc,CACd,cAAe,CACf,iBAAkB,CAClB,0BACD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/**
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const E=x},903:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CACf,iBAAkB,CAClB,mBAMD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEACC,4DAA8D,CAC9D,yDAA2D,CAC3D,sDAAuD,CACvD,gDAAiD,CACjD,gBAkBD,CAfC,yEACC,UAAW,CACX,OAAQ,CACR,QAAS,CAET,aAAc,CACd,iBAAkB,CAClB,QAAS,CACT,yDAA2D,CAE3D,0BAA2B,CAG3B,iFAAmB,CAAnB,iCAAmB,CAAnB,kFAAmB,CAAnB,uGACD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	// Horizontal drop target (between blocks).
	& .ck.ck-clipboard-drop-target-position {
		display: block;
		position: relative;
		width: 100%;
		height: 0;
		margin: 0;
		text-align: initial;

		& .ck-clipboard-drop-target__line {
			position: absolute;
			width: 100%;
			height: 0;
			border: 1px solid var(--ck-clipboard-drop-target-color);
			margin-top: -1px;

			&::before {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
				border-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));
				border-style: solid;
			}

			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				right: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
				border-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;
				border-style: solid;
			}
		}
	}
	*/

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}
`],sourceRoot:""}]);const E=x},3143:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},4717:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDACC,iBAAkB,CAClB,MAAO,CACP,OAAQ,CACR,8BAA+B,CAG/B,mBACD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDACC,WAAY,CACZ,6CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const E=x},9315:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const E=x},8733:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const E=x},3508:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck-content .image{display:table;clear:both;text-align:center;margin:.9em auto;min-width:50px}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{display:inline-flex;max-width:100%;align-items:flex-start}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBACC,aAAc,CACd,UAAW,CACX,iBAAkB,CAKlB,gBAAkB,CAGlB,cAeD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAMC,mBAAoB,CAGpB,cAAe,CAGf,sBAiBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEACC,oBAAqB,CACrB,qBAAsB,CAMtB,kBAAmB,CACnB,eAAgB,CAChB,sBACD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const E=x},2640:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:var(--ck-color-image-caption-text);background-color:var(--ck-color-image-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BACC,qBAAsB,CACtB,mBAAoB,CACpB,qBAAsB,CACtB,wCAAyC,CACzC,yDAA0D,CAC1D,YAAa,CACb,eAAgB,CAChB,mBACD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const E=x},5083:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-right:0;margin-left:auto}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-top:var(--ck-inline-image-style-spacing);margin-bottom:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CACC,cAAe,CACf,gBACD,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAEC,+CAAgD,CAChD,kDACD,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const E=x},4036:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck-image-upload-complete-icon{display:block;position:absolute;top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);border-radius:50%;z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:calc(1px*var(--ck-image-upload-icon-size));animation-delay:0ms,3s;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BACC,aAAc,CACd,iBAAkB,CAMlB,oCAAsC,CACtC,sCAAwC,CACxC,iBAAkB,CAClB,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BACC,SAAU,CACV,uDAAwD,CACxD,wEAA0E,CAC1E,qCAAuC,CACvC,0BAAgC,CAGhC,oDAAuD,CAGvD,sBAA4B,CAM5B,eAAgB,CAChB,mFAAsF,CACtF,oFAyBD,CAtBC,qCAEC,QAAS,CAET,OAAQ,CACR,SAAU,CACV,QAAS,CACT,OAAQ,CAER,mCAAoC,CACpC,yBAA0B,CAC1B,oFAAqF,CACrF,sFAAuF,CAEvF,4CAA6C,CAC7C,sBAAyB,CACzB,mBAAsB,CACtB,4BAA6B,CAG7B,qBACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GACC,SAAU,CACV,OAAQ,CACR,QACD,CACA,IACC,UAAY,CACZ,QACD,CACA,GACC,SAAU,CACV,UAAY,CACZ,YACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const E=x},3773:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCACC,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,KAAM,CACN,MAMD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAEC,UAAW,CACX,QAeD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCACC,UAAW,CACX,WAUD,CARC,yCACC,8CAA+C,CAC/C,+CAAgD,CAChD,iBAAkB,CAClB,8DAA+D,CAC/D,kCAAmC,CACnC,yDACD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const E=x},3689:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAEC,iBAAkB,CAClB,KAAM,CACN,MACD,CCRC,yFACC,oBACD,CAID,uGAEC,UAAW,CACX,OAAQ,CACR,gDAAiD,CACjD,oBACD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const E=x},1905:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},9773:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCACC,WAAY,CACZ,gDAAiD,CACjD,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const E=x},2347:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCKA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EACC,kCAAmC,CACnC,kCAAmC,CACnC,sBAAuB,CACvB,cAAe,CAIf,+BAAgC,CAChC,aAAc,CACd,iBAKD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDvDD,oCC2DC,wDACC,8DAMD,CAJC,0EACC,WAAY,CACZ,cACD,CAGD,gJAME,aAEF,CD1ED",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const E=x},7754:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCACC,SAAU,CACV,+BA8CD,CA5CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CACC,kCAAmC,CACnC,QAAS,CACT,eAAgB,CAChB,QAAS,CACT,gDAAiD,CACjD,SAaD,CAnBA,4GAaE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAWD,CATC,wEACC,QAAS,CACT,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		border-radius: 0;
		border: 0;
		border-top: 1px solid var(--ck-color-base-border);
		width: 50%;

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			border: 0;
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=x},4652:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck-content .media{clear:both;margin:.9em 0;display:block;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CAKX,aAAe,CAIf,aAAc,CAId,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const E=x},7442:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(var(--ck-spacing-standard)*3);background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAQC,0CACC,YAAa,CACb,qBAAsB,CACtB,kBAmBD,CCpBA,kFACC,aAqBD,CAHC,oBAnBD,kFAoBE,YAEF,CADC,CDlBA,sEAIC,cAAe,CAEf,iBAUD,CCoBD,wFACC,kBAAmB,CACnB,SACD,CD3BE,wGACC,eAAgB,CAChB,aACD,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CElDA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CACC,0CAA+C,CAC/C,0CA4BD,CA1BC,uEACC,qDAAsD,CACtD,kDAAmD,CACnD,qCAAsC,CACtC,uBAA2B,CAC3B,qBAMD,CAJC,gFACC,UAAW,CACX,WACD,CAGD,4EACC,sDAAuD,CACvD,kBAAmB,CACnB,iBAAkB,CAClB,iBAAkB,CAClB,sBAOD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDACC,eAAgB,CAChB,gBACD,CAEA,4UAIC,gvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,48BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			@mixin ck-tooltip_enabled;

			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			&:hover {
				@mixin ck-tooltip_visible;
			}

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read\u2013only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Enables the tooltip, which is the tooltip is in DOM but
 * not yet displayed.
 */
@define-mixin ck-tooltip_enabled {
	& .ck-tooltip {
		display: block;

		/*
		 * Don't display tooltips in devices which don't support :hover.
		 * In fact, it's all about iOS, which forces user to click UI elements twice to execute
		 * the primary action, when tooltips are enabled.
		 *
		 * Q: OK, but why not the following query?
		 *
		 *   @media (hover) {
		 *       display: block;
		 *   }
		 *
		 * A: Because FF does not support it and it would completely disable tooltips
		 * in that browser.
		 *
		 * More in https://github.com/ckeditor/ckeditor5/issues/920.
		 */
		@media (hover:none) {
			display: none;
		}
	}
}

/**
 * Disables the tooltip making it disappear from DOM.
 */
@define-mixin ck-tooltip_disabled {
	& .ck-tooltip {
		display: none;
	}
}

/**
 * Shows the tooltip, which is already in DOM.
 * Requires \`ck-tooltip_enabled\` first.
 */
@define-mixin ck-tooltip_visible {
	& .ck-tooltip {
		visibility: visible;
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const E=x},9292:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBACC,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},1613:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAEC,oJAA2J,CAC3J,yFACD,CAEA,qCACC,iBACD,CAEA,uCACC,+CAAgD,CAChD,iDAAkD,CAClD,iDAAkD,CAClD,4CAA6C,CAC7C,iBAMD,CAJC,6CACC,yCAA0C,CAC1C,6CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	width: var(--ck-insert-table-dropdown-box-width);
	height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const E=x},6306:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck-content .table{margin:.9em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAIC,gBAAkB,CAClB,aAgCD,CA9BC,yBAEC,wBAAyB,CACzB,gBAAiB,CAIjB,UAAW,CACX,WAAY,CAIZ,yBAiBD,CAfC,wDAEC,aAAc,CACd,YAAa,CAKb,wBACD,CAEA,4BACC,eAAiB,CACjB,2BACD,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const E=x},3881:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,8DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(208, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const E=x},6945:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,yDACD,CAGC,0IAEC,iBAAkB,CAClB,uBAAwB,CACxB,aAAc,CACd,gBA8BD,CA3BC,sJACC,UAAW,CACX,mBAAoB,CACpB,yDAA0D,CAC1D,iBAAkB,CAClB,KAAM,CACN,MAAO,CACP,OAAQ,CACR,QACD,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=x},4906:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BCCC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6BD,CE/BC,qDACC,aAqBD,CAHC,oBAnBD,qDAoBE,YAEF,CADC,CFvBF,6BAKC,iBAAkB,CAClB,mBAAoB,CACpB,kBAAmB,CACnB,oBAyBD,CAvBC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEkBA,iEACC,kBAAmB,CACnB,SACD,CAbA,yFACC,YACD,CC7BD,6BCAC,oDD0ID,CCvIE,6EACC,0DACD,CAEA,+EACC,2DAA4C,CAC5C,uEACD,CAID,qDACC,6DACD,CDhBD,6BEDC,eF2ID,CA1IA,wIEGE,qCFuIF,CA1IA,6BAKC,kBAAmB,CACnB,cAAe,CACf,qBAAsB,CACtB,8BAA+B,CAC/B,iBAAkB,CAGlB,2CAA4C,CAC5C,4CAA6C,CAI7C,aAAc,CAGd,iBAAkB,CAGlB,4BAA6B,CAG7B,4DAA8D,CAG9D,uBA6GD,CA3GC,oFGjCA,YAAa,CACb,2BAA2B,CCF3B,2CJsCA,CAIC,kJAEC,aACD,CAGD,iEAEC,iBAAkB,CAClB,mBAAoB,CACpB,aAAc,CACd,cAAe,CAIf,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAEA,uFK3FD,kCL6FC,CAGA,yFKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAOE,6CAAgD,CAChD,mCAEF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDiIA,CC9HC,yFACC,qDACD,CAEA,2FACC,sDAA4C,CAC5C,kEACD,CAID,iEACC,wDACD,CDmHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC7IC,mDDkJD,CC/IE,2FACC,yDACD,CAEA,6FACC,0DAA4C,CAC5C,sEACD,CAID,mEACC,4DACD,CD6HD,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../tooltip/mixins/_tooltip.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;
	@mixin ck-tooltip_enabled;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}

	&:hover {
		@mixin ck-tooltip_visible;
	}

	/* Get rid of the native focus outline around the tooltip when focused (but not :hover). */
	&:focus:not(:hover) {
		@mixin ck-tooltip_disabled;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Enables the tooltip, which is the tooltip is in DOM but
 * not yet displayed.
 */
@define-mixin ck-tooltip_enabled {
	& .ck-tooltip {
		display: block;

		/*
		 * Don't display tooltips in devices which don't support :hover.
		 * In fact, it's all about iOS, which forces user to click UI elements twice to execute
		 * the primary action, when tooltips are enabled.
		 *
		 * Q: OK, but why not the following query?
		 *
		 *   @media (hover) {
		 *       display: block;
		 *   }
		 *
		 * A: Because FF does not support it and it would completely disable tooltips
		 * in that browser.
		 *
		 * More in https://github.com/ckeditor/ckeditor5/issues/920.
		 */
		@media (hover:none) {
			display: none;
		}
	}
}

/**
 * Disables the tooltip making it disappear from DOM.
 */
@define-mixin ck-tooltip_disabled {
	& .ck-tooltip {
		display: none;
	}
}

/**
 * Shows the tooltip, which is already in DOM.
 * Requires \`ck-tooltip_enabled\` first.
 */
@define-mixin ck-tooltip_visible {
	& .ck-tooltip {
		visibility: visible;
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
			box-shadow: inset 0 2px 2px var($(prefix)-active-shadow);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=x},5332:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,mDAAoD,CACpD,qCAAsC,CACtC,gKAKD,CAGC,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDC3BA,eDoEA,CAzCA,yICvBC,qCDgED,CAzCA,2DAKE,gBAoCF,CAzCA,2DAUE,iBA+BF,CAzCA,iDAcC,8BAAiC,CAEjC,0CAA2C,CAC3C,uDAwBD,CAtBC,2EC9CD,eD2DC,CAbA,6LC1CA,qCAAsC,CD4CpC,+CAWF,CAbA,2EAMC,6CAA8C,CAC9C,+CAAgD,CAChD,gDAAiD,CACjD,yDAA0D,CAG1D,uBACD,CAEA,uDACC,6DAKD,CAHC,iFACC,+DACD,CAIF,6DExEA,kCF0EA,CAEA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,yDAMF,CAXA,2FASE,kEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating\u2013point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: 1.0769230769em;
	--ck-switch-button-toggle-spacing: 1px;
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2 * var(--ck-switch-button-toggle-spacing)
	);
}

.ck.ck-button.ck-switchbutton {
	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease;

		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			/* Leave some tiny bit of space around the inner part of the switch */
			margin: var(--ck-switch-button-toggle-spacing);
			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	&.ck-on .ck-button__toggle {
		background: var(--ck-color-switch-button-on-background);

		&:hover {
			background: var(--ck-color-switch-button-on-hover-background);
		}

		& .ck-button__toggle__inner {
			/*
			 * Move the toggle switch to the right. It will be animated.
			 */
			@mixin ck-dir ltr {
				transform: translateX( var( --ck-switch-button-translation ) );
			}

			@mixin ck-dir rtl {
				transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=x},6781:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,qCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,oCAAqC,CACrC,qCAAsC,CACtC,wCAAyC,CACzC,yCAA0C,CAC1C,SAAU,CACV,8BAA+B,CAC/B,QAmCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCACC,YAAa,CACb,2CACD,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(0, 0%, 0%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const E=x},5485:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBAqFD,CAnFC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UAOD,CCUA,iEACC,YACD,CDVA,oCAGC,kCAAmC,CAEnC,YAAa,CACb,yBAA0B,CAC1B,sCAAuC,CAEvC,iBAyDD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSASC,QAAS,CACT,WACD,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CEhGA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CACC,gCAAiC,CAGjC,sCACD,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEACC,SAAU,CACV,eAAgB,CAChB,sBACD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBEpFC,oCAA8B,CFwF9B,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CAGT,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../tooltip/mixins/_tooltip.css";

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;

		/* Disable main button's tooltip when the dropdown is open. Otherwise the panel may
		partially cover the tooltip */
		&.ck-on {
			@mixin ck-tooltip_disabled;
		}
	}

	& .ck-dropdown__panel {
		/* This is to get rid of flickering when the tooltip is shown under the panel,
		which looks like the panel moves vertically a pixel down and up. */
		-webkit-backface-visibility: hidden;

		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Enables the tooltip, which is the tooltip is in DOM but
 * not yet displayed.
 */
@define-mixin ck-tooltip_enabled {
	& .ck-tooltip {
		display: block;

		/*
		 * Don't display tooltips in devices which don't support :hover.
		 * In fact, it's all about iOS, which forces user to click UI elements twice to execute
		 * the primary action, when tooltips are enabled.
		 *
		 * Q: OK, but why not the following query?
		 *
		 *   @media (hover) {
		 *       display: block;
		 *   }
		 *
		 * A: Because FF does not support it and it would completely disable tooltips
		 * in that browser.
		 *
		 * More in https://github.com/ckeditor/ckeditor5/issues/920.
		 */
		@media (hover:none) {
			display: none;
		}
	}
}

/**
 * Disables the tooltip making it disappear from DOM.
 */
@define-mixin ck-tooltip_disabled {
	& .ck-tooltip {
		display: none;
	}
}

/**
 * Shows the tooltip, which is already in DOM.
 * Requires \`ck-tooltip_enabled\` first.
 */
@define-mixin ck-tooltip_visible {
	& .ck-tooltip {
		visibility: visible;
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},3949:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDIpC,wBAAyB,CACzB,2BAA4B,CAC5B,4BAEF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},7686:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{content:"";position:absolute;width:1px;height:100%;background-color:var(--ck-color-split-button-hover-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,mBAEC,iBAUD,CARC,iDACC,qCACD,CC0BA,8DACC,YACD,CClCD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAIE,6BAA8B,CAC9B,gCAQF,CAbA,oIAUE,4BAA6B,CAC7B,+BAEF,CAEA,0CAGC,eAiBD,CApBA,oDAOE,4BAA6B,CAC7B,+BAYF,CApBA,oDAaE,6BAA8B,CAC9B,gCAMF,CAHC,8CACC,mCACD,CASA,0KACC,wDACD,CAIA,8JACC,UAAW,CACX,iBAAkB,CAClB,SAAU,CACV,WAAY,CACZ,0DACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCC7EA,eDuFA,CAVA,qHCzEC,qCDmFD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../tooltip/mixins/_tooltip.css";

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}

	/* Disable tooltips for the buttons when the button is "open" */
	&.ck-splitbutton_open > .ck-button {
		@mixin ck-tooltip_disabled;
	}
}

`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Enables the tooltip, which is the tooltip is in DOM but
 * not yet displayed.
 */
@define-mixin ck-tooltip_enabled {
	& .ck-tooltip {
		display: block;

		/*
		 * Don't display tooltips in devices which don't support :hover.
		 * In fact, it's all about iOS, which forces user to click UI elements twice to execute
		 * the primary action, when tooltips are enabled.
		 *
		 * Q: OK, but why not the following query?
		 *
		 *   @media (hover) {
		 *       display: block;
		 *   }
		 *
		 * A: Because FF does not support it and it would completely disable tooltips
		 * in that browser.
		 *
		 * More in https://github.com/ckeditor/ckeditor5/issues/920.
		 */
		@media (hover:none) {
			display: none;
		}
	}
}

/**
 * Disables the tooltip making it disappear from DOM.
 */
@define-mixin ck-tooltip_disabled {
	& .ck-tooltip {
		display: none;
	}
}

/**
 * Shows the tooltip, which is already in DOM.
 * Requires \`ck-tooltip_enabled\` first.
 */
@define-mixin ck-tooltip_visible {
	& .ck-tooltip {
		visibility: visible;
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},7339:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAEC,iBAAkB,CAClB,8CAOD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const E=x},9688:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEERA,YAAa,CACb,2BAA2B,CCF3B,qCHYA,CAGD,+BACC,aAAc,CACd,oCAAqC,CACrC,4BA4BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=x},8847:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,kBAAmB,CACnB,6BACD,CCNA,MACC,4BACD,CAEA,oBACC,uDAAwD,CACxD,mCAAoC,CACpC,wCAAyC,CACzC,mDAKD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const E=x},6574:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YACC,yBAA0B,CAC1B,0BAA2B,CAG3B,uBAAwB,CAQxB,qBAcD,CAZC,0BARA,aAAc,CAGd,cAgBA,CAJC,yBAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	color: inherit;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;

		/* Allows dynamic coloring of the icons. */
		color: inherit;

		&:not([fill]) {
			/* Needed by FF. */
			fill: currentColor;
		}
	}
}
`],sourceRoot:""}]);const E=x},4879:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-input-shake .3s ease both}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAC9C,6DAA8D,CAC9D,+BAAgC,CAGhC,4CAA6C,CAG7C,4DA0BD,CAxBC,mBEpBA,YAAa,CACb,2BAA2B,CCF3B,2CHwBA,CAEA,uBACC,sDAAuD,CACvD,oDAAqD,CACrD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBACC,+CAAgD,CAChD,sCAKD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=x},3662:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const E=x},2577:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,yEACD,CAEA,0BCHC,eD4GD,CAzGA,2FCCE,qCDwGF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAWC,mBAAoB,CACpB,oBAAqB,CAGrB,6DAA+D,CAE/D,yDAA0D,CAC1D,4CAA8C,CAC9C,kBAAoB,CACpB,eAAmB,CAGnB,sBAAuB,CACvB,eAAgB,CAEhB,cAAe,CAEf,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,yFAYF,CAfA,oUAOE,kGAQF,CAfA,gTAWC,iEAAkE,CAElE,sBAAuB,CACvB,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-spacing-medium), calc(0.6 * var(--ck-font-size-base))) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-spacing-medium)), calc(0.6 * var(--ck-font-size-base))) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},1046:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,qBAcD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAGC,oBAAqB,CACrB,0CACD,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BACC,gBAAiB,CACjB,UAAW,CACX,eAAgB,CAChB,eAAgB,CAKhB,mIAiCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,2DACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBACC,UAAW,CACX,UAAW,CACX,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},8793:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCJC,eD4ID,CAxIA,iFCAE,qCDwIF,CAxIA,qBENC,oCAA8B,CFU9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAiID,CA9HE,+GAEC,OAAQ,CACR,QAAS,CACT,kBACD,CAIA,uFAEC,oDAAoH,CAApH,kDAAoH,CAApH,qDAAoH,CAApH,kBACD,CAEA,4CACC,gDACD,CAEA,uFAHC,6BAA8E,CAA9E,8BAA8E,CAA9E,4BAMD,CAHA,2CACC,oDAAkF,CAClF,yCACD,CAIA,uFAEC,oDAAoH,CAApH,qBAAoH,CAApH,qDAAoH,CAApH,+CACD,CAEA,4CACC,6CAAkE,CAClE,uDACD,CAEA,uFAJC,6BAAkE,CAAlE,+BAAkE,CAAlE,8BAOD,CAHA,2CACC,iDAAkF,CAClF,4CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,8CACD,CAIA,2GAEC,+CAAkD,CAClD,8CACD,CAIA,2GAEC,gDAAmD,CACnD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,8CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: var(--ck-balloon-arrow-offset);
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: var(--ck-balloon-arrow-offset);
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=x},4650:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCACC,oCAAqC,CACrC,kCAAmC,CACnC,qCACD,CAGA,iEACC,uCAAwC,CAGxC,mCACD,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const E=x},7676:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBCJC,oCAA8B,CDO9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CAEtC,UAAW,CACX,WACD,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=x},5868:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDACC,yBAA0B,CAC1B,cAAe,CACf,KACD,CAEA,kEACC,QAAS,CACT,iBACD,CCPA,qDCCA,oCAA8B,CDE7B,sBAAuB,CACvB,wBAAyB,CACzB,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=x},6764:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAOA,mCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCTC,oCDaC,wCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCnBD,CCAD,qDACC,kDACD,CAEA,uBACC,+BAkED,CAhEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,qCA6CF,CA3CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAID,iGAEC,kCAAmC,CACnC,kCAAmC,CAEnC,eAAgB,CAChB,QAAS,CACT,gDAaD,CApBA,0OAcE,aAMF,CAGC,yMACC,kDACD,CDpEF",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button::after {
	content: "";
	width: 0;
	position: absolute;
	right: -1px;
	top: var(--ck-spacing-small);
	bottom: var(--ck-spacing-small);
	z-index: 1;
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button::after {
			content: "";
			width: 0;
			position: absolute;
			right: -1px;
			top: var(--ck-spacing-small);
			bottom: var(--ck-spacing-small);
			z-index: 1;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);

			border-radius: 0;
			border: 0;
			border-top: 1px solid var(--ck-color-base-border);

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}

		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}
}
`],sourceRoot:""}]);const E=x},9695:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const E=x},5542:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,oBAAqB,CACrB,kBA6CD,CA3CC,kCACC,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eD0FD,CA7FA,qECOE,qCDsFF,CA7FA,eAGC,6CAA8C,CAC9C,iCAAkC,CAClC,+CAwFD,CAtFC,yCACC,kBAAmB,CACnB,SAAU,CACV,aAAc,CACd,yCAA0C,CAM1C,kCAAmC,CACnC,qCACD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAGC,kCAAmC,CACnC,qCACD,CAEA,mCAEC,SAgBD,CAbC,0DAEC,UAAW,CAGX,QAAS,CAGT,eAAgB,CAGhB,QACD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAvFF,qCA2FE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JACC,wBAAyB,CACzB,2BACD,CAGA,2JACC,yBAA0B,CAC1B,4BACD,CAID,qGACC,mCACD,CAGA,yLACC,mCACD,CAWA,qHACC,cACD,CAIC,6JACC,yBAA0B,CAC1B,4BACD,CAGA,2JACC,wBAAyB,CACzB,2BACD,CAID,qGACC,oCACD,CAGA,yLACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;

			/* Items in a vertical toolbar span the entire width so any border is pointless. */
			border: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},3332:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,sDAEC,iBAAkB,CAGlB,mBAAoB,CAIpB,kCACD,CAEA,eAEC,iBAAkB,CAClB,SAAU,CACV,YAAa,CACb,yBAWD,CATC,iCACC,oBAOD,CALC,uCACC,UAAW,CACX,OAAQ,CACR,QACD,CCxBF,MACC,2BACD,CAEA,eACC,QAAS,CAMT,KAAM,CAON,sCAwKD,CAtKC,iCChBA,eDqCA,CArBA,yGCZC,qCDiCD,CArBA,iCAGC,cAAe,CACf,eAAgB,CAChB,kCAAmC,CACnC,wDAAyD,CACzD,6CAA8C,CAC9C,iBAAkB,CAClB,SAYD,CAVC,uCAMC,sCAAuC,CACvC,kBAAmB,CACnB,QACD,CAYD,sFAGC,4CAA+C,CAC/C,0BASD,CAPC,8JAEC,+CAAkD,CAClD,0BAA6B,CAC7B,6BAAoF,CAApF,sDAAoF,CAApF,8BAAoF,CAApF,4BAAoF,CACpF,8CAAsG,CAAtG,gDAAsG,CAAtG,+CAAsG,CAAtG,kBACD,CAaD,6BACC,SAAU,CACV,SAWD,CATC,+CACC,SAAU,CACV,2CACD,CAEA,qDACC,SAAU,CACV,OACD,CAYD,6BACC,QAAS,CACT,UAYD,CAVC,+CACC,UAAW,CACX,0CACD,CAEA,qDACC,UAAW,CACX,MAAO,CACP,yBACD,CAYD,4BACC,yCAA4C,CAC5C,2BAQD,CANC,oDACC,4CAA+C,CAC/C,0BAA6B,CAC7B,6BAAoF,CAApF,+BAAoF,CAApF,8BAAoF,CAApF,mDAAoF,CACpF,8CAAsG,CAAtG,qBAAsG,CAAtG,+CAAsG,CAAtG,6CACD,CAUD,4BACC,8CAA+C,CAC/C,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDACC,0CAA6C,CAC7C,8CAAiD,CACjD,6BAAoF,CAApF,+BAAoF,CAApF,qDAAoF,CAApF,4BAAoF,CACpF,mBAAsG,CAAtG,gDAAsG,CAAtG,+CAAsG,CAAtG,6CACD,CAWF,4BACC,+CAAgD,CAChD,SAAU,CACV,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDACC,SAAU,CACV,8CAAiD,CACjD,oDAAoF,CAApF,+BAAoF,CAApF,8BAAoF,CAApF,4BAAoF,CACpF,8CAAsG,CAAtG,gDAAsG,CAAtG,oBAAsG,CAAtG,6CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-tooltip,
.ck.ck-tooltip .ck-tooltip__text::after {
	position: absolute;

	/* Without this, hovering the tooltip could keep it visible. */
	pointer-events: none;

	/* This is to get rid of flickering when transitioning opacity in Chrome.
	It's weird but it works. */
	-webkit-backface-visibility: hidden;
}

.ck.ck-tooltip {
	/* Tooltip is hidden by default. */
	visibility: hidden;
	opacity: 0;
	display: none;
	z-index: var(--ck-z-modal);

	& .ck-tooltip__text {
		display: inline-block;

		&::after {
			content: "";
			width: 0;
			height: 0;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-tooltip-arrow-size: 5px;
}

.ck.ck-tooltip {
	left: 50%;

	/*
	 * Prevent blurry tooltips in LoDPI environments.
	 * See https://github.com/ckeditor/ckeditor5/issues/1802.
	 */
	top: 0;

	/*
	 * For the transition to work, the tooltip must be controlled
	 * using visibility+opacity. A delay prevents a "tooltip avalanche"
	 * i.e. when scanning the toolbar with mouse cursor.
	 */
	transition: opacity .2s ease-in-out .2s;

	& .ck-tooltip__text {
		@mixin ck-rounded-corners;

		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		background: var(--ck-color-tooltip-background);
		position: relative;
		left: -50%;

		&::after {
			/*
			 * For the transition to work, the tooltip must be controlled
			 * using visibility+opacity. A delay prevents a "tooltip avalanche"
			 * i.e. when scanning the toolbar with mouse cursor.
			 */
			transition: opacity .2s ease-in-out .2s;
			border-style: solid;
			left: 50%;
		}
	}

	/**
	 * A class that displays the tooltip south of the element.
	 *
	 *       [element]
	 *           ^
	 *     +-----------+
	 *     |  Tooltip  |
	 *     +-----------+
	 */
	&.ck-tooltip_s,
	&.ck-tooltip_sw,
	&.ck-tooltip_se {
		bottom: calc(-1 * var(--ck-tooltip-arrow-size));
		transform: translateY( 100% );

		& .ck-tooltip__text::after {
			/* 1px addresses gliches in rendering causing gap between the triangle and the text */
			top: calc(-1 * var(--ck-tooltip-arrow-size) + 1px);
			transform: translateX( -50% );
			border-color: transparent transparent var(--ck-color-tooltip-background) transparent;
			border-width: 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);
		}
	}

	/**
	 * A class that displays the tooltip south-west of the element.
	 *
	 *        [element]
	 *            ^
	 *  +-----------+
	 *  |  Tooltip  |
	 *  +-----------+
	 */

	&.ck-tooltip_sw {
		right: 50%;
		left: auto;

		& .ck-tooltip__text {
			left: auto;
			right: calc( -2 * var(--ck-tooltip-arrow-size));
		}

		& .ck-tooltip__text::after {
			left: auto;
			right: 0;
		}
	}

	/**
	 * A class that displays the tooltip south-east of the element.
	 *
	 *  [element]
	 *      ^
	 *    +-----------+
	 *    |  Tooltip  |
	 *    +-----------+
	 */
	&.ck-tooltip_se {
		left: 50%;
		right: auto;

		& .ck-tooltip__text {
			right: auto;
			left: calc( -2 * var(--ck-tooltip-arrow-size));
		}

		& .ck-tooltip__text::after {
			right: auto;
			left: 0;
			transform: translateX( 50% );
		}
	}

	/**
	 * A class that displays the tooltip north of the element.
	 *
	 *     +-----------+
	 *     |  Tooltip  |
	 *     +-----------+
	 *           V
	 *       [element]
	 */
	&.ck-tooltip_n {
		top: calc(-1 * var(--ck-tooltip-arrow-size));
		transform: translateY( -100% );

		& .ck-tooltip__text::after {
			bottom: calc(-1 * var(--ck-tooltip-arrow-size));
			transform: translateX( -50% );
			border-color: var(--ck-color-tooltip-background) transparent transparent transparent;
			border-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);
		}
	}

	/**
	 * A class that displays the tooltip east of the element.
	 *
	 *                +----------+
	 *    [element] < |   east   |
	 *                +----------+
	 */
	&.ck-tooltip_e {
		left: calc(100% + var(--ck-tooltip-arrow-size));
		top: 50%;

		& .ck-tooltip__text {
			left: 0;
			transform: translateY( -50% );

			&::after {
				left: calc(-1 * var(--ck-tooltip-arrow-size));
				top: calc(50% - 1 * var(--ck-tooltip-arrow-size));
				border-color: transparent var(--ck-color-tooltip-background) transparent transparent;
				border-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0;
			}
		}
	}

	/**
	 * A class that displays the tooltip west of the element.
	 *
	 *    +----------+
	 *    |   west   | > [element]
	 *    +----------+
	 */
	&.ck-tooltip_w {
		right: calc(100% + var(--ck-tooltip-arrow-size));
		left: auto;
		top: 50%;

		& .ck-tooltip__text {
			left: 0;
			transform: translateY( -50% );

			&::after {
				left: 100%;
				top: calc(50% - 1 * var(--ck-tooltip-arrow-size));
				border-color: transparent transparent transparent var(--ck-color-tooltip-background);
				border-width: var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=x},4793:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,iDAGC,qBAAsB,CACtB,UAAW,CACX,WAAY,CACZ,eACD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAgD,CAChD,8BAAmD,CACnD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAmD,CACnD,oCAAuD,CACvD,6BAAkD,CAIlD,+CAAwD,CACxD,qEAA+E,CAC/E,qCAAwD,CACxD,sDAA8D,CAC9D,iDAAyD,CACzD,yCAAqD,CACrD,uCAAsD,CACtD,6CAA0D,CAC1D,uCAAsD,CAItD,gDAAuD,CACvD,kDAA+D,CAC/D,mDAAgE,CAChE,+CAA6D,CAC7D,yDAA8D,CAE9D,uCAAuD,CACvD,6CAA4D,CAC5D,8CAA4D,CAC5D,0CAAyD,CACzD,gDAA8D,CAE9D,+DAAsE,CACtE,iDAAkE,CAClE,kDAAkE,CAClE,8CAA+D,CAC/D,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA4D,CAC5D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAmE,CACnE,yEAA8E,CAC9E,qDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,+BAAiD,CACjD,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,wCAAwD,CACxD,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,gEAAuE,CACvE,4EAAiF,CACjF,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,wDAAmE,CACnE,mDAAgE,CCpGhE,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJoGD,CI9FA,iDAIC,QAAS,CACT,SAAU,CACV,QAAS,CACT,sBAAuB,CACvB,oBAAqB,CACrB,qBAAsB,CACtB,eAAgB,CAGhB,oBACD,CAKA,oCAGC,wBAAyB,CACzB,iGAAkG,CAClG,0BAA2B,CAC3B,eAAgB,CAChB,kBAAmB,CACnB,WAAY,CACZ,UACD,CAGC,2BACC,gBACD,CAEA,wBAEC,sBACD,CAEA,0BACC,oBACD,CAEA,kGAGC,WACD,CAEA,gIAGC,cACD,CAEA,0BACC,YAAa,CACb,yBACD,CAEA,0CAEC,SAAU,CACV,QACD,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck.ck-reset_all * {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(0, 0%, 77%);
	--ck-color-base-action: 									hsl(104, 44%, 48%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(208, 88%, 52%);
	--ck-color-base-active-focus:								hsl(208, 88%, 47%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						208, 79%, 51%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(207, 89%, 86%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 90%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 85%);
	--ck-color-button-default-active-shadow: 					hsl(0, 0%, 75%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(0, 0%, 87%);
	--ck-color-button-on-hover-background: 						hsl(0, 0%, 77%);
	--ck-color-button-on-active-background: 					hsl(0, 0%, 73%);
	--ck-color-button-on-active-shadow: 						hsl(0, 0%, 63%);
	--ck-color-button-on-disabled-background: 					hsl(0, 0%, 87%);

	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 44%, 43%);
	--ck-color-button-action-active-background: 				hsl(104, 44%, 41%);
	--ck-color-button-action-active-shadow: 					hsl(104, 44%, 36%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 69%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 64%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 44%, 43%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									hsl(0, 0%, 78%);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							hsl(0, 0%, 78%);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-base-active);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-base-active-focus);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-foreground);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck.ck-reset_all * {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck.ck-reset_all * {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck.ck-reset_all {
	& .ck-rtl * {
		text-align: right;
	}

	& iframe {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea {
		white-space: pre-wrap;
	}

	& textarea,
	& input[type="text"],
	& input[type="password"] {
		cursor: text;
	}

	& textarea[disabled],
	& input[type="text"][disabled],
	& input[type="password"][disabled] {
		cursor: default;
	}

	& fieldset {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const E=x},3488:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:0 var(--ck-spacing-small);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{top:calc(var(--ck-resizer-tooltip-height)*-1);left:50%;transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CACtD,0CAA2C,CAC3C,qDAAsD,CACtD,6CAA8C,CAC9C,kCAAmC,CACnC,aAAc,CACd,iCAAkC,CAClC,uCAAwC,CACxC,4CAoCD,CAlCC,8NAKC,iBACD,CAEA,0CACC,oCAAqC,CACrC,qCACD,CAEA,2CACC,oCAAqC,CACrC,sCACD,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CACC,6CAAgD,CAChD,QAAS,CACT,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eACC,gDAAiD,CACjD,mBAAoB,CACpB,yBAA0B,CAC1B,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGC/BA,YAAa,CACb,2BAA2B,CCF3B,qCAA8B,CFqC7B,iEACD,CAIA,4EACC,WAAY,CACZ,qBAAsB,CAGtB,4BAA6B,CAC7B,SAAU,CAMV,6SAG6F,CAG7F,iEAAkE,CAGlE,2BAA4B,CAC5B,mDAAoD,CACpD,KAqBD,CAnBC,qFAEC,wCAAyC,CACzC,yCAA0C,CAC1C,oDASD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFACC,SAAU,CACV,oDACD,CAKC,oMACC,SAAU,CACV,6CAMD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=x},8506:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CACb,iBAAkB,CAGlB,mBAAoB,CAEpB,MAAO,CACP,KACD,CAGC,2EACC,aACD,CAGD,gCACC,iBAAkB,CAGlB,kBAWD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCACC,4BAA6B,CAC7B,6BAA8B,CAC9B,uCAAwC,CACxC,gDAA6D,CAC7D,6CAqBD,CAnBC,oEACC,4BAA6B,CAC7B,6BACD,CAEA,qEACC,4BAA6B,CAC7B,8BACD,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const E=x},4921:(d,f,p)=>{p.d(f,{Z:()=>E});var k=p(1799),C=p.n(k),w=p(2609),x=p.n(w)()(C());x.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CACd,iBAAkB,CAClB,eAAgB,CAChB,2BAwBD,CAtBC,mDACC,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAEA,qFAEC,iDAAoD,CACpD,kBAAoB,CAEpB,0BACD,CAEA,oFAEC,oDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CACd,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAMD,2EACC,YAAa,CACb,iBAAkB,CAClB,MAAO,CACP,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHACC,qDAA0D,CAC1D,aACD,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CACC,8CAA+C,CAC/C,+CAAgD,CAChD,oDAAqD,CACrD,mBAAoB,CACpB,uMAAyM,CAb1M,SAAU,CACV,mBA0DA,CA1CC,mDACC,UAAW,CACX,UAAW,CACX,8BAA+B,CAC/B,6BAA8B,CAC9B,cAgBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLACC,0DAA2D,CAC3D,2DAA4D,CAC5D,mBAAoB,CACpB,uEACD,CAOD,8GACC,gBACD,CAKA,mDACC,mBAAoB,CACpB,UAAW,CACX,mFAAoF,CAMpF,oCAAwC,CACxC,oCACD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CASE,0jBACC,SACD,CASF,mPACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const E=x},2609:d=>{d.exports=function(f){var p=[];return p.toString=function(){return this.map(function(k){var C=f(k);return k[2]?"@media ".concat(k[2]," {").concat(C,"}"):C}).join("")},p.i=function(k,C,w){typeof k=="string"&&(k=[[null,k,""]]);var x={};if(w)for(var E=0;E<this.length;E++){var D=this[E][0];D!=null&&(x[D]=!0)}for(var I=0;I<k.length;I++){var P=[].concat(k[I]);w&&x[P[0]]||(C&&(P[2]?P[2]="".concat(C," and ").concat(P[2]):P[2]=C),p.push(P))}},p}},1799:d=>{function f(k,C){return function(w){if(Array.isArray(w))return w}(k)||function(w,x){var E=w&&(typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"]);if(E!=null){var D,I,P=[],B=!0,z=!1;try{for(E=E.call(w);!(B=(D=E.next()).done)&&(P.push(D.value),!x||P.length!==x);B=!0);}catch(U){z=!0,I=U}finally{try{B||E.return==null||E.return()}finally{if(z)throw I}}return P}}(k,C)||function(w,x){if(!!w){if(typeof w=="string")return p(w,x);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return p(w,x)}}(k,C)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(k,C){(C==null||C>k.length)&&(C=k.length);for(var w=0,x=new Array(C);w<C;w++)x[w]=k[w];return x}d.exports=function(k){var C=f(k,4),w=C[1],x=C[3];if(!x)return w;if(typeof btoa=="function"){var E=btoa(unescape(encodeURIComponent(JSON.stringify(x)))),D="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),I="/*# ".concat(D," */"),P=x.sources.map(function(B){return"/*# sourceURL=".concat(x.sourceRoot||"").concat(B," */")});return[w].concat(P).concat([I]).join(`
`)}return[w].join(`
`)}},6062:(d,f,p)=>{var k,C=function(){return k===void 0&&(k=Boolean(window&&document&&document.all&&!window.atob)),k},w=function(){var $={};return function(G){if($[G]===void 0){var V=document.querySelector(G);if(window.HTMLIFrameElement&&V instanceof window.HTMLIFrameElement)try{V=V.contentDocument.head}catch{V=null}$[G]=V}return $[G]}}(),x=[];function E($){for(var G=-1,V=0;V<x.length;V++)if(x[V].identifier===$){G=V;break}return G}function D($,G){for(var V={},Q=[],nt=0;nt<$.length;nt++){var J=$[nt],X=G.base?J[0]+G.base:J[0],lt=V[X]||0,ot="".concat(X," ").concat(lt);V[X]=lt+1;var rt=E(ot),ht={css:J[1],media:J[2],sourceMap:J[3]};rt!==-1?(x[rt].references++,x[rt].updater(ht)):x.push({identifier:ot,updater:H(ht,G),references:1}),Q.push(ot)}return Q}function I($){var G=document.createElement("style"),V=$.attributes||{};if(V.nonce===void 0){var Q=p.nc;Q&&(V.nonce=Q)}if(Object.keys(V).forEach(function(J){G.setAttribute(J,V[J])}),typeof $.insert=="function")$.insert(G);else{var nt=w($.insert||"head");if(!nt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");nt.appendChild(G)}return G}var P,B=(P=[],function($,G){return P[$]=G,P.filter(Boolean).join(`
`)});function z($,G,V,Q){var nt=V?"":Q.media?"@media ".concat(Q.media," {").concat(Q.css,"}"):Q.css;if($.styleSheet)$.styleSheet.cssText=B(G,nt);else{var J=document.createTextNode(nt),X=$.childNodes;X[G]&&$.removeChild(X[G]),X.length?$.insertBefore(J,X[G]):$.appendChild(J)}}function U($,G,V){var Q=V.css,nt=V.media,J=V.sourceMap;if(nt?$.setAttribute("media",nt):$.removeAttribute("media"),J&&typeof btoa<"u"&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(J))))," */")),$.styleSheet)$.styleSheet.cssText=Q;else{for(;$.firstChild;)$.removeChild($.firstChild);$.appendChild(document.createTextNode(Q))}}var R=null,F=0;function H($,G){var V,Q,nt;if(G.singleton){var J=F++;V=R||(R=I(G)),Q=z.bind(null,V,J,!1),nt=z.bind(null,V,J,!0)}else V=I(G),Q=U.bind(null,V,G),nt=function(){(function(X){if(X.parentNode===null)return!1;X.parentNode.removeChild(X)})(V)};return Q($),function(X){if(X){if(X.css===$.css&&X.media===$.media&&X.sourceMap===$.sourceMap)return;Q($=X)}else nt()}}d.exports=function($,G){(G=G||{}).singleton||typeof G.singleton=="boolean"||(G.singleton=C());var V=D($=$||[],G);return function(Q){if(Q=Q||[],Object.prototype.toString.call(Q)==="[object Array]"){for(var nt=0;nt<V.length;nt++){var J=E(V[nt]);x[J].references--}for(var X=D(Q,G),lt=0;lt<V.length;lt++){var ot=E(V[lt]);x[ot].references===0&&(x[ot].updater(),x.splice(ot,1))}V=X}}}}},l={};function u(d){var f=l[d];if(f!==void 0)return f.exports;var p=l[d]={id:d,exports:{}};return s[d](p,p.exports,u),p.exports}u.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return u.d(f,{a:f}),f},u.d=(d,f)=>{for(var p in f)u.o(f,p)&&!u.o(d,p)&&Object.defineProperty(d,p,{enumerable:!0,get:f[p]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f);var g={};return(()=>{u.d(g,{default:()=>Xd});const d=function(){return function a(){a.called=!0}};class f{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=d(),this.off=d()}}const p=new Array(256).fill().map((a,t)=>("0"+t.toString(16)).slice(-2));function k(){const a=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+p[a>>0&255]+p[a>>8&255]+p[a>>16&255]+p[a>>24&255]+p[t>>0&255]+p[t>>8&255]+p[t>>16&255]+p[t>>24&255]+p[e>>0&255]+p[e>>8&255]+p[e>>16&255]+p[e>>24&255]+p[n>>0&255]+p[n>>8&255]+p[n>>16&255]+p[n>>24&255]}const C={get(a){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};class w extends Error{constructor(t,e,n){super(function(o,c){const h=new WeakSet,m=(A,y)=>{if(typeof y=="object"&&y!==null){if(h.has(y))return`[object ${y.constructor.name}]`;h.add(y)}return y},b=c?` ${JSON.stringify(c,m)}`:"",v=E(o);return o+b+v}(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new w(t.message,e);throw n.stack=t.stack,n}}function x(a,t){console.warn(...D(a,t))}function E(a){return`
Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${a}`}function D(a,t){const e=E(a);return t?[a,t,e]:[a,e]}const I="33.0.0",P=typeof window=="object"?window:u.g;if(P.CKEDITOR_VERSION)throw new w("ckeditor-duplicated-modules",null);P.CKEDITOR_VERSION=I;const B=Symbol("listeningTo"),z=Symbol("emitterId"),U={on(a,t,e={}){this.listenTo(this,a,t,e)},once(a,t,e){let n=!1;this.listenTo(this,a,function(o,...c){n||(n=!0,o.off(),t.call(this,o,...c))},e)},off(a,t){this.stopListening(this,a,t)},listenTo(a,t,e,n={}){let o,c;this[B]||(this[B]={});const h=this[B];H(a)||F(a);const m=H(a);(o=h[m])||(o=h[m]={emitter:a,callbacks:{}}),(c=o.callbacks[t])||(c=o.callbacks[t]=[]),c.push(e),function(b,v,A,y,S){v._addEventListener?v._addEventListener(A,y,S):b._addEventListener.call(v,A,y,S)}(this,a,t,e,n)},stopListening(a,t,e){const n=this[B];let o=a&&H(a);const c=n&&o&&n[o],h=c&&t&&c.callbacks[t];if(!(!n||a&&!c||t&&!h))if(e)nt(this,a,t,e),h.indexOf(e)!==-1&&(h.length===1?delete c.callbacks[t]:nt(this,a,t,e));else if(h){for(;e=h.pop();)nt(this,a,t,e);delete c.callbacks[t]}else if(c){for(t in c.callbacks)this.stopListening(a,t);delete n[o]}else{for(o in n)this.stopListening(n[o].emitter);delete this[B]}},fire(a,...t){try{const e=a instanceof f?a:new f(this,a),n=e.name;let o=V(this,n);if(e.path.push(this),o){const c=[e,...t];o=Array.from(o);for(let h=0;h<o.length&&(o[h].callback.apply(this,c),e.off.called&&(delete e.off.called,this._removeEventListener(n,o[h].callback)),!e.stop.called);h++);}if(this._delegations){const c=this._delegations.get(n),h=this._delegations.get("*");c&&Q(c,e,t),h&&Q(h,e,t)}return e.return}catch(e){w.rethrowUnexpectedError(e,this)}},delegate(...a){return{to:(t,e)=>{this._delegations||(this._delegations=new Map),a.forEach(n=>{const o=this._delegations.get(n);o?o.set(t,e):this._delegations.set(n,new Map([[t,e]]))})}}},stopDelegating(a,t){if(this._delegations)if(a)if(t){const e=this._delegations.get(a);e&&e.delete(t)}else this._delegations.delete(a);else this._delegations.clear()},_addEventListener(a,t,e){(function(h,m){const b=$(h);if(b[m])return;let v=m,A=null;const y=[];for(;v!==""&&!b[v];)b[v]={callbacks:[],childEvents:[]},y.push(b[v]),A&&b[v].childEvents.push(A),A=v,v=v.substr(0,v.lastIndexOf(":"));if(v!==""){for(const S of y)S.callbacks=b[v].callbacks.slice();b[v].childEvents.push(A)}})(this,a);const n=G(this,a),o=C.get(e.priority),c={callback:t,priority:o};for(const h of n){let m=!1;for(let b=0;b<h.length;b++)if(h[b].priority<o){h.splice(b,0,c),m=!0;break}m||h.push(c)}},_removeEventListener(a,t){const e=G(this,a);for(const n of e)for(let o=0;o<n.length;o++)n[o].callback==t&&(n.splice(o,1),o--)}},R=U;function F(a,t){a[z]||(a[z]=t||k())}function H(a){return a[z]}function $(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function G(a,t){const e=$(a)[t];if(!e)return[];let n=[e.callbacks];for(let o=0;o<e.childEvents.length;o++){const c=G(a,e.childEvents[o]);n=n.concat(c)}return n}function V(a,t){let e;return a._events&&(e=a._events[t])&&e.callbacks.length?e.callbacks:t.indexOf(":")>-1?V(a,t.substr(0,t.lastIndexOf(":"))):null}function Q(a,t,e){for(let[n,o]of a){o?typeof o=="function"&&(o=o(t.name)):o=t.name;const c=new f(t.source,o);c.path=[...t.path],n.fire(c,...e)}}function nt(a,t,e,n){t._removeEventListener?t._removeEventListener(e,n):a._removeEventListener.call(t,e,n)}const J=function(a){var t=typeof a;return a!=null&&(t=="object"||t=="function")},X=typeof Tr=="object"&&Tr&&Tr.Object===Object&&Tr;var lt=typeof self=="object"&&self&&self.Object===Object&&self;const ot=X||lt||Function("return this")(),rt=ot.Symbol;var ht=Object.prototype,Dt=ht.hasOwnProperty,Gt=ht.toString,Yt=rt?rt.toStringTag:void 0;const Kt=function(a){var t=Dt.call(a,Yt),e=a[Yt];try{a[Yt]=void 0;var n=!0}catch{}var o=Gt.call(a);return n&&(t?a[Yt]=e:delete a[Yt]),o};var Ut=Object.prototype.toString;const Xt=function(a){return Ut.call(a)};var he=rt?rt.toStringTag:void 0;const it=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":he&&he in Object(a)?Kt(a):Xt(a)},pt=function(a){if(!J(a))return!1;var t=it(a);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},St=ot["__core-js_shared__"];var re=function(){var a=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const Ae=function(a){return!!re&&re in a};var rn=Function.prototype.toString;const $e=function(a){if(a!=null){try{return rn.call(a)}catch{}try{return a+""}catch{}}return""};var Ne=/^\[object .+?Constructor\]$/,ge=Function.prototype,ye=Object.prototype,Wn=ge.toString,sn=ye.hasOwnProperty,hn=RegExp("^"+Wn.call(sn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ki=function(a){return!(!J(a)||Ae(a))&&(pt(a)?hn:Ne).test($e(a))},fo=function(a,t){return a==null?void 0:a[t]},Re=function(a,t){var e=fo(a,t);return ki(e)?e:void 0},Je=function(){try{var a=Re(Object,"defineProperty");return a({},"",{}),a}catch{}}(),Bn=function(a,t,e){t=="__proto__"&&Je?Je(a,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):a[t]=e},An=function(a,t){return a===t||a!=a&&t!=t};var Se=Object.prototype.hasOwnProperty;const Ze=function(a,t,e){var n=a[t];Se.call(a,t)&&An(n,e)&&(e!==void 0||t in a)||Bn(a,t,e)},an=function(a,t,e,n){var o=!e;e||(e={});for(var c=-1,h=t.length;++c<h;){var m=t[c],b=n?n(e[m],a[m],m,e,a):void 0;b===void 0&&(b=a[m]),o?Bn(e,m,b):Ze(e,m,b)}return e},Ln=function(a){return a},po=function(a,t,e){switch(e.length){case 0:return a.call(t);case 1:return a.call(t,e[0]);case 2:return a.call(t,e[0],e[1]);case 3:return a.call(t,e[0],e[1],e[2])}return a.apply(t,e)};var Y=Math.max;const K=function(a,t,e){return t=Y(t===void 0?a.length-1:t,0),function(){for(var n=arguments,o=-1,c=Y(n.length-t,0),h=Array(c);++o<c;)h[o]=n[t+o];o=-1;for(var m=Array(t+1);++o<t;)m[o]=n[o];return m[t]=e(h),po(a,this,m)}},Z=function(a){return function(){return a}},ct=Je?function(a,t){return Je(a,"toString",{configurable:!0,enumerable:!1,value:Z(t),writable:!0})}:Ln;var mt=Date.now;const It=function(a){var t=0,e=0;return function(){var n=mt(),o=16-(n-e);if(e=n,o>0){if(++t>=800)return arguments[0]}else t=0;return a.apply(void 0,arguments)}}(ct),Ht=function(a,t){return It(K(a,t,Ln),a+"")},De=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991},vt=function(a){return a!=null&&De(a.length)&&!pt(a)};var bt=/^(?:0|[1-9]\d*)$/;const wt=function(a,t){var e=typeof a;return!!(t=t==null?9007199254740991:t)&&(e=="number"||e!="symbol"&&bt.test(a))&&a>-1&&a%1==0&&a<t},Lt=function(a,t,e){if(!J(e))return!1;var n=typeof t;return!!(n=="number"?vt(e)&&wt(t,e.length):n=="string"&&t in e)&&An(e[t],a)},Rt=function(a){return Ht(function(t,e){var n=-1,o=e.length,c=o>1?e[o-1]:void 0,h=o>2?e[2]:void 0;for(c=a.length>3&&typeof c=="function"?(o--,c):void 0,h&&Lt(e[0],e[1],h)&&(c=o<3?void 0:c,o=1),t=Object(t);++n<o;){var m=e[n];m&&a(t,m,n,c)}return t})},gn=function(a,t){for(var e=-1,n=Array(a);++e<a;)n[e]=t(e);return n},fn=function(a){return a!=null&&typeof a=="object"},Js=function(a){return fn(a)&&it(a)=="[object Arguments]"};var mo=Object.prototype,YC=mo.hasOwnProperty,KC=mo.propertyIsEnumerable,QC=Js(function(){return arguments}())?Js:function(a){return fn(a)&&YC.call(a,"callee")&&!KC.call(a,"callee")};const tc=QC,yn=Array.isArray,ZC=function(){return!1};var mh=i&&!i.nodeType&&i,bh=mh&&!0&&r&&!r.nodeType&&r,kh=bh&&bh.exports===mh?ot.Buffer:void 0;const Ur=(kh?kh.isBuffer:void 0)||ZC;var xe={};xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Arguments]"]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object Boolean]"]=xe["[object DataView]"]=xe["[object Date]"]=xe["[object Error]"]=xe["[object Function]"]=xe["[object Map]"]=xe["[object Number]"]=xe["[object Object]"]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object WeakMap]"]=!1;const qC=function(a){return fn(a)&&De(a.length)&&!!xe[it(a)]},ec=function(a){return function(t){return a(t)}};var wh=i&&!i.nodeType&&i,Hr=wh&&!0&&r&&!r.nodeType&&r,nc=Hr&&Hr.exports===wh&&X.process;const Qo=function(){try{var a=Hr&&Hr.require&&Hr.require("util").types;return a||nc&&nc.binding&&nc.binding("util")}catch{}}();var vh=Qo&&Qo.isTypedArray;const ic=vh?ec(vh):qC;var XC=Object.prototype.hasOwnProperty;const Ch=function(a,t){var e=yn(a),n=!e&&tc(a),o=!e&&!n&&Ur(a),c=!e&&!n&&!o&&ic(a),h=e||n||o||c,m=h?gn(a.length,String):[],b=m.length;for(var v in a)!t&&!XC.call(a,v)||h&&(v=="length"||o&&(v=="offset"||v=="parent")||c&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||wt(v,b))||m.push(v);return m};var JC=Object.prototype;const oc=function(a){var t=a&&a.constructor;return a===(typeof t=="function"&&t.prototype||JC)},t_=function(a){var t=[];if(a!=null)for(var e in Object(a))t.push(e);return t};var e_=Object.prototype.hasOwnProperty;const n_=function(a){if(!J(a))return t_(a);var t=oc(a),e=[];for(var n in a)(n!="constructor"||!t&&e_.call(a,n))&&e.push(n);return e},Zo=function(a){return vt(a)?Ch(a,!0):n_(a)},$r=Rt(function(a,t){an(t,Zo(t),a)}),ta=Symbol("observableProperties"),ea=Symbol("boundObservables"),na=Symbol("boundProperties"),qo=Symbol("decoratedMethods"),_h=Symbol("decoratedOriginal"),rc={set(a,t){if(J(a))return void Object.keys(a).forEach(n=>{this.set(n,a[n])},this);Ah(this);const e=this[ta];if(a in this&&!e.has(a))throw new w("observable-set-cannot-override",this);Object.defineProperty(this,a,{enumerable:!0,configurable:!0,get:()=>e.get(a),set(n){const o=e.get(a);let c=this.fire("set:"+a,a,n,o);c===void 0&&(c=n),o===c&&e.has(a)||(e.set(a,c),this.fire("change:"+a,a,c,o))}}),this[a]=t},bind(...a){if(!a.length||!yh(a))throw new w("observable-bind-wrong-properties",this);if(new Set(a).size!==a.length)throw new w("observable-bind-duplicate-properties",this);Ah(this);const t=this[na];a.forEach(n=>{if(t.has(n))throw new w("observable-bind-rebind",this)});const e=new Map;return a.forEach(n=>{const o={property:n,to:[]};t.set(n,o),e.set(n,o)}),{to:i_,toMany:o_,_observable:this,_bindProperties:a,_to:[],_bindings:e}},unbind(...a){if(!this[ta])return;const t=this[na],e=this[ea];if(a.length){if(!yh(a))throw new w("observable-unbind-wrong-properties",this);a.forEach(n=>{const o=t.get(n);if(!o)return;let c,h,m,b;o.to.forEach(v=>{c=v[0],h=v[1],m=e.get(c),b=m[h],b.delete(o),b.size||delete m[h],Object.keys(m).length||(e.delete(c),this.stopListening(c,"change"))}),t.delete(n)})}else e.forEach((n,o)=>{this.stopListening(o,"change")}),e.clear(),t.clear()},decorate(a){const t=this[a];if(!t)throw new w("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:a});this.on(a,(e,n)=>{e.return=t.apply(this,n)}),this[a]=function(...e){return this.fire(a,e)},this[a][_h]=t,this[qo]||(this[qo]=[]),this[qo].push(a)}};$r(rc,R),rc.stopListening=function(a,t,e){if(!a&&this[qo]){for(const n of this[qo])this[n]=this[n][_h];delete this[qo]}R.stopListening.call(this,a,t,e)};const me=rc;function Ah(a){a[ta]||(Object.defineProperty(a,ta,{value:new Map}),Object.defineProperty(a,ea,{value:new Map}),Object.defineProperty(a,na,{value:new Map}))}function i_(...a){const t=function(...c){if(!c.length)throw new w("observable-bind-to-parse-error",null);const h={to:[]};let m;return typeof c[c.length-1]=="function"&&(h.callback=c.pop()),c.forEach(b=>{if(typeof b=="string")m.properties.push(b);else{if(typeof b!="object")throw new w("observable-bind-to-parse-error",null);m={observable:b,properties:[]},h.to.push(m)}}),h}(...a),e=Array.from(this._bindings.keys()),n=e.length;if(!t.callback&&t.to.length>1)throw new w("observable-bind-to-no-callback",this);if(n>1&&t.callback)throw new w("observable-bind-to-extra-callback",this);var o;t.to.forEach(c=>{if(c.properties.length&&c.properties.length!==n)throw new w("observable-bind-to-properties-length",this);c.properties.length||(c.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),o=this._observable,this._to.forEach(c=>{const h=o[ea];let m;h.get(c.observable)||o.listenTo(c.observable,"change",(b,v)=>{m=h.get(c.observable)[v],m&&m.forEach(A=>{xh(o,A.property)})})}),function(c){let h;c._bindings.forEach((m,b)=>{c._to.forEach(v=>{h=v.properties[m.callback?0:c._bindProperties.indexOf(b)],m.to.push([v.observable,h]),function(A,y,S,M){const O=A[ea],N=O.get(S),L=N||{};L[M]||(L[M]=new Set),L[M].add(y),N||O.set(S,L)}(c._observable,m,v.observable,h)})})}(this),this._bindProperties.forEach(c=>{xh(this._observable,c)})}function o_(a,t,e){if(this._bindings.size>1)throw new w("observable-bind-to-many-not-one-binding",this);this.to(...function(n,o){const c=n.map(h=>[h,o]);return Array.prototype.concat.apply([],c)}(a,t),e)}function yh(a){return a.every(t=>typeof t=="string")}function xh(a,t){const e=a[na].get(t);let n;e.callback?n=e.callback.apply(a,e.to.map(o=>o[0][o[1]])):(n=e.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(a,t)?a[t]=n:a.set(t,n)}function Ct(a,...t){t.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in a.prototype)return;const o=Object.getOwnPropertyDescriptor(e,n);o.enumerable=!1,Object.defineProperty(a.prototype,n,o)})})}class dt{constructor(t){this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Eh,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Eh),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Eh(a){a.return=!1,a.stop()}Ct(dt,me);class zt{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this.affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(e,n,o)=>{o&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Sh,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Sh),this.refresh())}execute(){}destroy(){this.stopListening()}}function Sh(a){a.return=!1,a.stop()}Ct(zt,me);class Dh extends zt{constructor(t){super(t),this._childCommands=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return e!=null&&e.execute(t)}registerChildCommand(t){this._childCommands.push(t),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(t=>t.isEnabled)}}const Mh=function(a,t){return function(e){return a(t(e))}},sc=Mh(Object.getPrototypeOf,Object);var r_=Function.prototype,s_=Object.prototype,Ih=r_.toString,a_=s_.hasOwnProperty,l_=Ih.call(Object);const zn=function(a){if(!fn(a)||it(a)!="[object Object]")return!1;var t=sc(a);if(t===null)return!0;var e=a_.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Ih.call(e)==l_},c_=function(){this.__data__=[],this.size=0},ia=function(a,t){for(var e=a.length;e--;)if(An(a[e][0],t))return e;return-1};var d_=Array.prototype.splice;const u_=function(a){var t=this.__data__,e=ia(t,a);return!(e<0)&&(e==t.length-1?t.pop():d_.call(t,e,1),--this.size,!0)},h_=function(a){var t=this.__data__,e=ia(t,a);return e<0?void 0:t[e][1]},g_=function(a){return ia(this.__data__,a)>-1},f_=function(a,t){var e=this.__data__,n=ia(e,a);return n<0?(++this.size,e.push([a,t])):e[n][1]=t,this};function Xo(a){var t=-1,e=a==null?0:a.length;for(this.clear();++t<e;){var n=a[t];this.set(n[0],n[1])}}Xo.prototype.clear=c_,Xo.prototype.delete=u_,Xo.prototype.get=h_,Xo.prototype.has=g_,Xo.prototype.set=f_;const oa=Xo,p_=function(){this.__data__=new oa,this.size=0},m_=function(a){var t=this.__data__,e=t.delete(a);return this.size=t.size,e},b_=function(a){return this.__data__.get(a)},k_=function(a){return this.__data__.has(a)},Wr=Re(ot,"Map"),Gr=Re(Object,"create"),w_=function(){this.__data__=Gr?Gr(null):{},this.size=0},v_=function(a){var t=this.has(a)&&delete this.__data__[a];return this.size-=t?1:0,t};var C_=Object.prototype.hasOwnProperty;const __=function(a){var t=this.__data__;if(Gr){var e=t[a];return e==="__lodash_hash_undefined__"?void 0:e}return C_.call(t,a)?t[a]:void 0};var A_=Object.prototype.hasOwnProperty;const y_=function(a){var t=this.__data__;return Gr?t[a]!==void 0:A_.call(t,a)},x_=function(a,t){var e=this.__data__;return this.size+=this.has(a)?0:1,e[a]=Gr&&t===void 0?"__lodash_hash_undefined__":t,this};function Jo(a){var t=-1,e=a==null?0:a.length;for(this.clear();++t<e;){var n=a[t];this.set(n[0],n[1])}}Jo.prototype.clear=w_,Jo.prototype.delete=v_,Jo.prototype.get=__,Jo.prototype.has=y_,Jo.prototype.set=x_;const Th=Jo,E_=function(){this.size=0,this.__data__={hash:new Th,map:new(Wr||oa),string:new Th}},S_=function(a){var t=typeof a;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?a!=="__proto__":a===null},ra=function(a,t){var e=a.__data__;return S_(t)?e[typeof t=="string"?"string":"hash"]:e.map},D_=function(a){var t=ra(this,a).delete(a);return this.size-=t?1:0,t},M_=function(a){return ra(this,a).get(a)},I_=function(a){return ra(this,a).has(a)},T_=function(a,t){var e=ra(this,a),n=e.size;return e.set(a,t),this.size+=e.size==n?0:1,this};function tr(a){var t=-1,e=a==null?0:a.length;for(this.clear();++t<e;){var n=a[t];this.set(n[0],n[1])}}tr.prototype.clear=E_,tr.prototype.delete=D_,tr.prototype.get=M_,tr.prototype.has=I_,tr.prototype.set=T_;const sa=tr,P_=function(a,t){var e=this.__data__;if(e instanceof oa){var n=e.__data__;if(!Wr||n.length<199)return n.push([a,t]),this.size=++e.size,this;e=this.__data__=new sa(n)}return e.set(a,t),this.size=e.size,this};function er(a){var t=this.__data__=new oa(a);this.size=t.size}er.prototype.clear=p_,er.prototype.delete=m_,er.prototype.get=b_,er.prototype.has=k_,er.prototype.set=P_;const Yr=er,O_=function(a,t){for(var e=-1,n=a==null?0:a.length;++e<n&&t(a[e],e,a)!==!1;);return a},N_=Mh(Object.keys,Object);var B_=Object.prototype.hasOwnProperty;const L_=function(a){if(!oc(a))return N_(a);var t=[];for(var e in Object(a))B_.call(a,e)&&e!="constructor"&&t.push(e);return t},ac=function(a){return vt(a)?Ch(a):L_(a)},z_=function(a,t){return a&&an(t,ac(t),a)},R_=function(a,t){return a&&an(t,Zo(t),a)};var Ph=i&&!i.nodeType&&i,Oh=Ph&&!0&&r&&!r.nodeType&&r,Nh=Oh&&Oh.exports===Ph?ot.Buffer:void 0,Bh=Nh?Nh.allocUnsafe:void 0;const Lh=function(a,t){if(t)return a.slice();var e=a.length,n=Bh?Bh(e):new a.constructor(e);return a.copy(n),n},zh=function(a,t){var e=-1,n=a.length;for(t||(t=Array(n));++e<n;)t[e]=a[e];return t},j_=function(a,t){for(var e=-1,n=a==null?0:a.length,o=0,c=[];++e<n;){var h=a[e];t(h,e,a)&&(c[o++]=h)}return c},Rh=function(){return[]};var F_=Object.prototype.propertyIsEnumerable,jh=Object.getOwnPropertySymbols;const lc=jh?function(a){return a==null?[]:(a=Object(a),j_(jh(a),function(t){return F_.call(a,t)}))}:Rh,V_=function(a,t){return an(a,lc(a),t)},Fh=function(a,t){for(var e=-1,n=t.length,o=a.length;++e<n;)a[o+e]=t[e];return a},Vh=Object.getOwnPropertySymbols?function(a){for(var t=[];a;)Fh(t,lc(a)),a=sc(a);return t}:Rh,U_=function(a,t){return an(a,Vh(a),t)},Uh=function(a,t,e){var n=t(a);return yn(a)?n:Fh(n,e(a))},cc=function(a){return Uh(a,ac,lc)},H_=function(a){return Uh(a,Zo,Vh)},dc=Re(ot,"DataView"),uc=Re(ot,"Promise"),hc=Re(ot,"Set"),gc=Re(ot,"WeakMap");var Hh="[object Map]",$h="[object Promise]",Wh="[object Set]",Gh="[object WeakMap]",Yh="[object DataView]",$_=$e(dc),W_=$e(Wr),G_=$e(uc),Y_=$e(hc),K_=$e(gc),bo=it;(dc&&bo(new dc(new ArrayBuffer(1)))!=Yh||Wr&&bo(new Wr)!=Hh||uc&&bo(uc.resolve())!=$h||hc&&bo(new hc)!=Wh||gc&&bo(new gc)!=Gh)&&(bo=function(a){var t=it(a),e=t=="[object Object]"?a.constructor:void 0,n=e?$e(e):"";if(n)switch(n){case $_:return Yh;case W_:return Hh;case G_:return $h;case Y_:return Wh;case K_:return Gh}return t});const Kr=bo;var Q_=Object.prototype.hasOwnProperty;const Z_=function(a){var t=a.length,e=new a.constructor(t);return t&&typeof a[0]=="string"&&Q_.call(a,"index")&&(e.index=a.index,e.input=a.input),e},aa=ot.Uint8Array,fc=function(a){var t=new a.constructor(a.byteLength);return new aa(t).set(new aa(a)),t},q_=function(a,t){var e=t?fc(a.buffer):a.buffer;return new a.constructor(e,a.byteOffset,a.byteLength)};var X_=/\w*$/;const J_=function(a){var t=new a.constructor(a.source,X_.exec(a));return t.lastIndex=a.lastIndex,t};var Kh=rt?rt.prototype:void 0,Qh=Kh?Kh.valueOf:void 0;const tA=function(a){return Qh?Object(Qh.call(a)):{}},Zh=function(a,t){var e=t?fc(a.buffer):a.buffer;return new a.constructor(e,a.byteOffset,a.length)},eA=function(a,t,e){var n=a.constructor;switch(t){case"[object ArrayBuffer]":return fc(a);case"[object Boolean]":case"[object Date]":return new n(+a);case"[object DataView]":return q_(a,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Zh(a,e);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(a);case"[object RegExp]":return J_(a);case"[object Symbol]":return tA(a)}};var qh=Object.create;const nA=function(){function a(){}return function(t){if(!J(t))return{};if(qh)return qh(t);a.prototype=t;var e=new a;return a.prototype=void 0,e}}(),Xh=function(a){return typeof a.constructor!="function"||oc(a)?{}:nA(sc(a))},iA=function(a){return fn(a)&&Kr(a)=="[object Map]"};var Jh=Qo&&Qo.isMap;const oA=Jh?ec(Jh):iA,rA=function(a){return fn(a)&&Kr(a)=="[object Set]"};var tg=Qo&&Qo.isSet;const sA=tg?ec(tg):rA;var eg="[object Arguments]",ng="[object Function]",aA="[object Object]",be={};be[eg]=be["[object Array]"]=be["[object ArrayBuffer]"]=be["[object DataView]"]=be["[object Boolean]"]=be["[object Date]"]=be["[object Float32Array]"]=be["[object Float64Array]"]=be["[object Int8Array]"]=be["[object Int16Array]"]=be["[object Int32Array]"]=be["[object Map]"]=be["[object Number]"]=be["[object Object]"]=be["[object RegExp]"]=be["[object Set]"]=be["[object String]"]=be["[object Symbol]"]=be["[object Uint8Array]"]=be["[object Uint8ClampedArray]"]=be["[object Uint16Array]"]=be["[object Uint32Array]"]=!0,be["[object Error]"]=be[ng]=be["[object WeakMap]"]=!1;const pc=function a(t,e,n,o,c,h){var m,b=1&e,v=2&e,A=4&e;if(n&&(m=c?n(t,o,c,h):n(t)),m!==void 0)return m;if(!J(t))return t;var y=yn(t);if(y){if(m=Z_(t),!b)return zh(t,m)}else{var S=Kr(t),M=S==ng||S=="[object GeneratorFunction]";if(Ur(t))return Lh(t,b);if(S==aA||S==eg||M&&!c){if(m=v||M?{}:Xh(t),!b)return v?U_(t,R_(m,t)):V_(t,z_(m,t))}else{if(!be[S])return c?t:{};m=eA(t,S,b)}}h||(h=new Yr);var O=h.get(t);if(O)return O;h.set(t,m),sA(t)?t.forEach(function(L){m.add(a(L,e,n,L,t,h))}):oA(t)&&t.forEach(function(L,j){m.set(j,a(L,e,n,j,t,h))});var N=y?void 0:(A?v?H_:cc:v?Zo:ac)(t);return O_(N||t,function(L,j){N&&(L=t[j=L]),Ze(m,j,a(L,e,n,j,t,h))}),m},ig=function(a,t){return pc(a,5,t=typeof t=="function"?t:void 0)},qi=function(a){return fn(a)&&a.nodeType===1&&!zn(a)};class og{constructor(t,e){this._config={},e&&this.define(rg(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,o=!1){if(zn(e))return void this._setObjectToTarget(t,e,o);const c=e.split(".");e=c.pop();for(const h of c)zn(t[h])||(t[h]={}),t=t[h];if(zn(n))return zn(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,o);o&&t[e]!==void 0||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const o of n){if(!zn(t[o])){t=null;break}t=t[o]}return t?rg(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(o=>{this._setToTarget(t,o,e[o],n)})}}function rg(a){return ig(a,lA)}function lA(a){return qi(a)?a:void 0}function Gn(a){return!(!a||!a[Symbol.iterator])}class Yn{constructor(t={},e={}){const n=Gn(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const o of t)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(e===void 0)e=this._items.length;else if(e>this._items.length||e<0)throw new w("collection-add-item-invalid-index",this);for(let n=0;n<t.length;n++){const o=t[n],c=this._getItemIdBeforeAdding(o),h=e+n;this._items.splice(h,0,o),this._itemMap.set(c,o),this.fire("add",o,h)}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if(typeof t=="string")e=this._itemMap.get(t);else{if(typeof t!="number")throw new w("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const e=t[this._idProperty];return this._itemMap.has(e)}}getIndex(t){let e;return e=typeof t=="string"?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new w("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:e=>{this._setUpBindToBinding(n=>new e(n))},using:e=>{typeof e=="function"?this._setUpBindToBinding(n=>e(n)):this._setUpBindToBinding(n=>n[e])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(o,c,h)=>{const m=e._bindToCollection==this,b=e._bindToInternalToExternalMap.get(c);if(m&&b)this._bindToExternalToInternalMap.set(c,b),this._bindToInternalToExternalMap.set(b,c);else{const v=t(c);if(!v)return void this._skippedIndexesFromExternal.push(h);let A=h;for(const y of this._skippedIndexesFromExternal)h>y&&A--;for(const y of e._skippedIndexesFromExternal)A>=y&&A++;this._bindToExternalToInternalMap.set(c,v),this._bindToInternalToExternalMap.set(v,c),this.add(v,A);for(let y=0;y<e._skippedIndexesFromExternal.length;y++)A<=e._skippedIndexesFromExternal[y]&&e._skippedIndexesFromExternal[y]++}};for(const o of e)n(0,o,e.getIndex(o));this.listenTo(e,"add",n),this.listenTo(e,"remove",(o,c,h)=>{const m=this._bindToExternalToInternalMap.get(c);m&&this.remove(m),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((b,v)=>(h<v&&b.push(v-1),h>v&&b.push(v),b),[])})}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],typeof n!="string")throw new w("collection-add-invalid-id",this);if(this.get(n))throw new w("collection-add-item-already-exists",this)}else t[e]=n=k();return n}_remove(t){let e,n,o,c=!1;const h=this._idProperty;if(typeof t=="string"?(n=t,o=this._itemMap.get(n),c=!o,o&&(e=this._items.indexOf(o))):typeof t=="number"?(e=t,o=this._items[e],c=!o,o&&(n=o[h])):(o=t,n=o[h],e=this._items.indexOf(o),c=e==-1||!this._itemMap.get(n)),c)throw new w("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const m=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(m),this.fire("remove",o,e),[o,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Ct(Yn,R);class mc{constructor(t,e=[],n=[]){this._context=t,this._plugins=new Map,this._availablePlugins=new Map;for(const o of e)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,c]of n)this._contextPlugins.set(o,c),this._contextPlugins.set(c,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let n=t;throw typeof t=="function"&&(n=t.pluginName||t.name),new w("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return e}has(t){return this._plugins.has(t)}init(t,e=[],n=[]){const o=this,c=this._context;(function O(N,L=new Set){N.forEach(j=>{b(j)&&(L.has(j)||(L.add(j),j.pluginName&&!o._availablePlugins.has(j.pluginName)&&o._availablePlugins.set(j.pluginName,j),j.requires&&O(j.requires,L)))})})(t),S(t);const h=[...function O(N,L=new Set){return N.map(j=>b(j)?j:o._availablePlugins.get(j)).reduce((j,W)=>L.has(W)?j:(L.add(W),W.requires&&(S(W.requires,W),O(W.requires,L).forEach(tt=>j.add(tt))),j.add(W)),new Set)}(t.filter(O=>!A(O,e)))];(function(O,N){for(const L of N){if(typeof L!="function")throw new w("plugincollection-replace-plugin-invalid-type",null,{pluginItem:L});const j=L.pluginName;if(!j)throw new w("plugincollection-replace-plugin-missing-name",null,{pluginItem:L});if(L.requires&&L.requires.length)throw new w("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:j});const W=o._availablePlugins.get(j);if(!W)throw new w("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:j});const tt=O.indexOf(W);if(tt===-1){if(o._contextPlugins.has(W))return;throw new w("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:j})}if(W.requires&&W.requires.length)throw new w("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:j});O.splice(tt,1,L),o._availablePlugins.set(j,L)}})(h,n);const m=function(O){return O.map(N=>{const L=o._contextPlugins.get(N)||new N(c);return o._add(N,L),L})}(h);return M(m,"init").then(()=>M(m,"afterInit")).then(()=>m);function b(O){return typeof O=="function"}function v(O){return b(O)&&O.isContextPlugin}function A(O,N){return N.some(L=>L===O||y(O)===L||y(L)===O)}function y(O){return b(O)?O.pluginName||O.name:O}function S(O,N=null){O.map(L=>b(L)?L:o._availablePlugins.get(L)||L).forEach(L=>{(function(j,W){if(!b(j))throw W?new w("plugincollection-soft-required",c,{missingPlugin:j,requiredBy:y(W)}):new w("plugincollection-plugin-not-found",c,{plugin:j})})(L,N),function(j,W){if(!!v(W)&&!v(j))throw new w("plugincollection-context-required",c,{plugin:y(j),requiredBy:y(W)})}(L,N),function(j,W){if(!!W&&!!A(j,e))throw new w("plugincollection-required",c,{plugin:y(j),requiredBy:y(W)})}(L,N)})}function M(O,N){return O.reduce((L,j)=>j[N]?o._contextPlugins.has(j)?L:L.then(j[N].bind(j)):L,Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)typeof e.destroy!="function"||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new w("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}function tn(a){return Array.isArray(a)?a:[a]}function cA(a,t,e=1){if(typeof e!="number")throw new w("translation-service-quantity-not-a-number",null,{quantity:e});const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;n===1&&(a=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const o=t.id||t.string;if(n===0||!function(b,v){return!!window.CKEDITOR_TRANSLATIONS[b]&&!!window.CKEDITOR_TRANSLATIONS[b].dictionary[v]}(a,o))return e!==1?t.plural:t.string;const c=window.CKEDITOR_TRANSLATIONS[a].dictionary,h=window.CKEDITOR_TRANSLATIONS[a].getPluralForm||(b=>b===1?0:1);if(typeof c[o]=="string")return c[o];const m=Number(h(e));return c[o][m]}Ct(mc,R),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const dA=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function sg(a){return dA.includes(a)?"rtl":"ltr"}class uA{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=sg(this.uiLanguage),this.contentLanguageDirection=sg(this.contentLanguage),this.t=(e,n)=>this._t(e,n)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=tn(e),typeof t=="string"&&(t={string:t});const n=t.plural?e[0]:1;return function(o,c){return o.replace(/%(\d+)/g,(h,m)=>m<c.length?c[m]:h)}(cA(this.uiLanguage,t,n),e)}}class hA{constructor(t){this.config=new og(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new mc(this,e);const n=this.config.get("language")||{};this.locale=new uA({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Yn,this._contextOwner=null}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if(typeof n!="function")throw new w("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new w("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new w("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>n))})}}class Qr{constructor(t){this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}function pn(a,t){const e=Math.min(a.length,t.length);for(let n=0;n<e;n++)if(a[n]!=t[n])return n;return a.length==t.length?"same":a.length<t.length?"prefix":"extension"}Ct(Qr,me);const ag=function(a){return pc(a,4)};class ko{constructor(t){this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new w("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let c=0;for(;n[c]==o[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=pn(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=ag(this);return delete t.parent,t}is(t){return t==="node"||t==="view:node"}}Ct(ko,R);class fe extends ko{constructor(t,e){super(t),this._textData=e}is(t){return t==="$text"||t==="view:$text"||t==="text"||t==="view:text"||t==="node"||t==="view:node"}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof fe&&(this===t||this.data===t.data)}_clone(){return new fe(this.document,this.data)}}class Pi{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new w("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new w("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return t==="$textProxy"||t==="view:$textProxy"||t==="textProxy"||t==="view:textProxy"}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;n!==null;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}function Oi(a){return Gn(a)?new Map(a):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(a)}class wi{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const n of this._patterns){const o=lg(e,n);if(o)return{element:e,pattern:n,match:o}}return null}matchAll(...t){const e=[];for(const n of t)for(const o of this._patterns){const c=lg(n,o);c&&e.push({element:n,pattern:o,match:c})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t=="function"||!e||e instanceof RegExp?null:e}}function lg(a,t){if(typeof t=="function")return t(a);const e={};return t.name&&(e.name=function(n,o){return n instanceof RegExp?!!o.match(n):n===o}(t.name,a.name),!e.name)||t.attributes&&(e.attributes=function(n,o){const c=new Set(o.getAttributeKeys());return zn(n)?(n.style!==void 0&&x("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&x("matcher-pattern-deprecated-attributes-class-key",n)):(c.delete("style"),c.delete("class")),bc(n,c,h=>o.getAttribute(h))}(t.attributes,a),!e.attributes)?null:!(t.classes&&(e.classes=function(n,o){return bc(n,o.getClassNames())}(t.classes,a),!e.classes))&&!(t.styles&&(e.styles=function(n,o){return bc(n,o.getStyleNames(!0),c=>o.getStyle(c))}(t.styles,a),!e.styles))&&e}function bc(a,t,e){const n=function(h){return Array.isArray(h)?h.map(m=>zn(m)?(m.key!==void 0&&m.value!==void 0||x("matcher-pattern-missing-key-or-value",m),[m.key,m.value]):[m,!0]):zn(h)?Object.entries(h):[[h,!0]]}(a),o=Array.from(t),c=[];return n.forEach(([h,m])=>{o.forEach(b=>{(function(v,A){return v===!0||v===A||v instanceof RegExp&&A.match(v)})(h,b)&&function(v,A,y){if(v===!0)return!0;const S=y(A);return v===S||v instanceof RegExp&&!!String(S).match(v)}(m,b,e)&&c.push(b)})}),!n.length||c.length<n.length?null:c}const la=function(a){return typeof a=="symbol"||fn(a)&&it(a)=="[object Symbol]"};var gA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fA=/^\w*$/;const pA=function(a,t){if(yn(a))return!1;var e=typeof a;return!(e!="number"&&e!="symbol"&&e!="boolean"&&a!=null&&!la(a))||fA.test(a)||!gA.test(a)||t!=null&&a in Object(t)};function kc(a,t){if(typeof a!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var e=function(){var n=arguments,o=t?t.apply(this,n):n[0],c=e.cache;if(c.has(o))return c.get(o);var h=a.apply(this,n);return e.cache=c.set(o,h)||c,h};return e.cache=new(kc.Cache||sa),e}kc.Cache=sa;const mA=kc;var bA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kA=/\\(\\)?/g,wA=function(a){var t=mA(a,function(n){return e.size===500&&e.clear(),n}),e=t.cache;return t}(function(a){var t=[];return a.charCodeAt(0)===46&&t.push(""),a.replace(bA,function(e,n,o,c){t.push(o?c.replace(kA,"$1"):n||e)}),t});const vA=wA,CA=function(a,t){for(var e=-1,n=a==null?0:a.length,o=Array(n);++e<n;)o[e]=t(a[e],e,a);return o};var cg=rt?rt.prototype:void 0,dg=cg?cg.toString:void 0;const _A=function a(t){if(typeof t=="string")return t;if(yn(t))return CA(t,a)+"";if(la(t))return dg?dg.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},wc=function(a){return a==null?"":_A(a)},vc=function(a,t){return yn(a)?a:pA(a,t)?[a]:vA(wc(a))},AA=function(a){var t=a==null?0:a.length;return t?a[t-1]:void 0},Cc=function(a){if(typeof a=="string"||la(a))return a;var t=a+"";return t=="0"&&1/a==-1/0?"-0":t},ug=function(a,t){for(var e=0,n=(t=vc(t,a)).length;a!=null&&e<n;)a=a[Cc(t[e++])];return e&&e==n?a:void 0},hg=function(a,t,e){var n=-1,o=a.length;t<0&&(t=-t>o?0:o+t),(e=e>o?o:e)<0&&(e+=o),o=t>e?0:e-t>>>0,t>>>=0;for(var c=Array(o);++n<o;)c[n]=a[n+t];return c},yA=function(a,t){return t.length<2?a:ug(a,hg(t,0,-1))},xA=function(a,t){return t=vc(t,a),(a=yA(a,t))==null||delete a[Cc(AA(t))]},EA=function(a,t){return a==null||xA(a,t)},ca=function(a,t,e){var n=a==null?void 0:ug(a,t);return n===void 0?e:n},_c=function(a,t,e){(e!==void 0&&!An(a[t],e)||e===void 0&&!(t in a))&&Bn(a,t,e)},SA=function(a){return function(t,e,n){for(var o=-1,c=Object(t),h=n(t),m=h.length;m--;){var b=h[a?m:++o];if(e(c[b],b,c)===!1)break}return t}}(),DA=function(a){return fn(a)&&vt(a)},Ac=function(a,t){if((t!=="constructor"||typeof a[t]!="function")&&t!="__proto__")return a[t]},MA=function(a){return an(a,Zo(a))},IA=function(a,t,e,n,o,c,h){var m=Ac(a,e),b=Ac(t,e),v=h.get(b);if(v)_c(a,e,v);else{var A=c?c(m,b,e+"",a,t,h):void 0,y=A===void 0;if(y){var S=yn(b),M=!S&&Ur(b),O=!S&&!M&&ic(b);A=b,S||M||O?yn(m)?A=m:DA(m)?A=zh(m):M?(y=!1,A=Lh(b,!0)):O?(y=!1,A=Zh(b,!0)):A=[]:zn(b)||tc(b)?(A=m,tc(m)?A=MA(m):J(m)&&!pt(m)||(A=Xh(b))):y=!1}y&&(h.set(b,A),o(A,b,n,c,h),h.delete(b)),_c(a,e,A)}},TA=function a(t,e,n,o,c){t!==e&&SA(e,function(h,m){if(c||(c=new Yr),J(h))IA(t,e,m,n,a,o,c);else{var b=o?o(Ac(t,m),h,m+"",t,e,c):void 0;b===void 0&&(b=h),_c(t,m,b)}},Zo)},gg=Rt(function(a,t,e){TA(a,t,e)}),PA=function(a,t,e,n){if(!J(a))return a;for(var o=-1,c=(t=vc(t,a)).length,h=c-1,m=a;m!=null&&++o<c;){var b=Cc(t[o]),v=e;if(b==="__proto__"||b==="constructor"||b==="prototype")return a;if(o!=h){var A=m[b];(v=n?n(A,b,m):void 0)===void 0&&(v=J(A)?A:wt(t[o+1])?[]:{})}Ze(m,b,v),m=m[b]}return a},OA=function(a,t,e){return a==null?a:PA(a,t,e)};class NA{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(function(n){let o=null,c=0,h=0,m=null;const b=new Map;if(n==="")return b;n.charAt(n.length-1)!=";"&&(n+=";");for(let v=0;v<n.length;v++){const A=n.charAt(v);if(o===null)switch(A){case":":m||(m=n.substr(c,v-c),h=v+1);break;case'"':case"'":o=A;break;case";":{const y=n.substr(h,v-h);m&&b.set(m.trim(),y.trim()),m=null,c=v+1;break}}else A===o&&(o=null)}return b}(t).entries());for(const[n,o]of e)this._styleProcessor.toNormalizedForm(n,o,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find(([n])=>n===t);return Array.isArray(e)}set(t,e){if(J(t))for(const[n,o]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,o,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=yc(t);EA(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!J(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find(([n])=>n===t);return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([e])=>e)}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),o=ca(this._styles,n);!o||!Array.from(Object.keys(o)).length&&this.remove(n)}}class BA{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(J(e))xc(n,yc(t),e);else if(this._normalizers.has(t)){const o=this._normalizers.get(t),{path:c,value:h}=o(e);xc(n,c,h)}else xc(n,t,e)}getNormalized(t,e){if(!t)return gg({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if(typeof n=="string")return ca(e,n);const o=n(t,e);if(o)return o}return ca(e,yc(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return n===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getStyleNames(t){const e=Array.from(this._consumables.keys()).filter(o=>{const c=this.getNormalized(o,t);return c&&typeof c=="object"?Object.keys(c).length:c}),n=new Set([...e,...Object.keys(t)]);return Array.from(n.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function yc(a){return a.replace("-",".")}function xc(a,t,e){let n=e;J(e)&&(n=gg({},ca(a,t),e)),OA(a,t,n)}class Kn extends ko{constructor(t,e,n,o){if(super(t),this.name=e,this._attrs=function(c){c=Oi(c);for(const[h,m]of c)m===null?c.delete(h):typeof m!="string"&&c.set(h,String(m));return c}(n),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const c=this._attrs.get("class");fg(this._classes,c),this._attrs.delete("class")}this._styles=new NA(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._isAllowedInsideAttributeElement=!1,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}get isAllowedInsideAttributeElement(){return this._isAllowedInsideAttributeElement}is(t,e=null){return e?e===this.name&&(t==="element"||t==="view:element"):t==="element"||t==="view:element"||t==="node"||t==="view:node"}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){const e=this._styles.toString();return e==""?void 0:e}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Kn))return!1;if(this===t)return!0;if(this.name!=t.name||this.isAllowedInsideAttributeElement!=t.isAllowedInsideAttributeElement||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t=!1){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new wi(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(e?` style="${e}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const o of this.getChildren())e.push(o._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=function(c,h){return typeof h=="string"?[new fe(c,h)]:(Gn(h)||(h=[h]),Array.from(h).map(m=>typeof m=="string"?new fe(c,m):m instanceof Pi?new fe(c,m.data):m))}(this.document,e);for(const c of o)c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(t,0,c),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),t=="class"?fg(this._classes,e):t=="style"?this._styles.setTo(e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of tn(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of tn(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of tn(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function fg(a,t){const e=t.split(/\s+/);a.clear(),e.forEach(n=>a.add(n))}class da extends Kn{constructor(t,e,n,o){super(t,e,n,o),this.getFillerOffset=pg}is(t,e=null){return e?e===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}}function pg(){const a=[...this.getChildren()],t=a[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of a)if(!e.is("uiElement"))return null;return this.childCount}class ua extends da{constructor(t,e,n,o){super(t,e,n,o),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",c=>c&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}is(t,e=null){return e?e===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}destroy(){this.stopListening()}}Ct(ua,me);const mg=Symbol("rootName");class LA extends ua{constructor(t,e){super(t,e),this.rootName="main"}is(t,e=null){return e?e===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}get rootName(){return this.getCustomProperty(mg)}set rootName(t){this._setCustomProperty(mg,t)}set _name(t){this.name=t}}class wo{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new w("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new w("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=ut._createAt(t.startPosition):this.position=ut._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,o;do o=this.position,{done:e,value:n}=this.next();while(!e&&t(n));e||(this.position=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let o;if(n instanceof fe){if(t.isAtEnd)return this.position=ut._createAfter(n),this._next();o=n.data[t.offset]}else o=n.getChild(t.offset);if(o instanceof Kn)return this.shallow?t.offset++:t=new ut(o,0),this.position=t,this._formatReturnValue("elementStart",o,e,t,1);if(o instanceof fe){if(this.singleCharacters)return t=new ut(o,0),this.position=t,this._next();{let c,h=o.data.length;return o==this._boundaryEndParent?(h=this.boundaries.end.offset,c=new Pi(o,0,h),t=ut._createAfter(c)):(c=new Pi(o,0,o.data.length),t.offset++),this.position=t,this._formatReturnValue("text",c,e,t,h)}}if(typeof o=="string"){let c;this.singleCharacters?c=1:c=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const h=new Pi(n,t.offset,c);return t.offset+=c,this.position=t,this._formatReturnValue("text",h,e,t,c)}return t=ut._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===0)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let o;if(n instanceof fe){if(t.isAtStart)return this.position=ut._createBefore(n),this._previous();o=n.data[t.offset-1]}else o=n.getChild(t.offset-1);if(o instanceof Kn)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",o,e,t,1)):(t=new ut(o,o.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,e,t));if(o instanceof fe){if(this.singleCharacters)return t=new ut(o,o.data.length),this.position=t,this._previous();{let c,h=o.data.length;if(o==this._boundaryStartParent){const m=this.boundaries.start.offset;c=new Pi(o,m,o.data.length-m),h=c.data.length,t=ut._createBefore(c)}else c=new Pi(o,0,o.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",c,e,t,h)}}if(typeof o=="string"){let c;if(this.singleCharacters)c=1;else{const m=n===this._boundaryStartParent?this.boundaries.start.offset:0;c=t.offset-m}t.offset-=c;const h=new Pi(n,t.offset,c);return this.position=t,this._formatReturnValue("text",h,e,t,c)}return t=ut._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,o,c){return e instanceof Pi&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=ut._createAfter(e.textNode):(o=ut._createAfter(e.textNode),this.position=o)),e.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=ut._createBefore(e.textNode):(o=ut._createBefore(e.textNode),this.position=o))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:o,length:c}}}}class ut{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof ua);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=ut._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new wo(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return o===0?null:e[o-1]}is(t){return t==="position"||t==="view:position"}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const o=pn(e,n);switch(o){case"prefix":return"before";case"extension":return"after";default:return e[o]<n[o]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new wo(t)}clone(){return new ut(this.parent,this.offset)}static _createAt(t,e){if(t instanceof ut)return new this(t.parent,t.offset);{const n=t;if(e=="end")e=n.is("$text")?n.data.length:n.childCount;else{if(e=="before")return this._createBefore(n);if(e=="after")return this._createAfter(n);if(e!==0&&!e)throw new w("view-createpositionat-offset-required",n)}return new ut(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new ut(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new w("view-position-after-root",t,{root:t});return new ut(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new ut(t.textNode,t.offsetInText);if(!t.parent)throw new w("view-position-before-root",t,{root:t});return new ut(t.parent,t.index)}}class Et{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new wo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(ha,{direction:"backward"}),e=this.end.getLastMatchingPosition(ha);return t.parent.is("$text")&&t.isAtStart&&(t=ut._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=ut._createAfter(e.parent)),new Et(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(ha);if(t.isAfter(this.end)||t.isEqual(this.end))return new Et(t,t);let e=this.end.getLastMatchingPosition(ha,{direction:"backward"});const n=t.nodeAfter,o=e.nodeBefore;return n&&n.is("$text")&&(t=new ut(n,0)),o&&o.is("$text")&&(e=new ut(o,o.data.length)),new Et(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Et(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Et(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Et(e,n)}return null}getWalker(t={}){return t.boundaries=this,new wo(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new Et(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new wo(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new wo(t);yield e.position;for(const n of e)yield n.nextPosition}is(t){return t==="range"||t==="view:range"}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,o){return new this(new ut(t,e),new ut(n,o))}static _createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(ut._createBefore(t),e)}}function ha(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}function Ec(a){let t=0;for(const e of a)t++;return t}class ai{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=Ec(this.getRanges());if(e!=Ec(t.getRanges()))return!1;if(e==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let o=!1;for(let c of t.getRanges())if(c=c.getTrimmed(),n.start.isEqual(c.start)&&n.end.isEqual(c.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(t,e,n){if(t===null)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof ai||t instanceof Sc)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Et)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof ut)this._setRanges([new Et(t)]),this._setFakeOptions(e);else if(t instanceof ko){const o=!!n&&!!n.backward;let c;if(e===void 0)throw new w("view-selection-setto-required-second-parameter",this);c=e=="in"?Et._createIn(t):e=="on"?Et._createOn(t):new Et(ut._createAt(t,e)),this._setRanges([c],o),this._setFakeOptions(n)}else{if(!Gn(t))throw new w("view-selection-setto-not-selectable",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(this.anchor===null)throw new w("view-selection-setfocus-no-ranges",this);const n=ut._createAt(t,e);if(n.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),n.compareWith(o)=="before"?this._addRange(new Et(n,o),!0):this._addRange(new Et(o,n)),this.fire("change")}is(t){return t==="selection"||t==="view:selection"}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof Et))throw new w("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new w("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new Et(t.start,t.end))}}Ct(ai,R);class Sc{constructor(t=null,e,n){this._selection=new ai,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return t==="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection"}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}Ct(Sc,R);class ga extends f{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Dc=Symbol("bubbling contexts"),zA={fire(a,...t){try{const e=a instanceof f?a:new f(this,a),n=Mc(this);if(!n.size)return;if(Zr(e,"capturing",this),nr(n,"$capture",e,...t))return e.return;const o=e.startRange||this.selection.getFirstRange(),c=o?o.getContainedElement():null,h=!!c&&Boolean(bg(n,c));let m=c||function(b){if(!b)return null;const v=b.start.parent,A=b.end.parent,y=v.getPath(),S=A.getPath();return y.length>S.length?v:A}(o);if(Zr(e,"atTarget",m),!h){if(nr(n,"$text",e,...t))return e.return;Zr(e,"bubbling",m)}for(;m;){if(m.is("rootElement")){if(nr(n,"$root",e,...t))return e.return}else if(m.is("element")&&nr(n,m.name,e,...t))return e.return;if(nr(n,m,e,...t))return e.return;m=m.parent,Zr(e,"bubbling",m)}return Zr(e,"bubbling",this),nr(n,"$document",e,...t),e.return}catch(e){w.rethrowUnexpectedError(e,this)}},_addEventListener(a,t,e){const n=tn(e.context||"$document"),o=Mc(this);for(const c of n){let h=o.get(c);h||(h=Object.create(R),o.set(c,h)),this.listenTo(h,a,t,e)}},_removeEventListener(a,t){const e=Mc(this);for(const n of e.values())this.stopListening(n,a,t)}},RA=zA;function Zr(a,t,e){a instanceof ga&&(a._eventPhase=t,a._currentTarget=e)}function nr(a,t,e,...n){const o=typeof t=="string"?a.get(t):bg(a,t);return!!o&&(o.fire(e,...n),e.stop.called)}function bg(a,t){for(const[e,n]of a)if(typeof e=="function"&&e(t))return n;return null}function Mc(a){return a[Dc]||(a[Dc]=new Map),a[Dc]}class qr{constructor(t){this.selection=new Sc,this.roots=new Yn({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do for(const n of this._postFixers)if(e=n(t),e)break;while(e)}}Ct(qr,RA),Ct(qr,me);class ir extends Kn{constructor(t,e,n,o){super(t,e,n,o),this.getFillerOffset=jA,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new w("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(t,e=null){return e?e===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function jA(){if(Ic(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(Ic(a)>1)return null;a=a.parent}return!a||Ic(a)>1?null:this.childCount}function Ic(a){return Array.from(a.getChildren()).filter(t=>!t.is("uiElement")).length}ir.DEFAULT_PRIORITY=10;class kg extends Kn{constructor(t,e,n,o){super(t,e,n,o),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=FA}is(t,e=null){return e?e===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}_insertChild(t,e){if(e&&(e instanceof ko||Array.from(e).length>0))throw new w("view-emptyelement-cannot-add",[this,e])}}function FA(){return null}const vo=navigator.userAgent.toLowerCase(),VA={isMac:wg(vo),isWindows:function(a){return a.indexOf("windows")>-1}(vo),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(vo),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(vo),isiOS:function(a){return!!a.match(/iphone|ipad/i)||wg(a)&&navigator.maxTouchPoints>0}(vo),isAndroid:function(a){return a.indexOf("android")>-1}(vo),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(vo),features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}},se=VA;function wg(a){return a.indexOf("macintosh")>-1}const UA={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},HA={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Nt=function(){const a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const e=String.fromCharCode(t);a[e.toLowerCase()]=t}for(let t=48;t<=57;t++)a[t-48]=t;for(let t=112;t<=123;t++)a["f"+(t-111)]=t;for(const t of"`-=[];',./\\")a[t]=t.charCodeAt(0);return a}(),$A=Object.fromEntries(Object.entries(Nt).map(([a,t])=>[t,a.charAt(0).toUpperCase()+a.slice(1)]));function vi(a){let t;if(typeof a=="string"){if(t=Nt[a.toLowerCase()],!t)throw new w("keyboard-unknown-key",null,{key:a})}else t=a.keyCode+(a.altKey?Nt.alt:0)+(a.ctrlKey?Nt.ctrl:0)+(a.shiftKey?Nt.shift:0)+(a.metaKey?Nt.cmd:0);return t}function Tc(a){return typeof a=="string"&&(a=function(t){return t.split("+").map(e=>e.trim())}(a)),a.map(t=>typeof t=="string"?function(e){if(e.endsWith("!"))return vi(e.slice(0,-1));const n=vi(e);return se.isMac&&n==Nt.ctrl?Nt.cmd:n}(t):t).reduce((t,e)=>e+t,0)}function vg(a){let t=Tc(a);return Object.entries(se.isMac?UA:HA).reduce((e,[n,o])=>((t&Nt[n])!=0&&(t&=~Nt[n],e+=o),e),"")+(t?$A[t]:"")}function Pc(a,t){const e=t==="ltr";switch(a){case Nt.arrowleft:return e?"left":"right";case Nt.arrowright:return e?"right":"left";case Nt.arrowup:return"up";case Nt.arrowdown:return"down"}}class Oc extends Kn{constructor(t,e,n,o){super(t,e,n,o),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=GA}is(t,e=null){return e?e===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}_insertChild(t,e){if(e&&(e instanceof ko||Array.from(e).length>0))throw new w("view-uielement-cannot-add",this)}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function WA(a){a.document.on("arrowKey",(t,e)=>function(n,o,c){if(o.keyCode==Nt.arrowright){const h=o.domTarget.ownerDocument.defaultView.getSelection(),m=h.rangeCount==1&&h.getRangeAt(0).collapsed;if(m||o.shiftKey){const b=h.focusNode,v=h.focusOffset,A=c.domPositionToView(b,v);if(A===null)return;let y=!1;const S=A.getLastMatchingPosition(M=>(M.item.is("uiElement")&&(y=!0),!(!M.item.is("uiElement")&&!M.item.is("attributeElement"))));if(y){const M=c.viewPositionToDom(S);m?h.collapse(M.parent,M.offset):h.extend(M.parent,M.offset)}}}}(0,e,a.domConverter),{priority:"low"})}function GA(){return null}class Cg extends Kn{constructor(t,e,n,o){super(t,e,n,o),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=YA}is(t,e=null){return e?e===this.name&&(t==="rawElement"||t==="view:rawElement"||t==="element"||t==="view:element"):t==="rawElement"||t==="view:rawElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}_insertChild(t,e){if(e&&(e instanceof ko||Array.from(e).length>0))throw new w("view-rawelement-cannot-add",[this,e])}}function YA(){return null}class Co{constructor(t,e){this.document=t,this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(t){return t==="documentFragment"||t==="view:documentFragment"}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=function(c,h){return typeof h=="string"?[new fe(c,h)]:(Gn(h)||(h=[h]),Array.from(h).map(m=>typeof m=="string"?new fe(c,m):m instanceof Pi?new fe(c,m.data):m))}(this.document,e);for(const c of o)c.parent!==null&&c._remove(),c.parent=this,this._children.splice(t,0,c),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}Ct(Co,R);class _g{constructor(t){this.document=t,this._cloneGroups=new Map,this._slotFactory=null}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new Co(this.document,t)}createText(t){return new fe(this.document,t)}createAttributeElement(t,e,n={}){const o=new ir(this.document,t,e);return typeof n.priority=="number"&&(o._priority=n.priority),n.id&&(o._id=n.id),n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createContainerElement(t,e,n={},o={}){let c=null;zn(n)?o=n:c=n;const h=new da(this.document,t,e,c);return o.isAllowedInsideAttributeElement!==void 0&&(h._isAllowedInsideAttributeElement=o.isAllowedInsideAttributeElement),o.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),h}createEditableElement(t,e,n={}){const o=new ua(this.document,t,e);return o._document=this.document,n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createEmptyElement(t,e,n={}){const o=new kg(this.document,t,e);return n.isAllowedInsideAttributeElement!==void 0&&(o._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createUIElement(t,e,n,o={}){const c=new Oc(this.document,t,e);return n&&(c.render=n),o.isAllowedInsideAttributeElement!==void 0&&(c._isAllowedInsideAttributeElement=o.isAllowedInsideAttributeElement),c}createRawElement(t,e,n,o={}){const c=new Cg(this.document,t,e);return c.render=n||(()=>{}),o.isAllowedInsideAttributeElement!==void 0&&(c._isAllowedInsideAttributeElement=o.isAllowedInsideAttributeElement),o.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),c}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){zn(t)&&n===void 0&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof ut?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new w("view-writer-break-non-container-element",this.document);if(!e.parent)throw new w("view-writer-break-root",this.document);if(t.isAtStart)return ut._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(ut._createAfter(e),n);const o=new Et(t,ut._createAt(e,"end")),c=new ut(n,0);this.move(o,c)}return ut._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&n.childCount===0){const h=n.parent,m=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new ut(h,m))}const o=n.getChild(e-1),c=n.getChild(e);if(!o||!c)return t;if(o.is("$text")&&c.is("$text"))return yg(o,c);if(o.is("attributeElement")&&c.is("attributeElement")&&o.isSimilar(c)){const h=o.childCount;return o._appendChild(c.getChildren()),c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new ut(o,h))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new w("view-writer-merge-containers-invalid-position",this.document);const o=e.getChild(e.childCount-1),c=o instanceof fe?ut._createAt(o,"end"):ut._createAt(e,"end");return this.move(Et._createIn(n),ut._createAt(e,"end")),this.remove(Et._createOn(n)),c}insert(t,e){xg(e=Gn(e)?[...e]:[e],this.document);const n=e.reduce((h,m)=>{const b=h[h.length-1],v=!(m.is("uiElement")&&m.isAllowedInsideAttributeElement);return b&&b.breakAttributes==v?b.nodes.push(m):h.push({breakAttributes:v,nodes:[m]}),h},[]);let o=null,c=t;for(const{nodes:h,breakAttributes:m}of n){const b=this._insertNodes(c,h,m);o||(o=b.start),c=b.end}return o?new Et(o,c):new Et(t)}remove(t){const e=t instanceof Et?t:Et._createOn(t);if(Xr(e,this.document),e.isCollapsed)return new Co(this.document);const{start:n,end:o}=this._breakAttributesRange(e,!0),c=n.parent,h=o.offset-n.offset,m=c._removeChildren(n.offset,h);for(const v of m)this._removeFromClonedElementsGroup(v);const b=this.mergeAttributes(n);return e.start=b,e.end=b.clone(),new Co(this.document,m)}clear(t,e){Xr(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of n){const c=o.item;let h;if(c.is("element")&&e.isSimilar(c))h=Et._createOn(c);else if(!o.nextPosition.isAfter(t.start)&&c.is("$textProxy")){const m=c.getAncestors().find(b=>b.is("element")&&e.isSimilar(b));m&&(h=Et._createIn(m))}h&&(h.end.isAfter(t.end)&&(h.end=t.end),h.start.isBefore(t.start)&&(h.start=t.start),this.remove(h))}}move(t,e){let n;if(e.isAfter(t.end)){const o=(e=this._breakAttributes(e,!0)).parent,c=o.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=o.childCount-c}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof ir))throw new w("view-writer-wrap-invalid-attribute",this.document);if(Xr(t,this.document),t.isCollapsed){let o=t.start;o.parent.is("element")&&(n=o.parent,!Array.from(n.getChildren()).some(h=>!h.is("uiElement")))&&(o=o.getLastMatchingPosition(h=>h.item.is("uiElement"))),o=this._wrapPosition(o,e);const c=this.document.selection;return c.isCollapsed&&c.getFirstPosition().isEqual(t.start)&&this.setSelection(o),new Et(o)}return this._wrapRange(t,e);var n}unwrap(t,e){if(!(e instanceof ir))throw new w("view-writer-unwrap-invalid-attribute",this.document);if(Xr(t,this.document),t.isCollapsed)return t;const{start:n,end:o}=this._breakAttributesRange(t,!0),c=n.parent,h=this._unwrapChildren(c,n.offset,o.offset,e),m=this.mergeAttributes(h.start);m.isEqual(h.start)||h.end.offset--;const b=this.mergeAttributes(h.end);return new Et(m,b)}rename(t,e){const n=new da(this.document,t,e.getAttributes());return this.insert(ut._createAfter(e),n),this.move(Et._createIn(e),ut._createAt(n,0)),this.remove(Et._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return ut._createAt(t,e)}createPositionAfter(t){return ut._createAfter(t)}createPositionBefore(t){return ut._createBefore(t)}createRange(t,e){return new Et(t,e)}createRangeOn(t){return Et._createOn(t)}createRangeIn(t){return Et._createIn(t)}createSelection(t,e,n){return new ai(t,e,n)}createSlot(t){if(!this._slotFactory)throw new w("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let o,c;if(o=n?Nc(t):t.parent.is("$text")?t.parent.parent:t.parent,!o)throw new w("view-writer-invalid-position-container",this.document);c=n?this._breakAttributes(t,!0):t.parent.is("$text")?Bc(t):t;const h=o._insertChild(c.offset,e);for(const A of e)this._addToClonedElementsGroup(A);const m=c.getShiftedBy(h),b=this.mergeAttributes(c);b.isEqual(c)||m.offset--;const v=this.mergeAttributes(m);return new Et(b,v)}_wrapChildren(t,e,n,o){let c=e;const h=[];for(;c<n;){const b=t.getChild(c),v=b.is("$text"),A=b.is("attributeElement"),y=b.isAllowedInsideAttributeElement;if(A&&this._wrapAttributeElement(o,b))h.push(new ut(t,c));else if(v||y||A&&KA(o,b)){const S=o._clone();b._remove(),S._appendChild(b),t._insertChild(c,S),this._addToClonedElementsGroup(S),h.push(new ut(t,c))}else A&&this._wrapChildren(b,0,b.childCount,o);c++}let m=0;for(const b of h)b.offset-=m,b.offset!=e&&(this.mergeAttributes(b).isEqual(b)||(m++,n--));return Et._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,o){let c=e;const h=[];for(;c<n;){const b=t.getChild(c);if(b.is("attributeElement"))if(b.isSimilar(o)){const v=b.getChildren(),A=b.childCount;b._remove(),t._insertChild(c,v),this._removeFromClonedElementsGroup(b),h.push(new ut(t,c),new ut(t,c+A)),c+=A,n+=A-1}else this._unwrapAttributeElement(o,b)?(h.push(new ut(t,c),new ut(t,c+1)),c++):(this._unwrapChildren(b,0,b.childCount,o),c++);else c++}let m=0;for(const b of h)b.offset-=m,!(b.offset==e||b.offset==n)&&(this.mergeAttributes(b).isEqual(b)||(m++,n--));return Et._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:o}=this._breakAttributesRange(t,!0),c=n.parent,h=this._wrapChildren(c,n.offset,o.offset,e),m=this.mergeAttributes(h.start);m.isEqual(h.start)||h.end.offset--;const b=this.mergeAttributes(h.end);return new Et(m,b)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Ag(t.clone());t.parent.is("$text")&&(t=Bc(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const o=new Et(t,t.getShiftedBy(1));this.wrap(o,e);const c=new ut(n.parent,n.index);n._remove();const h=c.nodeBefore,m=c.nodeAfter;return h instanceof fe&&m instanceof fe?yg(h,m):Ag(c)}_wrapAttributeElement(t,e){if(!Eg(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(n!=="class"&&n!=="style"&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())n!=="class"&&n!=="style"&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Eg(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,o=t.end;if(Xr(t,this.document),t.isCollapsed){const b=this._breakAttributes(t.start,e);return new Et(b,b)}const c=this._breakAttributes(o,e),h=c.parent.childCount,m=this._breakAttributes(n,e);return c.offset+=c.parent.childCount-h,new Et(m,c)}_breakAttributes(t,e=!1){const n=t.offset,o=t.parent;if(t.parent.is("emptyElement"))throw new w("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new w("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new w("view-writer-cannot-break-raw-element",this.document);if(!e&&o.is("$text")&&Lc(o.parent)||Lc(o))return t.clone();if(o.is("$text"))return this._breakAttributes(Bc(t),e);if(n==o.childCount){const c=new ut(o.parent,o.index+1);return this._breakAttributes(c,e)}if(n===0){const c=new ut(o.parent,o.index);return this._breakAttributes(c,e)}{const c=o.index+1,h=o._clone();o.parent._insertChild(c,h),this._addToClonedElementsGroup(h);const m=o.childCount-n,b=o._removeChildren(n,m);h._appendChild(b);const v=new ut(o.parent,c);return this._breakAttributes(v,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const o of t.getChildren())this._addToClonedElementsGroup(o);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const o of t.getChildren())this._removeFromClonedElementsGroup(o);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function Nc(a){let t=a.parent;for(;!Lc(t);){if(!t)return;t=t.parent}return t}function KA(a,t){return a.priority<t.priority||!(a.priority>t.priority)&&a.getIdentity()<t.getIdentity()}function Ag(a){const t=a.nodeBefore;if(t&&t.is("$text"))return new ut(t,t.data.length);const e=a.nodeAfter;return e&&e.is("$text")?new ut(e,0):a}function Bc(a){if(a.offset==a.parent.data.length)return new ut(a.parent.parent,a.parent.index+1);if(a.offset===0)return new ut(a.parent.parent,a.parent.index);const t=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new fe(a.root.document,t)),new ut(a.parent.parent,a.parent.index+1)}function yg(a,t){const e=a.data.length;return a._data+=t.data,t._remove(),new ut(a,e)}function xg(a,t){for(const e of a){if(!QA.some(n=>e instanceof n))throw new w("view-writer-insert-invalid-node-type",t);e.is("$text")||xg(e.getChildren(),t)}}const QA=[fe,ir,da,kg,Cg,Oc];function Lc(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function Xr(a,t){const e=Nc(a.start),n=Nc(a.end);if(!e||!n||e!==n)throw new w("view-writer-invalid-range-container",t)}function Eg(a,t){return a.id===null&&t.id===null}function ln(a){return Object.prototype.toString.call(a)=="[object Text]"}const Sg=a=>a.createTextNode("\xA0"),Dg=a=>{const t=a.createElement("span");return t.dataset.ckeFiller=!0,t.innerHTML="\xA0",t},Mg=a=>{const t=a.createElement("br");return t.dataset.ckeFiller=!0,t},fa="\u2060".repeat(7);function Rn(a){return ln(a)&&a.data.substr(0,7)===fa}function pa(a){return a.data.length==7&&Rn(a)}function zc(a){return Rn(a)?a.data.slice(7):a.data}function ZA(a,t){if(t.keyCode==Nt.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const n=e.getRangeAt(0).startContainer,o=e.getRangeAt(0).startOffset;Rn(n)&&o<=7&&e.collapse(n,0)}}}function Ig(a,t,e,n=!1){e=e||function(c,h){return c===h},Array.isArray(a)||(a=Array.prototype.slice.call(a)),Array.isArray(t)||(t=Array.prototype.slice.call(t));const o=function(c,h,m){const b=Tg(c,h,m);if(b===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const v=Pg(c,b),A=Pg(h,b),y=Tg(v,A,m),S=c.length-y,M=h.length-y;return{firstIndex:b,lastIndexOld:S,lastIndexNew:M}}(a,t,e);return n?function(c,h){const{firstIndex:m,lastIndexOld:b,lastIndexNew:v}=c;if(m===-1)return Array(h).fill("equal");let A=[];return m>0&&(A=A.concat(Array(m).fill("equal"))),v-m>0&&(A=A.concat(Array(v-m).fill("insert"))),b-m>0&&(A=A.concat(Array(b-m).fill("delete"))),v<h&&(A=A.concat(Array(h-v).fill("equal"))),A}(o,t.length):function(c,h){const m=[],{firstIndex:b,lastIndexOld:v,lastIndexNew:A}=h;return A-b>0&&m.push({index:b,type:"insert",values:c.slice(b,A)}),v-b>0&&m.push({index:b+(A-b),type:"delete",howMany:v-b}),m}(t,o)}function Tg(a,t,e){for(let n=0;n<Math.max(a.length,t.length);n++)if(a[n]===void 0||t[n]===void 0||!e(a[n],t[n]))return n;return-1}function Pg(a,t){return a.slice(t).reverse()}function Xi(a,t,e){e=e||function(N,L){return N===L};const n=a.length,o=t.length;if(n>200||o>200||n+o>300)return Xi.fastDiff(a,t,e,!0);let c,h;if(o<n){const N=a;a=t,t=N,c="delete",h="insert"}else c="insert",h="delete";const m=a.length,b=t.length,v=b-m,A={},y={};function S(N){const L=(y[N-1]!==void 0?y[N-1]:-1)+1,j=y[N+1]!==void 0?y[N+1]:-1,W=L>j?-1:1;A[N+W]&&(A[N]=A[N+W].slice(0)),A[N]||(A[N]=[]),A[N].push(L>j?c:h);let tt=Math.max(L,j),ft=tt-N;for(;ft<m&&tt<b&&e(a[ft],t[tt]);)ft++,tt++,A[N].push("equal");return tt}let M,O=0;do{for(M=-O;M<v;M++)y[M]=S(M);for(M=v+O;M>v;M--)y[M]=S(M);y[v]=S(v),O++}while(y[v]!==b);return A[v].slice(1)}function Og(a,t,e){a.insertBefore(e,a.childNodes[t]||null)}function Ng(a){const t=a.parentNode;t&&t.removeChild(a)}function or(a){return a&&a.nodeType===Node.COMMENT_NODE}function rr(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}Xi.fastDiff=Ig;var qA=u(6062),_t=u.n(qA),Bg=u(9315),XA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Bg.Z,XA),Bg.Z.locals;class Lg{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),se.isBlink&&!se.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if(t==="text")this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if(t==="attributes")this.markedAttributes.add(e);else{if(t!=="children")throw new w("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}render(){let t;const e=!(se.isBlink&&!se.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:t});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:t});if(e)if(t){const n=this.domConverter.viewPositionToDom(t),o=n.parent.ownerDocument;Rn(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=zg(o,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(this.domConverter.mapViewToDom(t).childNodes),o=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),c=this._diffNodeLists(n,o),h=this._findReplaceActions(c,n,o);if(h.indexOf("replace")!==-1){const m={equal:0,insert:0,delete:0};for(const b of h)if(b==="replace"){const v=m.equal+m.insert,A=m.equal+m.delete,y=t.getChild(v);!y||y.is("uiElement")||y.is("rawElement")||this._updateElementMappings(y,n[A]),Ng(o[v]),m.equal++}else m[b]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?ut._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&ln(e.parent)&&Rn(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Rn(t))throw new w("view-renderer-filler-was-lost",this);pa(t)?t.remove():t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root)||!e.is("element")||!function(h){if(h.getAttribute("contenteditable")=="false")return!1;const m=h.findAncestor(b=>b.hasAttribute("contenteditable"));return!m||m.getAttribute("contenteditable")=="true"}(e)||n===e.getFillerOffset())return!1;const o=t.nodeBefore,c=t.nodeAfter;return!(o instanceof fe||c instanceof fe)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),o=this.domConverter.viewToDom(t,n.ownerDocument),c=n.data;let h=o.data;const m=e.inlineFillerPosition;if(m&&m.parent==t.parent&&m.offset==t.index&&(h=fa+h),c!=h){const b=Ig(c,h);for(const v of b)v.type==="insert"?n.insertData(v.index,v.values.join("")):n.deleteData(v.index,v.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(c=>c.name),o=t.getAttributeKeys();for(const c of o)this.domConverter.setDomElementAttribute(e,c,t.getAttribute(c),t);for(const c of n)t.hasAttribute(c)||this.domConverter.removeDomElementAttribute(e,c)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const o=e.inlineFillerPosition,c=this.domConverter.mapViewToDom(t).childNodes,h=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0}));o&&o.parent===t&&zg(n.ownerDocument,h,o.offset);const m=this._diffNodeLists(c,h);let b=0;const v=new Set;for(const A of m)A==="delete"?(v.add(c[b]),Ng(c[b])):A==="equal"&&b++;b=0;for(const A of m)A==="insert"?(Og(n,b,h[b]),b++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(h[b])),b++);for(const A of v)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(t,e){return Xi(t=function(n,o){const c=Array.from(n);return c.length==0||!o||c[c.length-1]==o&&c.pop(),c}(t,this._fakeSelectionContainer),e,JA.bind(null,this.domConverter))}_findReplaceActions(t,e,n){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let o=[],c=[],h=[];const m={equal:0,insert:0,delete:0};for(const b of t)b==="insert"?h.push(n[m.equal+m.insert]):b==="delete"?c.push(e[m.equal+m.delete]):(o=o.concat(Xi(c,h,Rg).map(v=>v==="equal"?"replace":v)),o.push("equal"),c=[],h=[]),m[b]++;return o.concat(Xi(c,h,Rg).map(b=>b==="equal"?"replace":b))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}}_updateSelection(){if(se.isBlink&&!se.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(h){const m=h.createElement("div");return m.className="ck-fake-selection-container",Object.assign(m.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),m.textContent="\xA0",m}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xA0";const o=e.getSelection(),c=e.createRange();o.removeAllRanges(),c.selectNodeContents(n),o.addRange(c)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(o.parent,o.offset),se.isGecko&&function(c,h){const m=c.parent;if(m.nodeType!=Node.ELEMENT_NODE||c.offset!=m.childNodes.length-1)return;const b=m.childNodes[c.offset];b&&b.tagName=="BR"&&h.addRange(h.getRangeAt(0))}(o,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments)if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function zg(a,t,e){const n=t instanceof Array?t:t.childNodes,o=n[e];if(ln(o))return o.data=fa+o.data,o;{const c=a.createTextNode(fa);return Array.isArray(t)?n.splice(e,0,c):Og(t,e,c),c}}function Rg(a,t){return rr(a)&&rr(t)&&!ln(a)&&!ln(t)&&!or(a)&&!or(t)&&a.tagName.toLowerCase()===t.tagName.toLowerCase()}function JA(a,t,e){return t===e||(ln(t)&&ln(e)?t.data===e.data:!(!a.isBlockFiller(t)||!a.isBlockFiller(e)))}Ct(Lg,me);const Be={window,document};function Rc(a){let t=0;for(;a.previousSibling;)a=a.previousSibling,t++;return t}function jg(a){const t=[];for(;a&&a.nodeType!=Node.DOCUMENT_NODE;)t.unshift(a),a=a.parentNode;return t}const ty=Mg(document),ey=Sg(document),ny=Dg(document),ma="data-ck-unsafe-attribute-",Fg="data-ck-unsafe-element",iy=["script","style"];class ba{constructor(t,e={}){this.document=t,this.renderingMode=e.renderingMode||"editing",this.blockFillerMode=e.blockFillerMode||(this.renderingMode==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new wi,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new ai(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const n of t.childNodes)this.unbindDomElement(n)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return this.renderingMode==="data"||!(t=t.toLowerCase()).startsWith("on")&&(t!=="srcdoc"||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(t==="src"||t==="srcset")||n==="source"&&t==="srcset"||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data")return void(t.innerHTML=e);const n=new DOMParser().parseFromString(e,"text/html"),o=n.createDocumentFragment(),c=n.body.childNodes;for(;c.length>0;)o.appendChild(c[0]);const h=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),m=[];let b;for(;b=h.nextNode();)m.push(b);for(const v of m){for(const y of v.getAttributeNames())this.setDomElementAttribute(v,y,v.getAttribute(y));const A=v.tagName.toLowerCase();this._shouldRenameElement(A)&&(Hg(A),v.replaceWith(this._createReplacementDomElement(A,v)))}for(;t.firstChild;)t.firstChild.remove();t.append(o)}viewToDom(t,e,n={}){if(t.is("$text")){const o=this._processDataFromViewText(t);return e.createTextNode(o)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let o;if(t.is("documentFragment"))o=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(o,t);else{if(t.is("uiElement"))return o=t.name==="$comment"?e.createComment(t.getCustomProperty("$rawContent")):t.render(e,this),n.bind&&this.bindElements(o,t),o;this._shouldRenameElement(t.name)?(Hg(t.name),o=this._createReplacementDomElement(t.name)):o=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),t.is("rawElement")&&t.render(o,this),n.bind&&this.bindElements(o,t);for(const c of t.getAttributeKeys())this.setDomElementAttribute(o,c,t.getAttribute(c),t)}if(n.withChildren!==!1)for(const c of this.viewChildrenToDom(t,e,n))o.appendChild(c);return o}}setDomElementAttribute(t,e,n,o=null){const c=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(e);c||x("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),t.hasAttribute(e)&&!c?t.removeAttribute(e):t.hasAttribute(ma+e)&&c&&t.removeAttribute(ma+e),t.setAttribute(c?e:ma+e,n)}removeDomElementAttribute(t,e){e!=Fg&&(t.removeAttribute(e),t.removeAttribute(ma+e))}*viewChildrenToDom(t,e,n={}){const o=t.getFillerOffset&&t.getFillerOffset();let c=0;for(const h of t.getChildren())o===c&&(yield this._getBlockFiller(e)),yield this.viewToDom(h,e,n),c++;o===c&&(yield this._getBlockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),o=document.createRange();return o.setStart(e.parent,e.offset),o.setEnd(n.parent,n.offset),o}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let o=t.offset;return Rn(n)&&(o+=7),{parent:n,offset:o}}{let n,o,c;if(t.offset===0){if(n=this.mapViewToDom(e),!n)return null;c=n.childNodes[0]}else{const h=t.nodeBefore;if(o=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(t.nodeBefore),!o)return null;n=o.parentNode,c=o.nextSibling}return ln(c)&&Rn(c)?{parent:c,offset:7}:{parent:n,offset:o?Rc(o)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t))return null;const n=this.getHostViewElement(t);if(n)return n;if(or(t)&&e.skipComments)return null;if(ln(t)){if(pa(t))return null;{const o=this._processDataFromDomText(t);return o===""?null:new fe(this.document,o)}}{if(this.mapDomToView(t))return this.mapDomToView(t);let o;if(this.isDocumentFragment(t))o=new Co(this.document),e.bind&&this.bindDocumentFragments(t,o);else{o=this._createViewElement(t,e),e.bind&&this.bindElements(t,o);const c=t.attributes;if(c)for(let h=c.length-1;h>=0;h--)o._setAttribute(c[h].name,c[h].value);if(this._isViewElementWithRawContent(o,e)||or(t)){const h=or(t)?t.data:t.innerHTML;return o._setCustomProperty("$rawContent",h),this._encounteredRawContentDomNodes.add(t),o}}if(e.withChildren!==!1)for(const c of this.domChildrenToView(t,e))o._appendChild(c);return o}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const o=t.childNodes[n],c=this.domToView(o,e);c!==null&&(yield c)}}domSelectionToView(t){if(t.rangeCount===1){let o=t.getRangeAt(0).startContainer;ln(o)&&(o=o.parentNode);const c=this.fakeSelectionToView(o);if(c)return c}const e=this.isDomSelectionBackward(t),n=[];for(let o=0;o<t.rangeCount;o++){const c=t.getRangeAt(o),h=this.domRangeToView(c);h&&n.push(h)}return new ai(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Et(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Rc(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return ut._createBefore(n);if(ln(t)){if(pa(t))return this.domPositionToView(t.parentNode,Rc(t));const o=this.findCorrespondingViewText(t);let c=e;return o?(Rn(t)&&(c-=7,c=c<0?0:c),new ut(o,c)):null}if(e===0){const o=this.mapDomToView(t);if(o)return new ut(o,0)}else{const o=t.childNodes[e-1],c=ln(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(c&&c.parent)return new ut(c.parent,c.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(pa(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const o=this.mapDomToView(n);if(o)return o.nextSibling instanceof fe?o.nextSibling:null}else{const o=this.mapDomToView(t.parentNode);if(o){const c=o.getChild(0);return c instanceof fe?c:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:n,scrollY:o}=Be.window,c=[];Vg(e,h=>{const{scrollLeft:m,scrollTop:b}=h;c.push([m,b])}),e.focus(),Vg(e,h=>{const[m,b]=c.shift();h.scrollLeft=m,h.scrollTop=b}),Be.window.scrollTo(n,o)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(ty):!(t.tagName!=="BR"||!Ug(t,this.blockElements)||t.parentNode.childNodes.length!==1)||t.isEqualNode(ny)||function(e,n){return e.isEqualNode(ey)&&Ug(e,n)&&e.parentNode.childNodes.length===1}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=jg(t);for(e.pop();e.length;){const n=e.pop(),o=this._domToViewMapping.get(n);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}_getBlockFiller(t){switch(this.blockFillerMode){case"nbsp":return Sg(t);case"markedNbsp":return Dg(t);case"br":return Mg(t)}}_isDomSelectionPositionCorrect(t,e){if(ln(t)&&Rn(t)&&e<7||this.isElement(t)&&Rn(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(n=>this.preElements.includes(n.name)))return e;if(e.charAt(0)==" "){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e="\xA0"+e.substr(1))}if(e.charAt(e.length-1)==" "){const n=this._getTouchingInlineViewNode(t,!0),o=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";e.charAt(e.length-2)!=" "&&n&&!o||(e=e.substr(0,e.length-1)+"\xA0")}return e.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_processDataFromDomText(t){let e=t.data;if(function(v,A){return jg(v).some(y=>y.tagName&&A.includes(y.tagName.toLowerCase()))}(t,this.preElements))return zc(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),o=this._getTouchingInlineDomNode(t,!0),c=this._checkShouldLeftTrimDomText(t,n),h=this._checkShouldRightTrimDomText(t,o);c&&(e=e.replace(/^ /,"")),h&&(e=e.replace(/ $/,"")),e=zc(new Text(e)),e=e.replace(/ \u00A0/g,"  ");const m=o&&this.isElement(o)&&o.tagName!="BR",b=o&&ln(o)&&o.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(e)||!o||m||b)&&(e=e.replace(/\u00A0$/," ")),(c||n&&this.isElement(n)&&n.tagName!="BR")&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t,e){return!e||(this.isElement(e)?e.tagName==="BR":!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!Rn(t)}_getTouchingInlineViewNode(t,e){const n=new wo({startPosition:e?ut._createAfter(t):ut._createBefore(t),direction:e?"forward":"backward"});for(const o of n){if(o.item.is("element")&&this.inlineObjectElements.includes(o.item.name))return o.item;if(o.item.is("containerElement")||o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"firstChild":"lastChild",o=e?"nextSibling":"previousSibling";let c=!0;do if(!c&&t[n]?t=t[n]:t[o]?(t=t[o],c=!1):(t=t.parentNode,c=!0),!t||this._isBlockElement(t))return null;while(!ln(t)&&t.tagName!="BR"&&!this._isInlineObjectElement(t));return t}_isBlockElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isInlineObjectElement(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}_createViewElement(t,e){if(or(t))return new Oc(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Kn(this.document,n)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&iy.includes(e)}_createReplacementDomElement(t,e=null){const n=document.createElement("span");if(n.setAttribute(Fg,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const o of e.getAttributeNames())n.setAttribute(o,e.getAttribute(o))}return n}}function Vg(a,t){for(;a&&a!=Be.document;)t(a),a=a.parentNode}function Ug(a,t){const e=a.parentNode;return e&&e.tagName&&t.includes(e.tagName.toLowerCase())}function Hg(a){a==="script"&&x("domconverter-unsafe-script-element-detected"),a==="style"&&x("domconverter-unsafe-style-element-detected")}function ka(a){const t=Object.prototype.toString.apply(a);return t=="[object Window]"||t=="[object global]"}const oy=$r({},R,{listenTo(a,t,e,n={}){if(rr(a)||ka(a)){const o={capture:!!n.useCapture,passive:!!n.usePassive},c=this._getProxyEmitter(a,o)||new $g(a,o);this.listenTo(c,t,e,n)}else R.listenTo.call(this,a,t,e,n)},stopListening(a,t,e){if(rr(a)||ka(a)){const n=this._getAllProxyEmitters(a);for(const o of n)this.stopListening(o,t,e)}else R.stopListening.call(this,a,t,e)},_getProxyEmitter(a,t){return e=this,n=Wg(a,t),e[B]&&e[B][n]?e[B][n].emitter:null;var e,n},_getAllProxyEmitters(a){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(a,t)).filter(t=>!!t)}}),sr=oy;class $g{constructor(t,e){F(this,Wg(t,e)),this._domNode=t,this._options=e}}function Wg(a,t){let e=function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=k())}(a);for(const n of Object.keys(t).sort())t[n]&&(e+="-"+n);return e}$r($g.prototype,R,{attach(a){if(this._domListeners&&this._domListeners[a])return;const t=this._createDomListener(a);this._domNode.addEventListener(a,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[a]=t},detach(a){let t;!this._domListeners[a]||(t=this._events[a])&&t.callbacks.length||this._domListeners[a].removeListener()},_addEventListener(a,t,e){this.attach(a),R._addEventListener.call(this,a,t,e)},_removeEventListener(a,t){R._removeEventListener.call(this,a,t),this.detach(a)},_createDomListener(a){const t=e=>{this.fire(a,e)};return t.removeListener=()=>{this._domNode.removeEventListener(a,t,this._options),delete this._domListeners[a]},t}});class Ni{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}Ct(Ni,sr);const ry=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},sy=function(a){return this.__data__.has(a)};function wa(a){var t=-1,e=a==null?0:a.length;for(this.__data__=new sa;++t<e;)this.add(a[t])}wa.prototype.add=wa.prototype.push=ry,wa.prototype.has=sy;const ay=wa,ly=function(a,t){for(var e=-1,n=a==null?0:a.length;++e<n;)if(t(a[e],e,a))return!0;return!1},cy=function(a,t){return a.has(t)},Gg=function(a,t,e,n,o,c){var h=1&e,m=a.length,b=t.length;if(m!=b&&!(h&&b>m))return!1;var v=c.get(a),A=c.get(t);if(v&&A)return v==t&&A==a;var y=-1,S=!0,M=2&e?new ay:void 0;for(c.set(a,t),c.set(t,a);++y<m;){var O=a[y],N=t[y];if(n)var L=h?n(N,O,y,t,a,c):n(O,N,y,a,t,c);if(L!==void 0){if(L)continue;S=!1;break}if(M){if(!ly(t,function(j,W){if(!cy(M,W)&&(O===j||o(O,j,e,n,c)))return M.push(W)})){S=!1;break}}else if(O!==N&&!o(O,N,e,n,c)){S=!1;break}}return c.delete(a),c.delete(t),S},dy=function(a){var t=-1,e=Array(a.size);return a.forEach(function(n,o){e[++t]=[o,n]}),e},uy=function(a){var t=-1,e=Array(a.size);return a.forEach(function(n){e[++t]=n}),e};var Yg=rt?rt.prototype:void 0,jc=Yg?Yg.valueOf:void 0;const hy=function(a,t,e,n,o,c,h){switch(e){case"[object DataView]":if(a.byteLength!=t.byteLength||a.byteOffset!=t.byteOffset)return!1;a=a.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=t.byteLength||!c(new aa(a),new aa(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return An(+a,+t);case"[object Error]":return a.name==t.name&&a.message==t.message;case"[object RegExp]":case"[object String]":return a==t+"";case"[object Map]":var m=dy;case"[object Set]":var b=1&n;if(m||(m=uy),a.size!=t.size&&!b)return!1;var v=h.get(a);if(v)return v==t;n|=2,h.set(a,t);var A=Gg(m(a),m(t),n,o,c,h);return h.delete(a),A;case"[object Symbol]":if(jc)return jc.call(a)==jc.call(t)}return!1};var gy=Object.prototype.hasOwnProperty;const fy=function(a,t,e,n,o,c){var h=1&e,m=cc(a),b=m.length;if(b!=cc(t).length&&!h)return!1;for(var v=b;v--;){var A=m[v];if(!(h?A in t:gy.call(t,A)))return!1}var y=c.get(a),S=c.get(t);if(y&&S)return y==t&&S==a;var M=!0;c.set(a,t),c.set(t,a);for(var O=h;++v<b;){var N=a[A=m[v]],L=t[A];if(n)var j=h?n(L,N,A,t,a,c):n(N,L,A,a,t,c);if(!(j===void 0?N===L||o(N,L,e,n,c):j)){M=!1;break}O||(O=A=="constructor")}if(M&&!O){var W=a.constructor,tt=t.constructor;W==tt||!("constructor"in a)||!("constructor"in t)||typeof W=="function"&&W instanceof W&&typeof tt=="function"&&tt instanceof tt||(M=!1)}return c.delete(a),c.delete(t),M};var Kg="[object Arguments]",Qg="[object Array]",va="[object Object]",Zg=Object.prototype.hasOwnProperty;const py=function(a,t,e,n,o,c){var h=yn(a),m=yn(t),b=h?Qg:Kr(a),v=m?Qg:Kr(t),A=(b=b==Kg?va:b)==va,y=(v=v==Kg?va:v)==va,S=b==v;if(S&&Ur(a)){if(!Ur(t))return!1;h=!0,A=!1}if(S&&!A)return c||(c=new Yr),h||ic(a)?Gg(a,t,e,n,o,c):hy(a,t,b,e,n,o,c);if(!(1&e)){var M=A&&Zg.call(a,"__wrapped__"),O=y&&Zg.call(t,"__wrapped__");if(M||O){var N=M?a.value():a,L=O?t.value():t;return c||(c=new Yr),o(N,L,e,n,c)}}return!!S&&(c||(c=new Yr),fy(a,t,e,n,o,c))},qg=function a(t,e,n,o,c){return t===e||(t==null||e==null||!fn(t)&&!fn(e)?t!=t&&e!=e:py(t,e,n,o,a,c))},my=function(a,t,e){var n=(e=typeof e=="function"?e:void 0)?e(a,t):void 0;return n===void 0?qg(a,t,void 0,e):!!n};class Xg extends Ni{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;const e=this.domConverter,n=new Map,o=new Set;for(const v of t)if(v.type==="childList"){const A=e.mapDomToView(v.target);if(A&&(A.is("uiElement")||A.is("rawElement")))continue;A&&!this._isBogusBrMutation(v)&&o.add(A)}for(const v of t){const A=e.mapDomToView(v.target);if((!A||!A.is("uiElement")&&!A.is("rawElement"))&&v.type==="characterData"){const y=e.findCorrespondingViewText(v.target);y&&!o.has(y.parent)?n.set(y,{type:"text",oldText:y.data,newText:zc(v.target),node:y}):!y&&Rn(v.target)&&o.add(e.mapDomToView(v.target.parentNode))}}const c=[];for(const v of n.values())this.renderer.markToSync("text",v.node),c.push(v);for(const v of o){const A=e.mapViewToDom(v),y=Array.from(v.getChildren()),S=Array.from(e.domChildrenToView(A,{withChildren:!1}));my(y,S,b)||(this.renderer.markToSync("children",v),c.push({type:"children",oldChildren:y,newChildren:S,node:v}))}const h=t[0].target.ownerDocument.getSelection();let m=null;if(h&&h.anchorNode){const v=e.domPositionToView(h.anchorNode,h.anchorOffset),A=e.domPositionToView(h.focusNode,h.focusOffset);v&&A&&(m=new ai(v),m.setFocus(A))}function b(v,A){if(!Array.isArray(v))return v===A||!(!v.is("$text")||!A.is("$text"))&&v.data===A.data}c.length&&(this.document.fire("mutations",c,m),this.view.forceRender())}_isBogusBrMutation(t){let e=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}class Fc{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,$r(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ji extends Ni{constructor(t){super(t),this.useCapture=!1}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(n,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Fc(this.view,e,n))}}class by extends Ji{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return vi(this)}})}}const Vc=function(){return ot.Date.now()};var ky=/\s/;const wy=function(a){for(var t=a.length;t--&&ky.test(a.charAt(t)););return t};var vy=/^\s+/;const Cy=function(a){return a&&a.slice(0,wy(a)+1).replace(vy,"")};var _y=/^[-+]0x[0-9a-f]+$/i,Ay=/^0b[01]+$/i,yy=/^0o[0-7]+$/i,xy=parseInt;const Jg=function(a){if(typeof a=="number")return a;if(la(a))return NaN;if(J(a)){var t=typeof a.valueOf=="function"?a.valueOf():a;a=J(t)?t+"":t}if(typeof a!="string")return a===0?a:+a;a=Cy(a);var e=Ay.test(a);return e||yy.test(a)?xy(a.slice(2),e?2:8):_y.test(a)?NaN:+a};var Ey=Math.max,Sy=Math.min;const Ca=function(a,t,e){var n,o,c,h,m,b,v=0,A=!1,y=!1,S=!0;if(typeof a!="function")throw new TypeError("Expected a function");function M(tt){var ft=n,At=o;return n=o=void 0,v=tt,h=a.apply(At,ft)}function O(tt){return v=tt,m=setTimeout(L,t),A?M(tt):h}function N(tt){var ft=tt-b;return b===void 0||ft>=t||ft<0||y&&tt-v>=c}function L(){var tt=Vc();if(N(tt))return j(tt);m=setTimeout(L,function(ft){var At=t-(ft-b);return y?Sy(At,c-(ft-v)):At}(tt))}function j(tt){return m=void 0,S&&n?M(tt):(n=o=void 0,h)}function W(){var tt=Vc(),ft=N(tt);if(n=arguments,o=this,b=tt,ft){if(m===void 0)return O(b);if(y)return clearTimeout(m),m=setTimeout(L,t),M(b)}return m===void 0&&(m=setTimeout(L,t)),h}return t=Jg(t)||0,J(e)&&(A=!!e.leading,c=(y="maxWait"in e)?Ey(Jg(e.maxWait)||0,t):c,S="trailing"in e?!!e.trailing:S),W.cancel=function(){m!==void 0&&clearTimeout(m),v=0,n=b=o=m=void 0},W.flush=function(){return m===void 0?h:j(Vc())},W};class Dy extends Ni{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Ca(e=>this.document.fire("selectionChangeDone",e),200)}observe(){const t=this.document;t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new ai(e.getRanges(),{backward:e.isBackward,fake:!1});t!=Nt.arrowleft&&t!=Nt.arrowup||n.setTo(n.getFirstPosition()),t!=Nt.arrowright&&t!=Nt.arrowdown||n.setTo(n.getLastPosition());const o={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}class My extends Ni{constructor(t){super(t),this.mutationObserver=t.getObserver(Xg),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ca(e=>this.document.fire("selectionChangeDone",e),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ca(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,n=()=>{this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel()};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",n,{priority:"highest"}),this.listenTo(t,"keyup",n,{priority:"highest"}),this._documents.has(e)||(this.listenTo(e,"mouseup",n,{priority:"highest"}),this.listenTo(e,"selectionchange",(o,c)=>{this._handleSelectionChange(c,e),this._documentIsSelectingInactivityTimeoutDebounced()}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(n);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(o))this.view.forceRender();else{const c={oldSelection:this.selection,newSelection:o,domSelection:n};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Iy extends Ji{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.change(()=>{}),50)}),e.on("blur",(n,o)=>{const c=e.selection.editableElement;c!==null&&c!==o.target||(e.isFocused=!1,t.change(()=>{}))})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Ty extends Ji{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}class Py extends Ji{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}class Oy{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}function _a(a){return Object.prototype.toString.apply(a)=="[object Range]"}function tf(a){const t=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}const ef=["top","right","bottom","left","width","height"];class Jt{constructor(t){const e=_a(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),qi(t)||e)if(e){const n=Jt.getDomRangeRects(t);Aa(this,Jt.getBoundingRect(n))}else Aa(this,t.getBoundingClientRect());else if(ka(t)){const{innerWidth:n,innerHeight:o}=t;Aa(this,{top:0,right:n,bottom:o,left:0,width:n,height:o})}else Aa(this,t)}clone(){return new Jt(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new Jt(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!nf(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!nf(n);){const o=new Jt(n),c=e.getIntersection(o);if(!c)return null;c.getArea()<e.getArea()&&(e=c),n=n.parentNode}}return e}isEqual(t){for(const e of ef)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,o;if(ka(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,o=t.getComputedStyle(t.document.documentElement).direction;else{const c=tf(this._source);e=t.offsetWidth-t.clientWidth-c.left-c.right,n=t.offsetHeight-t.clientHeight-c.top-c.bottom,o=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,o==="ltr"?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const o of n)e.push(new Jt(o));else{let o=t.startContainer;ln(o)&&(o=o.parentNode);const c=new Jt(o.getBoundingClientRect());c.right=c.left,c.width=0,e.push(c)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let n=0;for(const o of t)n++,e.left=Math.min(e.left,o.left),e.top=Math.min(e.top,o.top),e.right=Math.max(e.right,o.right),e.bottom=Math.max(e.bottom,o.bottom);return n==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Jt(e))}}function Aa(a,t){for(const e of ef)a[e]=t[e]}function nf(a){return!!qi(a)&&a===a.ownerDocument.body}class Me{constructor(t,e){Me._observerInstance||Me._createObserver(),this._element=t,this._callback=e,Me._addElementCallback(t,e),Me._observerInstance.observe(t)}destroy(){Me._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Me._elementCallbacks||(Me._elementCallbacks=new Map);let n=Me._elementCallbacks.get(t);n||(n=new Set,Me._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=Me._getElementCallbacks(t);n&&(n.delete(e),n.size||(Me._elementCallbacks.delete(t),Me._observerInstance.unobserve(t))),Me._elementCallbacks&&!Me._elementCallbacks.size&&(Me._observerInstance=null,Me._elementCallbacks=null)}static _getElementCallbacks(t){return Me._elementCallbacks?Me._elementCallbacks.get(t):null}static _createObserver(){let t;t=typeof Be.window.ResizeObserver=="function"?Be.window.ResizeObserver:of,Me._observerInstance=new t(e=>{for(const n of e){const o=Me._getElementCallbacks(n.target);if(o)for(const c of o)c(n)}})}}Me._observerInstance=null,Me._elementCallbacks=null;class of{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),this._elements.size===1&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(Be.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(t,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements)this._hasRectChanged(e)&&t.push({target:e,contentRect:this._previousRects.get(e)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;const e=new Jt(t),n=this._previousRects.get(t),o=!n||!n.isEqual(e);return this._previousRects.set(t,e),o}}function xn(a){const t=a.next();return t.done?null:t.value}Ct(of,sr);class Qn{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new w("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Ct(Qn,sr),Ct(Qn,me);class Bi{constructor(){this._listener=Object.create(sr)}listenTo(t){this._listener.listenTo(t,"keydown",(e,n)=>{this._listener.fire("_keydown:"+vi(n),n)})}set(t,e,n={}){const o=Tc(t),c=n.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(h,m)=>{e(m,()=>{m.preventDefault(),m.stopPropagation(),h.stop()}),h.return=!0},{priority:c})}press(t){return!!this._listener.fire("_keydown:"+vi(t),t)}destroy(){this._listener.stopListening()}}class Ny extends Ni{constructor(t){super(t),this.document.on("keydown",(e,n)=>{if(this.isEnabled&&((o=n.keyCode)==Nt.arrowright||o==Nt.arrowleft||o==Nt.arrowup||o==Nt.arrowdown)){const c=new ga(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(c,n),c.stop.called&&e.stop()}var o})}observe(){}}function rf({target:a,viewportOffset:t=0}){const e=Uc(a);let n=e,o=null;for(;n;){let c;c=uf(n==e?a:o),sf(c,()=>hf(a,n));const h=hf(a,n);if(By(n,h,t),n.parent!=n){if(o=n.frameElement,n=n.parent,!o)return}else n=null}}function By(a,t,e){const n=t.clone().moveBy(0,e),o=t.clone().moveBy(0,-e),c=new Jt(a).excludeScrollbarsAndBorders();if(![o,n].every(h=>c.contains(h))){let{scrollX:h,scrollY:m}=a;lf(o,c)?m-=c.top-t.top+e:af(n,c)&&(m+=t.bottom-c.bottom+e),cf(t,c)?h-=c.left-t.left+e:df(t,c)&&(h+=t.right-c.right+e),a.scrollTo(h,m)}}function sf(a,t){const e=Uc(a);let n,o;for(;a!=e.document.body;)o=t(),n=new Jt(a).excludeScrollbarsAndBorders(),n.contains(o)||(lf(o,n)?a.scrollTop-=n.top-o.top:af(o,n)&&(a.scrollTop+=o.bottom-n.bottom),cf(o,n)?a.scrollLeft-=n.left-o.left:df(o,n)&&(a.scrollLeft+=o.right-n.right)),a=a.parentNode}function af(a,t){return a.bottom>t.bottom}function lf(a,t){return a.top<t.top}function cf(a,t){return a.left<t.left}function df(a,t){return a.right>t.right}function Uc(a){return _a(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function uf(a){if(_a(a)){let t=a.commonAncestorContainer;return ln(t)&&(t=t.parentNode),t}return a.parentNode}function hf(a,t){const e=Uc(a),n=new Jt(a);if(e===t)return n;{let o=e;for(;o!=t;){const c=o.frameElement,h=new Jt(c).excludeScrollbarsAndBorders();n.moveBy(h.left,h.top),o=o.parent}}return n}Object.assign({},{scrollViewportToShowTarget:rf,scrollAncestorsToShowTarget:function(a){sf(uf(a),()=>new Jt(a))}});class gf{constructor(t){this.document=new qr(t),this.domConverter=new ba(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Lg(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new _g(this.document),this.addObserver(Xg),this.addObserver(My),this.addObserver(Iy),this.addObserver(by),this.addObserver(Dy),this.addObserver(Ty),this.addObserver(Ny),se.isAndroid&&this.addObserver(Py),this.document.on("arrowKey",ZA,{priority:"low"}),WA(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const o={};for(const{name:h,value:m}of Array.from(t.attributes))o[h]=m,h==="class"?this._writer.addClass(m.split(" "),n):this._writer.setAttribute(h,m,n);this._initialDomRootAttributes.set(t,o);const c=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};c(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(h,m)=>this._renderer.markToSync("children",m)),n.on("change:attributes",(h,m)=>this._renderer.markToSync("attributes",m)),n.on("change:text",(h,m)=>this._renderer.markToSync("text",m)),n.on("change:isReadOnly",()=>this.change(c)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const h of this._observers.values())h.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:o})=>e.removeAttribute(o));const n=this._initialDomRootAttributes.get(e);for(const o in n)e.setAttribute(o,n[o]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,o]of this.domRoots)e.observe(o,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&rf({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new w("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(e){w.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return ut._createAt(t,e)}createPositionAfter(t){return ut._createAfter(t)}createPositionBefore(t){return ut._createBefore(t)}createRange(t,e){return new Et(t,e)}createRangeOn(t){return Et._createOn(t)}createRangeIn(t){return Et._createIn(t)}createSelection(t,e,n){return new ai(t,e,n)}_disableRendering(t){this._renderingDisabled=t,t==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Ct(gf,me);class _o{constructor(t){this.parent=null,this._attrs=Oi(t)}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new w("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new w("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let c=0;for(;n[c]==o[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=pn(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((e,n)=>(e[n[0]]=n[1],e),{})),t}is(t){return t==="node"||t==="model:node"}_clone(){return new _o(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Oi(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class pe extends _o{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return t==="$text"||t==="model:$text"||t==="text"||t==="model:text"||t==="node"||t==="model:node"}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new pe(this.data,this.getAttributes())}static fromJSON(t){return new pe(t.data,t.attributes)}}class Ci{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new w("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new w("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return t==="$textProxy"||t==="model:$textProxy"||t==="textProxy"||t==="model:textProxy"}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class ar{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return e==-1?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return e===null?null:this._nodes.slice(0,e).reduce((n,o)=>n+o.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new w("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new w("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof _o))throw new w("model-nodelist-insertnodes-not-node",this);this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class te extends _o{constructor(t,e,n){super(e),this.name=t,this._children=new ar,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}is(t,e=null){return e?e===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t==="node"||t==="model:node"}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={includeSelf:!1}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(n=>n._clone(!0)):null;return new te(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(o){return typeof o=="string"?[new pe(o)]:(Gn(o)||(o=[o]),Array.from(o).map(c=>typeof c=="string"?new pe(c):c instanceof Ci?new pe(c.data,c.getAttributes()):c))}(e);for(const o of n)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const o of n)o.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(te.fromJSON(n)):e.push(pe.fromJSON(n))}return new te(t.name,t.attributes,e)}}class Li{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new w("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new w("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=at._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,o,c;do o=this.position,c=this._visitedParent,{done:e,value:n}=this.next();while(!e&&t(n));e||(this.position=o,this._visitedParent=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const o=e.parent,c=Jr(e,o),h=c||ff(e,o,c);if(h instanceof te)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=h),this.position=e,Ao("elementStart",h,t,e,1);if(h instanceof pe){let m;if(this.singleCharacters)m=1;else{let A=h.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<A&&(A=this.boundaries.end.offset),m=A-e.offset}const b=e.offset-h.startOffset,v=new Ci(h,b,m);return e.offset+=m,this.position=e,Ao("text",v,t,e,m)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Ao("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===0)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const o=e.parent,c=Jr(e,o),h=c||pf(e,o,c);if(h instanceof te)return e.offset--,this.shallow?(this.position=e,Ao("elementStart",h,t,e,1)):(e.path.push(h.maxOffset),this.position=e,this._visitedParent=h,this.ignoreElementEnd?this._previous():Ao("elementEnd",h,t,e));if(h instanceof pe){let m;if(this.singleCharacters)m=1;else{let A=h.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>A&&(A=this.boundaries.start.offset),m=e.offset-A}const b=e.offset-h.startOffset,v=new Ci(h,b-m,m);return e.offset-=m,this.position=e,Ao("text",v,t,e,m)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,Ao("elementStart",n,t,e,1)}}function Ao(a,t,e,n,o){return{done:!1,value:{type:a,item:t,previousPosition:e,nextPosition:n,length:o}}}class at{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new w("model-position-root-invalid",t);if(!(e instanceof Array)||e.length===0)throw new w("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new w("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new w("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Jr(this,this.parent)}get nodeAfter(){const t=this.parent;return ff(this,t,Jr(this,t))}get nodeBefore(){const t=this.parent;return pf(this,t,Jr(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=pn(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Li(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=pn(this.path,t.path),n=typeof e=="string"?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return o===0?null:e[o-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=at._createAt(this),n=at._createAt(t);break;case"after":e=at._createAt(t),n=at._createAt(this);break;default:return!1}let o=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==o.maxOffset)return!1;e.path=e.path.slice(0,-1),o=o.parent,e.offset++}else{if(n.offset!==0)return!1;n.path=n.path.slice(0,-1)}}}is(t){return t==="position"||t==="model:position"}hasSameParentAs(t){return this.root!==t.root?!1:pn(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=at._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?at._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=at._createAt(this);if(this.root!=t.root)return n;if(pn(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if(pn(t.getParentPath(),this.getParentPath())=="prefix"){const o=t.path.length-1;if(t.offset<=this.path[o]){if(t.offset+e>this.path[o])return null;n.path[o]-=e}}return n}_getTransformedByInsertion(t,e){const n=at._createAt(this);if(this.root!=t.root)return n;if(pn(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=e);else if(pn(t.getParentPath(),this.getParentPath())=="prefix"){const o=t.path.length-1;t.offset<=this.path[o]&&(n.path[o]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return at._createAt(this);const o=this._getTransformedByDeletion(t,n);return o===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,e):o._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,o=at._createAt(e);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[n]-t.offset,o.path=[...o.path,...this.path.slice(n+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof at)return new at(t.root,t.path,t.stickiness);{const o=t;if(e=="end")e=o.maxOffset;else{if(e=="before")return this._createBefore(o,n);if(e=="after")return this._createAfter(o,n);if(e!==0&&!e)throw new w("model-createpositionat-offset-required",[this,t])}if(!o.is("element")&&!o.is("documentFragment"))throw new w("model-position-parent-incorrect",[this,t]);const c=o.getPath();return c.push(e),new this(o.root,c,n)}}static _createAfter(t,e){if(!t.parent)throw new w("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new w("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if(t.root==="$graveyard"){const n=new at(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new w("model-position-fromjson-no-root",e,{rootName:t.root});return new at(e.getRoot(t.root),t.path,t.stickiness)}}function Jr(a,t){const e=t.getChild(t.offsetToIndex(a.offset));return e&&e.is("$text")&&e.startOffset<a.offset?e:null}function ff(a,t,e){return e!==null?null:t.getChild(t.offsetToIndex(a.offset))}function pf(a,t,e){return e!==null?null:t.getChild(t.offsetToIndex(a.offset)-1)}class q{constructor(t,e=null){this.start=at._createAt(t),this.end=e?at._createAt(e):at._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Li({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return pn(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}containsItem(t){const e=at._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}is(t){return t==="range"||t==="model:range"}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new q(this.start,t.start)),this.containsPosition(t.end)&&e.push(new q(t.end,this.end))):e.push(new q(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new q(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let o=this.start,c=this.end;return t.start.isBefore(o)&&(o=t.start),t.end.isAfter(c)&&(c=t.end),new q(o,c)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=at._createAt(this.start);let o=n.parent;for(;n.path.length>e+1;){const c=o.maxOffset-n.offset;c!==0&&t.push(new q(n,n.getShiftedBy(c))),n.path=n.path.slice(0,-1),n.offset++,o=o.parent}for(;n.path.length<=this.end.path.length;){const c=this.end.path[n.path.length-1],h=c-n.offset;h!==0&&t.push(new q(n,n.getShiftedBy(h))),n.offset=c,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Li(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Li(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Li(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new q(this.start,this.end)]}getTransformedByOperations(t){const e=[new q(this.start,this.end)];for(const n of t)for(let o=0;o<e.length;o++){const c=e[o].getTransformedByOperation(n);e.splice(o,1,...c),o+=c.length-1}for(let n=0;n<e.length;n++){const o=e[n];for(let c=n+1;c<e.length;c++){const h=e[c];(o.containsRange(h)||h.containsRange(o)||o.isEqual(h))&&e.splice(c,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,o=t.howMany,c=t.targetPosition;return this._getTransformedByMove(n,c,o,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new q(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new q(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=at._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new q(e,n)):new q(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new q(this.start,t),new q(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const o=new q(this.start,this.end);return o.start=o.start._getTransformedByInsertion(t,e),o.end=o.end._getTransformedByInsertion(t,e),[o]}}_getTransformedByMove(t,e,n,o=!1){if(this.isCollapsed){const y=this.start._getTransformedByMove(t,e,n);return[new q(y)]}const c=q._createFromPositionAndShift(t,n),h=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!o&&(c.containsPosition(this.start)||c.containsPosition(this.end))){const y=this.start._getTransformedByMove(t,e,n),S=this.end._getTransformedByMove(t,e,n);return[new q(y,S)]}let m;const b=this.getDifference(c);let v=null;const A=this.getIntersection(c);if(b.length==1?v=new q(b[0].start._getTransformedByDeletion(t,n),b[0].end._getTransformedByDeletion(t,n)):b.length==2&&(v=new q(this.start,this.end._getTransformedByDeletion(t,n))),m=v?v._getTransformedByInsertion(h,n,A!==null||o):[],A){const y=new q(A.start._getCombined(c.start,h),A.end._getCombined(c.start,h));m.length==2?m.splice(1,0,y):m.push(y)}return m}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),o=this.end._getTransformedByDeletion(t,e);return n==null&&o==null?null:(n==null&&(n=t),o==null&&(o=t),new q(n,o))}static _createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static _createIn(t){return new this(at._createAt(t,0),at._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(at._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new w("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const e=t[0];t.sort((c,h)=>c.start.isAfter(h.start)?1:-1);const n=t.indexOf(e),o=new this(e.start,e.end);if(n>0)for(let c=n-1;t[c].end.isEqual(o.start);c++)o.start=at._createAt(t[c].start);for(let c=n+1;c<t.length&&t[c].start.isEqual(o.end);c++)o.end=at._createAt(t[c].end);return o}static fromJSON(t,e){return new this(at.fromJSON(t.start,e),at.fromJSON(t.end,e))}}class Hc{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);if(!n)throw new w("mapping-view-position-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),o=this._viewToModelMapping.get(n),c=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=at._createAt(o,c)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const n=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const o of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(o);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(n)==t&&this._modelToViewMapping.delete(n))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const o=this._elementToMarkerNames.get(t)||new Set;o.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,o)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),n.size==0&&this._markerNameToElements.delete(e));const o=this._elementToMarkerNames.get(t);o&&(o.delete(e),o.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new q(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Et(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const o of e)if(o.is("attributeElement"))for(const c of o.getElementsWithSameId())n.add(c);else n.add(o);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let o=0;for(let c=0;c<e;c++)o+=this.getModelLength(t.getChild(c));return o}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,o=0,c=0,h=0;if(t.is("$text"))return new ut(t,e);for(;c<e;)n=t.getChild(h),o=this.getModelLength(n),c+=o,h++;return c==e?this._moveViewPositionToTextNode(new ut(t,h)):this.findPositionIn(n,e-(c-o))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof fe?new ut(e,e.data.length):n instanceof fe?new ut(n,0):t}}Ct(Hc,R);class Ly{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=ya(e),t instanceof Ci&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=ya(e),t instanceof Ci&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=ya(e),t instanceof Ci&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(n===void 0)return null;const o=n.get(e);return o===void 0?null:o}revert(t,e){e=ya(e),t instanceof Ci&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return n===!1?(this._consumable.get(t).set(e,!0),!0):n!==!0&&null}verifyAllConsumed(t){const e=[];for(const[n,o]of this._consumable)for(const[c,h]of o){const m=c.split(":")[0];h&&t==m&&e.push({event:c,item:n.name||n.description})}if(e.length)throw new w("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const o=n.get(t.endOffset);o&&(e=o.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,o=t.parent,c=Symbol("$textProxy:"+t.data);let h,m;return h=this._textProxyRegistry.get(e),h||(h=new Map,this._textProxyRegistry.set(e,h)),m=h.get(n),m||(m=new Map,h.set(n,m)),m.set(o,c),c}}function ya(a){const t=a.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?a:t.length>1?t[0]+":"+t[1]:t[0]}class $c{constructor(t){this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,e,n){const o=this._createConversionApi(n,t.getRefreshedItems());for(const h of t.getMarkersToRemove())this._convertMarkerRemove(h.name,h.range,o);const c=this._reduceChanges(t.getChanges());for(const h of c)h.type==="insert"?this._convertInsert(q._createFromPositionAndShift(h.position,h.length),o):h.type==="reinsert"?this._convertReinsert(q._createFromPositionAndShift(h.position,h.length),o):h.type==="remove"?this._convertRemove(h.position,h.length,h.name,o):this._convertAttribute(h.range,h.attributeKey,h.attributeOldValue,h.attributeNewValue,o);for(const h of o.mapper.flushUnboundMarkerNames()){const m=e.get(h).getRange();this._convertMarkerRemove(h,m,o),this._convertMarkerAdd(h,m,o)}for(const h of t.getMarkersToAdd())this._convertMarkerAdd(h.name,h.range,o);o.mapper.flushDeferredBindings(),o.consumable.verifyAllConsumed("insert")}convert(t,e,n,o={}){const c=this._createConversionApi(n,void 0,o);this._convertInsert(t,c);for(const[h,m]of e)this._convertMarkerAdd(h,m,c);c.consumable.verifyAllConsumed("insert")}convertSelection(t,e,n){const o=Array.from(e.getMarkersAtPosition(t.getFirstPosition())),c=this._createConversionApi(n);if(this._addConsumablesForSelection(c.consumable,t,o),this.fire("selection",{selection:t},c),t.isCollapsed){for(const h of o){const m=h.getRange();if(!zy(t.getFirstPosition(),h,c.mapper))continue;const b={item:t,markerName:h.name,markerRange:m};c.consumable.test(t,"addMarker:"+h.name)&&this.fire("addMarker:"+h.name,b,c)}for(const h of t.getAttributeKeys()){const m={item:t,range:t.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:t.getAttribute(h)};c.consumable.test(t,"attribute:"+m.attributeKey)&&this.fire("attribute:"+m.attributeKey+":$text",m,c)}}}_convertInsert(t,e,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,Array.from(t));for(const o of Array.from(t.getWalker({shallow:!0})).map(mf))this._testAndFire("insert",o,e)}_convertRemove(t,e,n,o){this.fire("remove:"+n,{position:t,length:e},o)}_convertAttribute(t,e,n,o,c){this._addConsumablesForRange(c.consumable,t,`attribute:${e}`);for(const h of t){const m={item:h.item,range:q._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:e,attributeOldValue:n,attributeNewValue:o};this._testAndFire(`attribute:${e}`,m,c)}}_convertReinsert(t,e){const n=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,n);for(const o of n.map(mf))this._testAndFire("insert",{...o,reconversion:!0},e)}_convertMarkerAdd(t,e,n){if(e.root.rootName=="$graveyard")return;const o="addMarker:"+t;if(n.consumable.add(e,o),this.fire(o,{markerName:t,markerRange:e},n),n.consumable.consume(e,o)){this._addConsumablesForRange(n.consumable,e,o);for(const c of e.getItems()){if(!n.consumable.test(c,o))continue;const h={item:c,range:q._createOn(c),markerName:t,markerRange:e};this.fire(o,h,n)}}}_convertMarkerRemove(t,e,n){e.root.rootName!="$graveyard"&&this.fire("removeMarker:"+t,{markerName:t,markerRange:e},n)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const n of e){const o=n.item;if(t.test(o,"insert")===null){t.add(o,"insert");for(const c of o.getAttributeKeys())t.add(o,"attribute:"+c)}}return t}_addConsumablesForRange(t,e,n){for(const o of e.getItems())t.add(o,n);return t}_addConsumablesForSelection(t,e,n){t.add(e,"selection");for(const o of n)t.add(e,"addMarker:"+o.name);for(const o of e.getAttributeKeys())t.add(e,"attribute:"+o);return t}_testAndFire(t,e,n){const o=function(b,v){const A=v.item.name||"$text";return`${b}:${A}`}(t,e),c=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item,h=this._firedEventsMap.get(n),m=h.get(c);if(m){if(m.has(o))return;m.add(o)}else h.set(c,new Set([o]));this.fire(o,e,n)}_testAndFireAddAttributes(t,e){const n={item:t,range:q._createOn(t)};for(const o of n.item.getAttributeKeys())n.attributeKey=o,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(o),this._testAndFire(`attribute:${o}`,n,e)}_createConversionApi(t,e=new Set,n={}){const o={...this._conversionApi,consumable:new Ly,writer:t,options:n,convertItem:c=>this._convertInsert(q._createOn(c),o),convertChildren:c=>this._convertInsert(q._createIn(c),o,{doNotAddConsumables:!0}),convertAttributes:c=>this._testAndFireAddAttributes(c,o),canReuseView:c=>!e.has(o.mapper.toModelElement(c))};return this._firedEventsMap.set(o,new Map),o}}function zy(a,t,e){const n=t.getRange(),o=Array.from(a.getAncestors());return o.shift(),o.reverse(),!o.some(c=>{if(n.containsItem(c))return!!e.toViewElement(c).getCustomProperty("addHighlight")})}function mf(a){return{item:a.item,range:q._createFromPositionAndShift(a.previousPosition,a.length)}}Ct($c,R);class zi{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new q(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new q(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new q(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(t===null)this._setRanges([]);else if(t instanceof zi)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof q)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof at)this._setRanges([new q(t)]);else if(t instanceof _o){const o=!!n&&!!n.backward;let c;if(e=="in")c=q._createIn(t);else if(e=="on")c=q._createOn(t);else{if(e===void 0)throw new w("model-selection-setto-required-second-parameter",[this,t]);c=new q(at._createAt(t,e))}this._setRanges([c],o)}else{if(!Gn(t))throw new w("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(o=>{if(!(o instanceof q))throw new w("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(c=>!c.isEqual(o))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const o of t)this._pushRange(o);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(this.anchor===null)throw new w("model-selection-setfocus-no-ranges",[this,t]);const n=at._createAt(t,e);if(n.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(o)=="before"?(this._pushRange(new q(n,o)),this._lastRangeBackward=!0):(this._pushRange(new q(o,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}is(t){return t==="selection"||t==="model:selection"}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=kf(e.start,t);n&&Wc(n,e)&&(yield n);for(const c of e.getWalker()){const h=c.item;c.type=="elementEnd"&&Ry(h,t,e)&&(yield h)}const o=kf(e.end,t);o&&!e.end.isTouching(at._createAt(o,0))&&Wc(o,e)&&(yield o)}}containsEntireContent(t=this.anchor.root){const e=at._createAt(t,0),n=at._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new q(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new w("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function bf(a,t){return!t.has(a)&&(t.add(a),a.root.document.model.schema.isBlock(a)&&a.parent)}function Ry(a,t,e){return bf(a,t)&&Wc(a,e)}function kf(a,t){const e=a.parent.root.document.model.schema,n=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const c=n.find(h=>!o&&(o=e.isLimit(h),!o&&bf(h,t)));return n.forEach(h=>t.add(h)),c}function Wc(a,t){const e=function(n){const o=n.root.document.model.schema;let c=n.parent;for(;c;){if(o.isBlock(c))return c;c=c.parent}}(a);return e?!t.containsRange(q._createOn(e),!0):!0}Ct(zi,R);class _i extends q{constructor(t,e){super(t,e),jy.call(this)}detach(){this.stopListening()}is(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"}toRange(){return new q(this.start,this.end)}static fromRange(t){return new _i(t.start,t.end)}}function jy(){this.listenTo(this.root.document.model,"applyOperation",(a,t)=>{const e=t[0];e.isDocumentOperation&&Fy.call(this,e)},{priority:"low"})}function Fy(a){const t=this.getTransformedByOperation(a),e=q._createFromRanges(t),n=!e.isEqual(this),o=function(h,m){switch(m.type){case"insert":return h.containsPosition(m.position);case"move":case"remove":case"reinsert":case"merge":return h.containsPosition(m.sourcePosition)||h.start.isEqual(m.sourcePosition)||h.containsPosition(m.targetPosition);case"split":return h.containsPosition(m.splitPosition)||h.containsPosition(m.insertionPosition)}return!1}(this,a);let c=null;if(n){e.root.rootName=="$graveyard"&&(c=a.type=="remove"?a.sourcePosition:a.deletionPosition);const h=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",h,{deletionPosition:c})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:c})}Ct(_i,R);const ts="selection:";class li{constructor(t){this._selection=new Vy(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}is(t){return t==="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection"}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return ts+t}static _isStoreAttributeKey(t){return t.startsWith(ts)}}Ct(li,R);class Vy extends zi{constructor(t){super(),this.markers=new Yn({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&o.type!="marker"&&o.type!="rename"&&o.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const e of this.getRanges())if(!this._document._validateSelectionRange(e))throw new w("document-selection-wrong-position",this,{range:e})}),this.listenTo(this._model.markers,"update",(e,n,o,c)=>{this._updateMarker(n,c)}),this.listenTo(this._document,"change",(e,n)=>{(function(o,c){const h=o.document.differ;for(const m of h.getChanges()){if(m.type!="insert")continue;const b=m.position.parent;m.length===b.maxOffset&&o.enqueueChange(c,v=>{const A=Array.from(b.getAttributeKeys()).filter(y=>y.startsWith(ts));for(const y of A)v.removeAttribute(y,b)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this._updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const n=[t];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=k();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new w("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=_i.fromRange(t);return e.on("change:range",(n,o,c)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=c.deletionPosition;const h=this._ranges.indexOf(e);this._ranges.splice(h,1),e.detach()}}),e}_updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const o of this._model.markers){const c=o.name.split(":",1)[0];if(!this._observedMarkers.has(c))continue;const h=o.getRange();for(const m of this.getRanges())h.containsRange(m,!m.isCollapsed)&&t.push(o)}const n=Array.from(this.markers);for(const o of t)this.markers.has(o)||(this.markers.add(o),e=!0);for(const o of Array.from(this.markers))t.includes(o)||(this.markers.remove(o),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let o=!1;const c=Array.from(this.markers),h=this.markers.has(t);if(e){let m=!1;for(const b of this.getRanges())if(e.containsRange(b,!b.isCollapsed)){m=!0;break}m&&!h?(this.markers.add(t),o=!0):!m&&h&&(this.markers.remove(t),o=!0)}else h&&(this.markers.remove(t),o=!0);o&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateAttributes(t){const e=Oi(this._getSurroundingAttributes()),n=Oi(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[c,h]of this._attributePriority)h=="low"&&(this._attrs.delete(c),this._attributePriority.delete(c));this._setAttributesTo(e);const o=[];for(const[c,h]of this.getAttributes())n.has(c)&&n.get(c)===h||o.push(c);for(const[c]of n)this.hasAttribute(c)||o.push(c);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(t,e,n=!0){const o=n?"normal":"low";return o=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,o),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return(n!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[n,o]of this.getAttributes())t.get(n)!==o&&this._removeAttribute(n,!1);for(const[n,o]of t)this._setAttribute(n,o,!1)&&e.add(n);return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())e.startsWith(ts)&&(yield[e.substr(ts.length),t.getAttribute(e)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const o=t.textNode?t.textNode:t.nodeBefore,c=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=xa(o)),n||(n=xa(c)),!this.isGravityOverridden&&!n){let h=o;for(;h&&!e.isInline(h)&&!n;)h=h.previousSibling,n=xa(h)}if(!n){let h=c;for(;h&&!e.isInline(h)&&!n;)h=h.nextSibling,n=xa(h)}n||(n=this._getStoredAttributes())}else{const o=this.getFirstRange();for(const c of o){if(c.item.is("element")&&e.isObject(c.item))break;if(c.type=="text"){n=c.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function xa(a){return a instanceof Ci||a instanceof pe?a.getAttributes():null}class wf{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}const ci=function(a){return pc(a,5)};class Uy extends wf{elementToElement(t){return this.add(function(e){return(e=ci(e)).model=_f(e.model),e.view=es(e.view,"container"),e.model.attributes.length&&(e.model.children=!0),n=>{n.on("insert:"+e.model.name,function(o,c=$y){return(h,m,b)=>{if(!c(m.item,b.consumable,{preflight:!0}))return;const v=o(m.item,b);if(!v)return;c(m.item,b.consumable);const A=b.mapper.toViewPosition(m.range.start);b.mapper.bindElements(m.item,v),b.writer.insert(A,v),b.convertAttributes(m.item),Sf(v,m.item.getChildren(),b,{reconversion:m.reconversion})}}(e.view,Ef(e.model)),{priority:e.converterPriority||"normal"}),(e.model.children||e.model.attributes.length)&&n.on("reduceChanges",xf(e.model),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(e){return(e=ci(e)).model=_f(e.model),e.view=es(e.view,"container"),e.model.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.model.name,"$text"))throw new w("conversion-element-to-structure-disallowed-text",n,{elementName:e.model.name});var o,c;n.on("insert:"+e.model.name,(o=e.view,c=Ef(e.model),(h,m,b)=>{if(!c(m.item,b.consumable,{preflight:!0}))return;const v=new Map;b.writer._registerSlotFactory(function(S,M,O){return(N,L="children")=>{const j=N.createContainerElement("$slot");let W=null;if(L==="children")W=Array.from(S.getChildren());else{if(typeof L!="function")throw new w("conversion-slot-mode-unknown",O.dispatcher,{modeOrFilter:L});W=Array.from(S.getChildren()).filter(tt=>L(tt))}return M.set(j,W),j}}(m.item,v,b));const A=o(m.item,b);if(b.writer._clearSlotFactory(),!A)return;(function(S,M,O){const N=Array.from(M.values()).flat(),L=new Set(N);if(L.size!=N.length)throw new w("conversion-slot-filter-overlap",O.dispatcher,{element:S});if(L.size!=S.childCount)throw new w("conversion-slot-filter-incomplete",O.dispatcher,{element:S})})(m.item,v,b),c(m.item,b.consumable);const y=b.mapper.toViewPosition(m.range.start);b.mapper.bindElements(m.item,A),b.writer.insert(y,A),b.convertAttributes(m.item),function(S,M,O,N){O.mapper.on("modelToViewPosition",W,{priority:"highest"});let L=null,j=null;for([L,j]of M)Sf(S,j,O,N),O.writer.move(O.writer.createRangeIn(L),O.writer.createPositionBefore(L)),O.writer.remove(L);function W(tt,ft){const At=ft.modelPosition.nodeAfter,ae=j.indexOf(At);ae<0||(ft.viewPosition=ft.mapper.findPositionIn(L,ae))}O.mapper.off("modelToViewPosition",W)}(A,v,b,{reconversion:m.reconversion})}),{priority:e.converterPriority||"normal"}),n.on("reduceChanges",xf(e.model),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(e){e=ci(e);let n="attribute:"+(e.model.key?e.model.key:e.model);if(e.model.name&&(n+=":"+e.model.name),e.model.values)for(const c of e.model.values)e.view[c]=es(e.view[c],"attribute");else e.view=es(e.view,"attribute");const o=Af(e);return c=>{c.on(n,function(h){return(m,b,v)=>{if(!v.consumable.test(b.item,m.name))return;const A=h(b.attributeOldValue,v),y=h(b.attributeNewValue,v);if(!A&&!y)return;v.consumable.consume(b.item,m.name);const S=v.writer,M=S.document.selection;if(b.item instanceof zi||b.item instanceof li)S.wrap(M.getFirstRange(),y);else{let O=v.mapper.toViewRange(b.range);b.attributeOldValue!==null&&A&&(O=S.unwrap(O,A)),b.attributeNewValue!==null&&y&&S.wrap(O,y)}}}(o),{priority:e.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(e){e=ci(e);let n="attribute:"+(e.model.key?e.model.key:e.model);if(e.model.name&&(n+=":"+e.model.name),e.model.values)for(const c of e.model.values)e.view[c]=yf(e.view[c]);else e.view=yf(e.view);const o=Af(e);return c=>{var h;c.on(n,(h=o,(m,b,v)=>{if(!v.consumable.test(b.item,m.name))return;const A=h(b.attributeOldValue,v),y=h(b.attributeNewValue,v);if(!A&&!y)return;v.consumable.consume(b.item,m.name);const S=v.mapper.toViewElement(b.item),M=v.writer;if(!S)throw new w("conversion-attribute-to-attribute-on-text",v.dispatcher,b);if(b.attributeOldValue!==null&&A)if(A.key=="class"){const O=tn(A.value);for(const N of O)M.removeClass(N,S)}else if(A.key=="style"){const O=Object.keys(A.value);for(const N of O)M.removeStyle(N,S)}else M.removeAttribute(A.key,S);if(b.attributeNewValue!==null&&y)if(y.key=="class"){const O=tn(y.value);for(const N of O)M.addClass(N,S)}else if(y.key=="style"){const O=Object.keys(y.value);for(const N of O)M.setStyle(N,y.value[N],S)}else M.setAttribute(y.key,y.value,S)}),{priority:e.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(e){return(e=ci(e)).view=es(e.view,"ui"),n=>{var o;n.on("addMarker:"+e.model,(o=e.view,(c,h,m)=>{h.isOpening=!0;const b=o(h,m);h.isOpening=!1;const v=o(h,m);if(!b||!v)return;const A=h.markerRange;if(A.isCollapsed&&!m.consumable.consume(A,c.name))return;for(const M of A)if(!m.consumable.consume(M.item,c.name))return;const y=m.mapper,S=m.writer;S.insert(y.toViewPosition(A.start),b),m.mapper.bindElementToMarker(b,h.markerName),A.isCollapsed||(S.insert(y.toViewPosition(A.end),v),m.mapper.bindElementToMarker(v,h.markerName)),c.stop()}),{priority:e.converterPriority||"normal"}),n.on("removeMarker:"+e.model,(e.view,(c,h,m)=>{const b=m.mapper.markerNameToElements(h.markerName);if(b){for(const v of b)m.mapper.unbindElementFromMarkerName(v,h.markerName),m.writer.clear(m.writer.createRangeOn(v),v);m.writer.clearClonedElementsGroup(h.markerName),c.stop()}}),{priority:e.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(e){return n=>{var o;n.on("addMarker:"+e.model,(o=e.view,(c,h,m)=>{if(!h.item||!(h.item instanceof zi||h.item instanceof li||h.item.is("$textProxy")))return;const b=Gc(o,h,m);if(!b||!m.consumable.consume(h.item,c.name))return;const v=m.writer,A=vf(v,b),y=v.document.selection;if(h.item instanceof zi||h.item instanceof li)v.wrap(y.getFirstRange(),A,y);else{const S=m.mapper.toViewRange(h.range),M=v.wrap(S,A);for(const O of M.getItems())if(O.is("attributeElement")&&O.isSimilar(A)){m.mapper.bindElementToMarker(O,h.markerName);break}}}),{priority:e.converterPriority||"normal"}),n.on("addMarker:"+e.model,function(c){return(h,m,b)=>{if(!m.item||!(m.item instanceof te))return;const v=Gc(c,m,b);if(!v||!b.consumable.test(m.item,h.name))return;const A=b.mapper.toViewElement(m.item);if(A&&A.getCustomProperty("addHighlight")){b.consumable.consume(m.item,h.name);for(const y of q._createIn(m.item))b.consumable.consume(y.item,h.name);A.getCustomProperty("addHighlight")(A,v,b.writer),b.mapper.bindElementToMarker(A,m.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),n.on("removeMarker:"+e.model,function(c){return(h,m,b)=>{if(m.markerRange.isCollapsed)return;const v=Gc(c,m,b);if(!v)return;const A=vf(b.writer,v),y=b.mapper.markerNameToElements(m.markerName);if(y){for(const S of y)b.mapper.unbindElementFromMarkerName(S,m.markerName),S.is("attributeElement")?b.writer.unwrap(b.writer.createRangeOn(S),A):S.getCustomProperty("removeHighlight")(S,v.id,b.writer);b.writer.clearClonedElementsGroup(m.markerName),h.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(e){const n=(e=ci(e)).model;return e.view||(e.view=o=>({group:n,name:o.substr(e.model.length+1)})),o=>{var c;o.on("addMarker:"+n,(c=e.view,(h,m,b)=>{const v=c(m.markerName,b);if(!v)return;const A=m.markerRange;b.consumable.consume(A,h.name)&&(Cf(A,!1,b,m,v),Cf(A,!0,b,m,v),h.stop())}),{priority:e.converterPriority||"normal"}),o.on("removeMarker:"+n,function(h){return(m,b,v)=>{const A=h(b.markerName,v);if(!A)return;const y=v.mapper.markerNameToElements(b.markerName);if(y){for(const M of y)v.mapper.unbindElementFromMarkerName(M,b.markerName),M.is("containerElement")?(S(`data-${A.group}-start-before`,M),S(`data-${A.group}-start-after`,M),S(`data-${A.group}-end-before`,M),S(`data-${A.group}-end-after`,M)):v.writer.clear(v.writer.createRangeOn(M),M);v.writer.clearClonedElementsGroup(b.markerName),m.stop()}function S(M,O){if(O.hasAttribute(M)){const N=new Set(O.getAttribute(M).split(","));N.delete(A.name),N.size==0?v.writer.removeAttribute(M,O):v.writer.setAttribute(M,Array.from(N).join(","),O)}}}}(e.view),{priority:e.converterPriority||"normal"})}}(t))}}function vf(a,t){const e=a.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function Cf(a,t,e,n,o){const c=t?a.start:a.end,h=c.nodeAfter&&c.nodeAfter.is("element")?c.nodeAfter:null,m=c.nodeBefore&&c.nodeBefore.is("element")?c.nodeBefore:null;if(h||m){let b,v;t&&h||!t&&!m?(b=h,v=!0):(b=m,v=!1);const A=e.mapper.toViewElement(b);if(A)return void function(y,S,M,O,N,L){const j=`data-${L.group}-${S?"start":"end"}-${M?"before":"after"}`,W=y.hasAttribute(j)?y.getAttribute(j).split(","):[];W.unshift(L.name),O.writer.setAttribute(j,W.join(","),y),O.mapper.bindElementToMarker(y,N.markerName)}(A,t,v,e,n,o)}(function(b,v,A,y,S){const M=`${S.group}-${v?"start":"end"}`,O=S.name?{name:S.name}:null,N=A.writer.createUIElement(M,O);A.writer.insert(b,N),A.mapper.bindElementToMarker(N,y.markerName)})(e.mapper.toViewPosition(c),t,e,n,o)}function _f(a){return typeof a=="string"&&(a={name:a}),a.attributes?Array.isArray(a.attributes)||(a.attributes=[a.attributes]):a.attributes=[],a.children=!!a.children,a}function es(a,t){return typeof a=="function"?a:(e,n)=>function(o,c,h){typeof o=="string"&&(o={name:o});let m;const b=c.writer,v=Object.assign({},o.attributes);if(h=="container")m=b.createContainerElement(o.name,v);else if(h=="attribute"){const A={priority:o.priority||ir.DEFAULT_PRIORITY};m=b.createAttributeElement(o.name,v,A)}else m=b.createUIElement(o.name,v);if(o.styles){const A=Object.keys(o.styles);for(const y of A)b.setStyle(y,o.styles[y],m)}if(o.classes){const A=o.classes;if(typeof A=="string")b.addClass(A,m);else for(const y of A)b.addClass(y,m)}return m}(a,n,t)}function Af(a){return a.model.values?(t,e)=>{const n=a.view[t];return n?n(t,e):null}:a.view}function yf(a){return typeof a=="string"?t=>({key:a,value:t}):typeof a=="object"?a.value?()=>a:t=>({key:a.key,value:t}):a}function Gc(a,t,e){const n=typeof a=="function"?a(t,e):a;return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function xf(a){const t=function(e){return(n,o)=>{if(!n.is("element",e.name))return!1;if(o.type=="attribute"){if(e.attributes.includes(o.attributeKey))return!0}else if(e.children)return!0;return!1}}(a);return(e,n)=>{const o=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const c of n.changes){const h=c.position?c.position.parent:c.range.start.nodeAfter;if(h&&t(h,c)){if(!n.reconvertedElements.has(h)){n.reconvertedElements.add(h);const m=at._createBefore(h);o.push({type:"remove",name:h.name,position:m,length:1},{type:"reinsert",name:h.name,position:m,length:1})}}else o.push(c)}n.changes=o}}function Ef(a){return(t,e,n={})=>{const o=["insert"];for(const c of a.attributes)t.hasAttribute(c)&&o.push(`attribute:${c}`);return!!o.every(c=>e.test(t,c))&&(n.preflight||o.forEach(c=>e.consume(t,c)),!0)}}function Sf(a,t,e,n){for(const o of t)Hy(a.root,o,e,n)||e.convertItem(o)}function Hy(a,t,e,n){const{writer:o,mapper:c}=e;if(!n.reconversion)return!1;const h=c.toViewElement(t);return!(!h||h.root==a)&&!!e.canReuseView(h)&&(o.move(o.createRangeOn(h),c.toViewPosition(at._createBefore(t))),!0)}function $y(a,t,{preflight:e}={}){return e?t.test(a,"insert"):t.consume(a,"insert")}function Df(a){const{schema:t,document:e}=a.model;for(const n of e.getRootNames()){const o=e.getRoot(n);if(o.isEmpty&&!t.checkChild(o,"$text")&&t.checkChild(o,"paragraph"))return a.insertElement("paragraph",o),!0}return!1}function Mf(a,t,e){const n=e.createContext(a);return!!e.checkChild(n,"paragraph")&&!!e.checkChild(n.push("paragraph"),t)}function If(a,t){const e=t.createElement("paragraph");return t.insert(e,a),t.createPositionAt(e,0)}class Wy extends wf{elementToElement(t){return this.add(Tf(t))}elementToAttribute(t){return this.add(function(e){Pf(e=ci(e));const n=Of(e,!1),o=Yc(e.view),c=o?"element:"+o:"element";return h=>{h.on(c,n,{priority:e.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(e){e=ci(e);let n=null;(typeof e.view=="string"||e.view.key)&&(n=function(c){typeof c.view=="string"&&(c.view={key:c.view});const h=c.view.key;let m;return h=="class"||h=="style"?m={[h=="class"?"classes":"styles"]:c.view.value}:m={attributes:{[h]:c.view.value===void 0?/[\s\S]*/:c.view.value}},c.view.name&&(m.name=c.view.name),c.view=m,h}(e)),Pf(e,n);const o=Of(e,!0);return c=>{c.on("element",o,{priority:e.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(e){return function(n){const o=n.model;n.model=(c,h)=>{const m=typeof o=="string"?o:o(c,h);return h.writer.createElement("$marker",{"data-name":m})}}(e=ci(e)),Tf(e)}(t))}dataToMarker(t){return this.add(function(e){(e=ci(e)).model||(e.model=c=>c?e.view+":"+c:e.view);const n=Kc(Nf(e,"start")),o=Kc(Nf(e,"end"));return c=>{c.on("element:"+e.view+"-start",n,{priority:e.converterPriority||"normal"}),c.on("element:"+e.view+"-end",o,{priority:e.converterPriority||"normal"});const h=C.get("low"),m=C.get("highest"),b=C.get(e.converterPriority)/m;c.on("element",function(v){return(A,y,S)=>{const M=`data-${v.view}`;function O(N,L){for(const j of L){const W=v.model(j,S),tt=S.writer.createElement("$marker",{"data-name":W});S.writer.insert(tt,N),y.modelCursor.isEqual(N)?y.modelCursor=y.modelCursor.getShiftedBy(1):y.modelCursor=y.modelCursor._getTransformedByInsertion(N,1),y.modelRange=y.modelRange._getTransformedByInsertion(N,1)[0]}}(S.consumable.test(y.viewItem,{attributes:M+"-end-after"})||S.consumable.test(y.viewItem,{attributes:M+"-start-after"})||S.consumable.test(y.viewItem,{attributes:M+"-end-before"})||S.consumable.test(y.viewItem,{attributes:M+"-start-before"}))&&(y.modelRange||Object.assign(y,S.convertChildren(y.viewItem,y.modelCursor)),S.consumable.consume(y.viewItem,{attributes:M+"-end-after"})&&O(y.modelRange.end,y.viewItem.getAttribute(M+"-end-after").split(",")),S.consumable.consume(y.viewItem,{attributes:M+"-start-after"})&&O(y.modelRange.end,y.viewItem.getAttribute(M+"-start-after").split(",")),S.consumable.consume(y.viewItem,{attributes:M+"-end-before"})&&O(y.modelRange.start,y.viewItem.getAttribute(M+"-end-before").split(",")),S.consumable.consume(y.viewItem,{attributes:M+"-start-before"})&&O(y.modelRange.start,y.viewItem.getAttribute(M+"-start-before").split(",")))}}(e),{priority:h+b})}}(t))}}function Tf(a){const t=Kc(a=ci(a)),e=Yc(a.view),n=e?"element:"+e:"element";return o=>{o.on(n,t,{priority:a.converterPriority||"normal"})}}function Yc(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function Kc(a){const t=new wi(a.view);return(e,n,o)=>{const c=t.match(n.viewItem);if(!c)return;const h=c.match;if(h.name=!0,!o.consumable.test(n.viewItem,h))return;const m=function(b,v,A){return b instanceof Function?b(v,A):A.writer.createElement(b)}(a.model,n.viewItem,o);m&&o.safeInsert(m,n.modelCursor)&&(o.consumable.consume(n.viewItem,h),o.convertChildren(n.viewItem,m),o.updateConversionResult(m,n))}}function Pf(a,t=null){const e=t===null||(c=>c.getAttribute(t)),n=typeof a.model!="object"?a.model:a.model.key,o=typeof a.model!="object"||a.model.value===void 0?e:a.model.value;a.model={key:n,value:o}}function Of(a,t){const e=new wi(a.view);return(n,o,c)=>{const h=e.match(o.viewItem);if(!h||(function(A,y){const S=typeof A=="function"?A(y):A;return typeof S=="object"&&!Yc(S)?!1:!S.classes&&!S.attributes&&!S.styles}(a.view,o.viewItem)?h.match.name=!0:delete h.match.name,!c.consumable.test(o.viewItem,h.match)))return;const m=a.model.key,b=typeof a.model.value=="function"?a.model.value(o.viewItem,c):a.model.value;if(b===null)return;o.modelRange||Object.assign(o,c.convertChildren(o.viewItem,o.modelCursor)),function(A,y,S,M){let O=!1;for(const N of Array.from(A.getItems({shallow:S})))M.schema.checkAttribute(N,y.key)&&(O=!0,N.hasAttribute(y.key)||M.writer.setAttribute(y.key,y.value,N));return O}(o.modelRange,{key:m,value:b},t,c)&&c.consumable.consume(o.viewItem,h.match)}}function Nf(a,t){const e={};return e.view=a.view+"-"+t,e.model=(n,o)=>{const c=n.getAttribute("name"),h=a.model(c,o);return o.writer.createElement("$marker",{"data-name":h})},e}class Bf{constructor(t,e){this.model=t,this.view=new gf(e),this.mapper=new Hc,this.downcastDispatcher=new $c({mapper:this.mapper,schema:t.schema});const n=this.model.document,o=n.selection,c=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(h=>{this.downcastDispatcher.convertChanges(n.differ,c,h),this.downcastDispatcher.convertSelection(o,c,h)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(h,m){return(b,v)=>{const A=v.newSelection,y=[];for(const M of A.getRanges())y.push(m.toModelRange(M));const S=h.createSelection(y,{backward:A.isBackward});S.isEqual(h.document.selection)||h.change(M=>{M.setSelection(S)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(h,m,b)=>{if(!b.consumable.consume(m.item,h.name))return;const v=b.writer,A=b.mapper.toViewPosition(m.range.start),y=v.createText(m.item.data);v.insert(A,y)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(h,m,b)=>{b.convertAttributes(m.item),m.reconversion||!m.item.is("element")||m.item.isEmpty||b.convertChildren(m.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(h,m,b)=>{const v=b.mapper.toViewPosition(m.position),A=m.position.getShiftedBy(m.length),y=b.mapper.toViewPosition(A,{isPhantom:!0}),S=b.writer.createRange(v,y),M=b.writer.remove(S.getTrimmed());for(const O of b.writer.createRangeIn(M).getItems())b.mapper.unbindViewElement(O,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(h,m,b)=>{const v=b.writer,A=v.document.selection;for(const y of A.getRanges())y.isCollapsed&&y.end.parent.isAttached()&&b.writer.mergeAttributes(y.start);v.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(h,m,b)=>{const v=m.selection;if(v.isCollapsed||!b.consumable.consume(v,"selection"))return;const A=[];for(const y of v.getRanges()){const S=b.mapper.toViewRange(y);A.push(S)}b.writer.setSelection(A,{backward:v.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(h,m,b)=>{const v=m.selection;if(!v.isCollapsed||!b.consumable.consume(v,"selection"))return;const A=b.writer,y=v.getFirstPosition(),S=b.mapper.toViewPosition(y),M=A.breakAttributes(S);A.setSelection(M)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(h=>{if(h.rootName=="$graveyard")return null;const m=new LA(this.view.document,h.name);return m.rootName=h.rootName,this.mapper.bindElements(h,m),m})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e=typeof t=="string"?t:t.name,n=this.model.markers.get(e);if(!n)throw new w("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}Ct(Bf,me);class Gy{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new w("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class ns{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Yy(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return n===void 0?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);n!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const h of n)h!="style"&&h!="class"&&e.attributes.push(h);const o=t.getClassNames();for(const h of o)e.classes.push(h);const c=t.getStyleNames();for(const h of c)e.styles.push(h);return e}static createFrom(t,e){if(e||(e=new ns(t)),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,ns.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=ns.createFrom(n,e);return e}}class Yy{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(n!==!0)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=yn(e)?e:[e],o=this._consumables[t];for(const c of n){if(t==="attributes"&&(c==="class"||c==="style"))throw new w("viewconsumable-invalid-attribute",this);if(o.set(c,!0),t==="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(c))o.set(h,!0)}}_test(t,e){const n=yn(e)?e:[e],o=this._consumables[t];for(const c of n)if(t!=="attributes"||c!=="class"&&c!=="style"){const h=o.get(c);if(h===void 0)return null;if(!h)return!1}else{const h=c=="class"?"classes":"styles",m=this._test(h,[...this._consumables[h].keys()]);if(m!==!0)return m}return!0}_consume(t,e){const n=yn(e)?e:[e],o=this._consumables[t];for(const c of n)if(t!=="attributes"||c!=="class"&&c!=="style"){if(o.set(c,!1),t=="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(c))o.set(h,!1)}else{const h=c=="class"?"classes":"styles";this._consume(h,[...this._consumables[h].keys()])}}_revert(t,e){const n=yn(e)?e:[e],o=this._consumables[t];for(const c of n)if(t!=="attributes"||c!=="class"&&c!=="style")o.get(c)===!1&&o.set(c,!0);else{const h=c=="class"?"classes":"styles";this._revert(h,[...this._consumables[h].keys()])}}}class Lf{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new yo(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new yo(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new w("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new w("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e=typeof t=="string"?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof at){const n=t.nodeBefore,o=t.nodeAfter;if(!(n instanceof te))throw new w("schema-check-merge-no-element-before",this);if(!(o instanceof te))throw new w("schema-check-merge-no-element-after",this);return this.checkMerge(n,o)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,o])=>{if(!o)return;const c=t(n,o);typeof c=="boolean"&&(e.stop(),e.return=c)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,o])=>{const c=t(n,o);typeof c=="boolean"&&(e.stop(),e.return=c)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(t instanceof at?e=t.parent:e=(t instanceof q?[t]:Array.from(t.getRanges())).reduce((n,o)=>{const c=o.getCommonAncestor();return n?n.getCommonAncestor(c,{includeSelf:!0}):c},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new pe("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const o of n)for(const c of o)if(this.checkAttribute(c.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(n){for(const o of n)yield*o.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new q(t);let n,o;const c=t.getAncestors().reverse().find(h=>this.isLimit(h))||t.root;e!="both"&&e!="backward"||(n=new Li({boundaries:q._createIn(c),startPosition:t,direction:"backward"})),e!="both"&&e!="forward"||(o=new Li({boundaries:q._createIn(c),startPosition:t}));for(const h of function*(m,b){let v=!1;for(;!v;){if(v=!0,m){const A=m.next();A.done||(v=!1,yield{walker:m,value:A.value})}if(b){const A=b.next();A.done||(v=!1,yield{walker:b,value:A.value})}}}(n,o)){const m=h.walker==n?"elementEnd":"elementStart",b=h.value;if(b.type==m&&this.isObject(b.item))return q._createOn(b.item);if(this.checkChild(b.nextPosition,"$text"))return new q(b.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))zf(this,n,e);else{const o=q._createIn(n).getPositions();for(const c of o)zf(this,c.nodeBefore||c.parent,e)}}createContext(t){return new yo(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const o of n)t[o]=Ky(e[o],o);for(const o of n)Qy(t,o);for(const o of n)Zy(t,o);for(const o of n)qy(t,o);for(const o of n)Xy(t,o),Jy(t,o);for(const o of n)t1(t,o),e1(t,o),n1(t,o);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const o=e.getItem(n);if(t.allowIn.includes(o.name)){if(n==0)return!0;{const c=this.getDefinition(o);return this._checkContextMatch(c,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,o=t.start;for(const c of t.getItems({shallow:!0}))c.is("element")&&(yield*this._getValidRangesForRange(q._createIn(c),e)),this.checkAttribute(c,e)||(n.isEqual(o)||(yield new q(n,o)),n=at._createAfter(c)),o=at._createAfter(c);n.isEqual(o)||(yield new q(n,o))}}Ct(Lf,me);class yo{constructor(t){if(t instanceof yo)return t;typeof t=="string"?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),this._items=t.map(o1)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new yo([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Ky(a,t){const e={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,o){for(const c of n){const h=Object.keys(c).filter(m=>m.startsWith("is"));for(const m of h)o[m]=c[m]}}(a,e),xo(a,e,"allowIn"),xo(a,e,"allowContentOf"),xo(a,e,"allowWhere"),xo(a,e,"allowAttributes"),xo(a,e,"allowAttributesOf"),xo(a,e,"allowChildren"),xo(a,e,"inheritTypesFrom"),function(n,o){for(const c of n){const h=c.inheritAllFrom;h&&(o.allowContentOf.push(h),o.allowWhere.push(h),o.allowAttributesOf.push(h),o.inheritTypesFrom.push(h))}}(a,e),e}function Qy(a,t){const e=a[t];for(const n of e.allowChildren){const o=a[n];o&&o.allowIn.push(t)}e.allowChildren.length=0}function Zy(a,t){for(const e of a[t].allowContentOf)a[e]&&i1(a,e).forEach(n=>{n.allowIn.push(t)});delete a[t].allowContentOf}function qy(a,t){for(const e of a[t].allowWhere){const n=a[e];if(n){const o=n.allowIn;a[t].allowIn.push(...o)}}delete a[t].allowWhere}function Xy(a,t){for(const e of a[t].allowAttributesOf){const n=a[e];if(n){const o=n.allowAttributes;a[t].allowAttributes.push(...o)}}delete a[t].allowAttributesOf}function Jy(a,t){const e=a[t];for(const n of e.inheritTypesFrom){const o=a[n];if(o){const c=Object.keys(o).filter(h=>h.startsWith("is"));for(const h of c)h in e||(e[h]=o[h])}}delete e.inheritTypesFrom}function t1(a,t){const e=a[t],n=e.allowIn.filter(o=>a[o]);e.allowIn=Array.from(new Set(n))}function e1(a,t){const e=a[t];for(const n of e.allowIn)a[n].allowChildren.push(t)}function n1(a,t){const e=a[t];e.allowAttributes=Array.from(new Set(e.allowAttributes))}function xo(a,t,e){for(const n of a)typeof n[e]=="string"?t[e].push(n[e]):Array.isArray(n[e])&&t[e].push(...n[e])}function i1(a,t){const e=a[t];return(n=a,Object.keys(n).map(o=>n[o])).filter(o=>o.allowIn.includes(e.name));var n}function o1(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:t=>a.getAttribute(t)}}function zf(a,t,e){for(const n of t.getAttributeKeys())a.checkAttribute(t,n)||e.removeAttribute(n,t)}class Rf{constructor(t={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(h,m){let b;for(const v of new yo(h)){const A={};for(const S of v.getAttributeKeys())A[S]=v.getAttribute(S);const y=m.createElement(v.name,A);b&&m.append(y,b),b=at._createAt(y,0)}return b}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=ns.createFrom(t),this.conversionApi.store={};const{modelRange:o}=this._convertItem(t,this._modelCursor),c=e.createDocumentFragment();if(o){this._removeEmptyElements();for(const h of Array.from(this._modelCursor.parent.getChildren()))e.append(h,c);c.markers=function(h,m){const b=new Set,v=new Map,A=q._createIn(h).getItems();for(const y of A)y.name=="$marker"&&b.add(y);for(const y of b){const S=y.getAttribute("data-name"),M=m.createPositionBefore(y);v.has(S)?v.get(S).end=M.clone():v.set(S,new q(M.clone())),m.remove(y)}return v}(c,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,c}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof q))throw new w("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:at._createAt(e,0);const o=new q(n);for(const c of Array.from(t.getChildren())){const h=this._convertItem(c,n);h.modelRange instanceof q&&(o.end=h.modelRange.end,n=h.modelCursor)}return{modelRange:o,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),o=this.conversionApi.writer;e.modelRange||(e.modelRange=o.createRange(o.createPositionBefore(t),o.createPositionAfter(n[n.length-1])));const c=this._cursorParents.get(t);e.modelCursor=c?o.createPositionAt(c,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:o}=this.conversionApi;let c=n.findAllowedParent(e,t);if(c){if(c===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(c)&&(c=null)}if(!c)return Mf(e,t,n)?{position:If(e,o)}:null;const h=this.conversionApi.writer.split(e,c),m=[];for(const v of h.range.getWalker())if(v.type=="elementEnd")m.push(v.item);else{const A=m.pop(),y=v.item;this._registerSplitPair(A,y)}const b=h.range.end.parent;return this._cursorParents.set(t,b),{position:h.position,cursorParent:b}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}Ct(Rf,R);class r1{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class s1{constructor(t){this.domParser=new DOMParser,this.domConverter=new ba(t,{renderingMode:"data"}),this.htmlWriter=new r1}toData(t){const e=this.domConverter.viewToDom(t,document);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e)}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);return n}}class jf{constructor(t,e){this.model=t,this.mapper=new Hc,this.downcastDispatcher=new $c({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(n,o,c)=>{if(!c.consumable.consume(o.item,n.name))return;const h=c.writer,m=c.mapper.toViewPosition(o.range.start),b=h.createText(o.item.data);h.insert(m,b)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,o,c)=>{c.convertAttributes(o.item),o.reconversion||!o.item.is("element")||o.item.isEmpty||c.convertChildren(o.item)},{priority:"lowest"}),this.upcastDispatcher=new Rf({schema:t.schema}),this.viewDocument=new qr(e),this.stylesProcessor=e,this.htmlProcessor=new s1(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new _g(this.viewDocument),this.upcastDispatcher.on("text",(n,o,{schema:c,consumable:h,writer:m})=>{let b=o.modelCursor;if(!h.test(o.viewItem))return;if(!c.checkChild(b,"$text")){if(!Mf(b,"$text",c))return;b=If(b,m)}h.consume(o.viewItem);const v=m.createText(o.viewItem.data);m.insert(v,b),o.modelRange=m.createRange(b,b.getShiftedBy(v.offsetSize)),o.modelCursor=o.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,o,c)=>{if(!o.modelRange&&c.consumable.consume(o.viewItem,{name:!0})){const{modelRange:h,modelCursor:m}=c.convertChildren(o.viewItem,o.modelCursor);o.modelRange=h,o.modelCursor=m}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,o,c)=>{if(!o.modelRange&&c.consumable.consume(o.viewItem,{name:!0})){const{modelRange:h,modelCursor:m}=c.convertChildren(o.viewItem,o.modelCursor);o.modelRange=h,o.modelCursor=m}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.decorate("get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Df)},{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:n="empty"}=t;if(!this._checkIfRootsExists([e]))throw new w("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(e);return n!=="empty"||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,t):""}stringify(t,e={}){const n=this.toView(t,e);return this.processor.toData(n)}toView(t,e={}){const n=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const c=q._createIn(t),h=new Co(n);this.mapper.bindElements(t,h);const m=t.is("documentFragment")?t.markers:function(b){const v=[],A=b.root.document;if(!A)return new Map;const y=q._createIn(b);for(const S of A.model.markers){const M=S.getRange(),O=M.isCollapsed,N=M.start.isEqual(y.start)||M.end.isEqual(y.end);if(O&&N)v.push([S.name,M]);else{const L=y.getIntersection(M);L&&v.push([S.name,L])}}return v.sort(([S,M],[O,N])=>{if(M.end.compareWith(N.start)!=="after")return 1;if(M.start.compareWith(N.end)!=="before")return-1;switch(M.start.compareWith(N.start)){case"before":return 1;case"after":return-1;default:switch(M.end.compareWith(N.end)){case"before":return 1;case"after":return-1;default:return O.localeCompare(S)}}}),new Map(v)}(t);return this.downcastDispatcher.convert(c,m,o,e),h}init(t){if(this.model.document.version)throw new w("datacontroller-init-document-not-empty",this);let e={};if(typeof t=="string"?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new w("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const o of Object.keys(e)){const c=this.model.document.getRoot(o);n.insert(this.parse(e[o],c),c,0)}}),Promise.resolve()}set(t,e={}){let n={};if(typeof t=="string"?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new w("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const c of Object.keys(n)){const h=this.model.document.getRoot(c);o.remove(o.createRangeIn(h)),o.insert(this.parse(n[c],h),h,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}Ct(jf,me);class a1{constructor(t,e){this._helpers=new Map,this._downcast=tn(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=tn(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new w("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new w("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of Qc(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of Qc(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of Qc(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new w("conversion-group-exists",this);const o=n?new Uy(e):new Wy(e);this._helpers.set(t,o)}}function*Qc(a){if(a.model.values)for(const t of a.model.values){const e={key:a.model.key,value:t},n=a.view[t],o=a.upcastAlso?a.upcastAlso[t]:void 0;yield*Ff(e,n,o)}else yield*Ff(a.model,a.view,a.upcastAlso)}function*Ff(a,t,e){if(yield{model:a,view:t},e)for(const n of tn(e))yield{model:a,view:n}}class lr{constructor(t={}){typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},x("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:o=!1,isTyping:c=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=o,this.isTyping=c}get type(){return x("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class Zn{constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class Ri{constructor(t){this.markers=new Map,this._children=new ar,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(t){return t==="documentFragment"||t==="model:documentFragment"}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(te.fromJSON(n)):e.push(pe.fromJSON(n));return new Ri(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(o){return typeof o=="string"?[new pe(o)]:(Gn(o)||(o=[o]),Array.from(o).map(c=>typeof c=="string"?new pe(c):c instanceof Ci?new pe(c.data,c.getAttributes()):c))}(e);for(const o of n)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const o of n)o.parent=null;return n}}function Zc(a,t){const e=(t=Uf(t)).reduce((c,h)=>c+h.offsetSize,0),n=a.parent;rs(a);const o=a.index;return n._insertChild(o,t),os(n,o+t.length),os(n,o),new q(a,a.getShiftedBy(e))}function Vf(a){if(!a.isFlat)throw new w("operation-utils-remove-range-not-flat",this);const t=a.start.parent;rs(a.start),rs(a.end);const e=t._removeChildren(a.start.index,a.end.index-a.start.index);return os(t,a.start.index),e}function is(a,t){if(!a.isFlat)throw new w("operation-utils-move-range-not-flat",this);const e=Vf(a);return Zc(t=t._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),e)}function Uf(a){const t=[];a instanceof Array||(a=[a]);for(let e=0;e<a.length;e++)if(typeof a[e]=="string")t.push(new pe(a[e]));else if(a[e]instanceof Ci)t.push(new pe(a[e].data,a[e].getAttributes()));else if(a[e]instanceof Ri||a[e]instanceof ar)for(const n of a[e])t.push(n);else a[e]instanceof _o&&t.push(a[e]);for(let e=1;e<t.length;e++){const n=t[e],o=t[e-1];n instanceof pe&&o instanceof pe&&Hf(n,o)&&(t.splice(e-1,2,new pe(o.data+n.data,o.getAttributes())),e--)}return t}function os(a,t){const e=a.getChild(t-1),n=a.getChild(t);if(e&&n&&e.is("$text")&&n.is("$text")&&Hf(e,n)){const o=new pe(e.data+n.data,e.getAttributes());a._removeChildren(t-1,2),a._insertChild(t-1,o)}}function rs(a){const t=a.textNode,e=a.parent;if(t){const n=a.offset-t.startOffset,o=t.index;e._removeChildren(o,1);const c=new pe(t.data.substr(0,n),t.getAttributes()),h=new pe(t.data.substr(n),t.getAttributes());e._insertChild(o,[c,h])}}function Hf(a,t){const e=a.getAttributes(),n=t.getAttributes();for(const o of e){if(o[1]!==t.getAttribute(o[0]))return!1;n.next()}return n.next().done}const $f=function(a,t){return qg(a,t)};class We extends Zn{constructor(t,e,n,o,c){super(c),this.range=t.clone(),this.key=e,this.oldValue=n===void 0?null:n,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new We(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new We(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new w("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!$f(t.getAttribute(this.key),this.oldValue))throw new w("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new w("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){$f(this.oldValue,this.newValue)||function(t,e,n){rs(t.start),rs(t.end);for(const o of t.getItems({shallow:!0})){const c=o.is("$textProxy")?o.textNode:o;n!==null?c._setAttribute(e,n):c._removeAttribute(e),os(c.parent,c.index)}os(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new We(q.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class l1 extends Zn{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new w("detach-operation-on-document-node",this)}_execute(){Vf(q._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ee extends Zn{constructor(t,e,n,o){super(o),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,o=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new w("move-operation-nodes-do-not-exist",this);if(t===e&&n<o&&o<n+this.howMany)throw new w("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&pn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const c=this.sourcePosition.path.length-1;if(this.targetPosition.path[c]>=n&&this.targetPosition.path[c]<n+this.howMany)throw new w("move-operation-node-into-itself",this)}}_execute(){is(q._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=at.fromJSON(t.sourcePosition,e),o=at.fromJSON(t.targetPosition,e);return new this(n,t.howMany,o,t.baseVersion)}}class en extends Zn{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new ar(Uf(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new ar([...this.nodes].map(n=>n._clone(!0))),e=new en(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new at(t,[0]);return new ee(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new w("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new ar([...t].map(e=>e._clone(!0))),Zc(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const c of t.nodes)c.name?n.push(te.fromJSON(c)):n.push(pe.fromJSON(c));const o=new en(at.fromJSON(t.position,e),n,t.baseVersion);return o.shouldReceiveAttributes=t.shouldReceiveAttributes,o}}class Sn extends Zn{constructor(t,e,n,o,c,h){super(h),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=c,this._markers=o}get type(){return"marker"}clone(){return new Sn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Sn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new Sn(t.name,t.oldRange?q.fromJSON(t.oldRange,e):null,t.newRange?q.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class Dn extends Zn{constructor(t,e,n,o){super(o),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new Dn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Dn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof te))throw new w("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new w("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Dn(at.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class ji extends Zn{constructor(t,e,n,o,c){super(c),this.root=t,this.key=e,this.oldValue=n,this.newValue=o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new ji(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ji(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new w("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new w("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new w("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new w("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new ji(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Ye extends Zn{constructor(t,e,n,o,c){super(c),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new at(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new q(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new at(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new ke(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new w("merge-operation-source-position-invalid",this);if(!e.parent)throw new w("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new w("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;is(q._createIn(t),this.targetPosition),is(q._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=at.fromJSON(t.sourcePosition,e),o=at.fromJSON(t.targetPosition,e),c=at.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,o,c,t.baseVersion)}}class ke extends Zn{constructor(t,e,n,o,c){super(c),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new at(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new q(this.splitPosition,t)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new at(t,[0]);return new Ye(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new w("split-operation-position-invalid",this);if(!t.parent)throw new w("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new w("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new w("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)is(q._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Zc(this.insertionPosition,e)}is(new q(at._createAt(t,this.splitPosition.offset),at._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new at(t.root,e,"toPrevious")}static fromJSON(t,e){const n=at.fromJSON(t.splitPosition,e),o=at.fromJSON(t.insertionPosition,e),c=t.graveyardPosition?at.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,o,c,t.baseVersion)}}class qc extends te{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}is(t,e){return e?e===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t==="node"||t==="model:node"}toJSON(){return this.rootName}}class c1{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new pe(t,e)}createElement(t,e){return new te(t,e)}createDocumentFragment(){return new Ri}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof pe&&t.data=="")return;const o=at._createAt(e,n);if(t.parent){if(Yf(t.root,o.root))return void this.move(q._createOn(t),o);if(t.root.document)throw new w("model-writer-insert-forbidden-move",this);this.remove(t)}const c=o.root.document?o.root.document.version:null,h=new en(o,t,c);if(t instanceof pe&&(h.shouldReceiveAttributes=!0),this.batch.addOperation(h),this.model.applyOperation(h),t instanceof Ri)for(const[m,b]of t.markers){const v=at._createAt(b.root,0),A={range:new q(b.start._getCombined(v,o),b.end._getCombined(v,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(m)?this.updateMarker(m,A):this.addMarker(m,A)}}insertText(t,e,n,o){e instanceof Ri||e instanceof te||e instanceof at?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,o)}insertElement(t,e,n,o){e instanceof Ri||e instanceof te||e instanceof at?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,o)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof Ri||e instanceof te?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof Ri||e instanceof te?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof q){const o=n.getMinimalFlatRanges();for(const c of o)Wf(this,t,e,c)}else Gf(this,t,e,n)}setAttributes(t,e){for(const[n,o]of Oi(t))this.setAttribute(n,o,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof q){const n=e.getMinimalFlatRanges();for(const o of n)Wf(this,t,null,o)}else Gf(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=n=>{for(const o of n.getAttributeKeys())this.removeAttribute(o,n)};if(t instanceof q)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof q))throw new w("writer-move-invalid-range",this);if(!t.isFlat)throw new w("writer-move-range-not-flat",this);const o=at._createAt(e,n);if(o.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Yf(t.root,o.root))throw new w("writer-move-different-document",this);const c=t.root.document?t.root.document.version:null,h=new ee(t.start,t.end.offset-t.start.offset,o,c);this.batch.addOperation(h),this.model.applyOperation(h)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof q?t:q._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),d1(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof te))throw new w("writer-merge-no-element-before",this);if(!(n instanceof te))throw new w("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(q._createIn(n),at._createAt(e,"end")),this.remove(n)}_merge(t){const e=at._createAt(t.nodeBefore,"end"),n=at._createAt(t.nodeAfter,0),o=t.root.document.graveyard,c=new at(o,[0]),h=t.root.document.version,m=new Ye(n,t.nodeAfter.maxOffset,e,c,h);this.batch.addOperation(m),this.model.applyOperation(m)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof te))throw new w("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,o=new Dn(at._createBefore(t),t.name,e,n);this.batch.addOperation(o),this.model.applyOperation(o)}split(t,e){this._assertWriterUsedCorrectly();let n,o,c=t.parent;if(!c.parent)throw new w("writer-split-element-no-parent",this);if(e||(e=c.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new w("writer-split-invalid-limit-element",this);do{const h=c.root.document?c.root.document.version:null,m=c.maxOffset-t.offset,b=ke.getInsertionPosition(t),v=new ke(t,m,b,null,h);this.batch.addOperation(v),this.model.applyOperation(v),n||o||(n=c,o=t.parent.nextSibling),c=(t=this.createPositionAfter(t.parent)).parent}while(c!==e);return{position:t,range:new q(at._createAt(n,"end"),at._createAt(o,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new w("writer-wrap-range-not-flat",this);const n=e instanceof te?e:new te(e);if(n.childCount>0)throw new w("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new w("writer-wrap-element-attached",this);this.insert(n,t.start);const o=new q(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(o,at._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new w("writer-unwrap-element-no-parent",this);this.move(q._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new w("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,o=e.range,c=e.affectsData!==void 0&&e.affectsData;if(this.model.markers.has(t))throw new w("writer-addmarker-marker-exists",this);if(!o)throw new w("writer-addmarker-no-range",this);return n?(ss(this,t,null,o,c),this.model.markers.get(t)):this.model.markers._set(t,o,n,c)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n=typeof t=="string"?t:t.name,o=this.model.markers.get(n);if(!o)throw new w("writer-updatemarker-marker-not-exists",this);if(!e)return x("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(o);const c=typeof e.usingOperation=="boolean",h=typeof e.affectsData=="boolean",m=h?e.affectsData:o.affectsData;if(!c&&!e.range&&!h)throw new w("writer-updatemarker-wrong-options",this);const b=o.getRange(),v=e.range?e.range:b;c&&e.usingOperation!==o.managedUsingOperations?e.usingOperation?ss(this,n,null,v,m):(ss(this,n,b,null,m),this.model.markers._set(n,v,void 0,m)):o.managedUsingOperations?ss(this,n,b,v,m):this.model.markers._set(n,v,void 0,m)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new w("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);if(!n.managedUsingOperations)return void this.model.markers._remove(e);ss(this,e,n.getRange(),null,n.affectsData)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[n,o]of Oi(t))this._setSelectionAttribute(n,o)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const o=li._getStoreAttributeKey(t);this.setAttribute(o,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=li._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new w("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const o=n.getRange();let c=!1;if(t==="move")c=e.containsPosition(o.start)||e.start.isEqual(o.start)||e.containsPosition(o.end)||e.end.isEqual(o.end);else{const h=e.nodeBefore,m=e.nodeAfter,b=o.start.parent==h&&o.start.isAtEnd,v=o.end.parent==m&&o.end.offset==0,A=o.end.nodeAfter==m,y=o.start.nodeAfter==m;c=b||v||A||y}c&&this.updateMarker(n.name,{range:o})}}}function Wf(a,t,e,n){const o=a.model,c=o.document;let h,m,b,v=n.start;for(const y of n.getWalker({shallow:!0}))b=y.item.getAttribute(t),h&&m!=b&&(m!=e&&A(),v=h),h=y.nextPosition,m=b;function A(){const y=new q(v,h),S=y.root.document?c.version:null,M=new We(y,t,m,e,S);a.batch.addOperation(M),o.applyOperation(M)}h instanceof at&&h!=v&&m!=e&&A()}function Gf(a,t,e,n){const o=a.model,c=o.document,h=n.getAttribute(t);let m,b;if(h!=e){if(n.root===n){const v=n.document?c.version:null;b=new ji(n,t,h,e,v)}else{m=new q(at._createBefore(n),a.createPositionAfter(n));const v=m.root.document?c.version:null;b=new We(m,t,h,e,v)}a.batch.addOperation(b),o.applyOperation(b)}}function ss(a,t,e,n,o){const c=a.model,h=c.document,m=new Sn(t,e,n,c.markers,o,h.version);a.batch.addOperation(m),c.applyOperation(m)}function d1(a,t,e,n){let o;if(a.root.document){const c=n.document,h=new at(c.graveyard,[0]);o=new ee(a,t,h,c.version)}else o=new l1(a,t);e.addOperation(o),n.applyOperation(o)}function Yf(a,t){return a===t||a instanceof qc&&t instanceof qc}class u1{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=q._createFromPositionAndShift(t.position,1);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const o=n.getData();this.bufferMarkerChange(n.name,o,o)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const o=t.targetPosition.parent;this._isInInsertedElement(o)||this._markInsert(o,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){const o=this._changedMarkers.get(t);o?(o.newMarkerData=n,o.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{newMarkerData:n,oldMarkerData:e})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)n.oldMarkerData.range!=null&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)n.newMarkerData.range!=null&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData)return!(t.range&&e.range&&t.range.isEqual(e.range))}return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const n of this._changesInElement.keys()){const o=this._changesInElement.get(n).sort((A,y)=>A.offset===y.offset?A.type!=y.type?A.type=="remove"?-1:1:0:A.offset<y.offset?-1:1),c=this._elementSnapshots.get(n),h=Kf(n.getChildren()),m=h1(c.length,o);let b=0,v=0;for(const A of m)if(A==="i")e.push(this._getInsertDiff(n,b,h[b].name)),b++;else if(A==="r")e.push(this._getRemoveDiff(n,b,c[v].name)),v++;else if(A==="a"){const y=h[b].attributes,S=c[v].attributes;let M;if(h[b].name=="$text")M=new q(at._createAt(n,b),at._createAt(n,b+1));else{const O=n.offsetToIndex(b);M=new q(at._createAt(n,b),at._createAt(n.getChild(O),0))}e.push(...this._getAttributesDiff(M,S,y)),b++,v++}else b++,v++}e.sort((n,o)=>n.position.root!=o.position.root?n.position.root.rootName<o.position.root.rootName?-1:1:n.position.isEqual(o.position)?n.changeCount-o.changeCount:n.position.isBefore(o.position)?-1:1);for(let n=1,o=0;n<e.length;n++){const c=e[o],h=e[n],m=c.type=="remove"&&h.type=="remove"&&c.name=="$text"&&h.name=="$text"&&c.position.isEqual(h.position),b=c.type=="insert"&&h.type=="insert"&&c.name=="$text"&&h.name=="$text"&&c.position.parent==h.position.parent&&c.position.offset+c.length==h.position.offset,v=c.type=="attribute"&&h.type=="attribute"&&c.position.parent==h.position.parent&&c.range.isFlat&&h.range.isFlat&&c.position.offset+c.length==h.position.offset&&c.attributeKey==h.attributeKey&&c.attributeOldValue==h.attributeOldValue&&c.attributeNewValue==h.attributeNewValue;m||b||v?(c.length++,v&&(c.range.end=c.range.end.getShiftedBy(1)),e[n]=null):o=n}e=e.filter(n=>n);for(const n of e)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(g1),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const e=q._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const o=n.getData();this.bufferMarkerChange(n.name,o,o)}this._cachedChanges=null}_markInsert(t,e,n){const o={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o)}_markRemove(t,e,n){const o={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let o=0;o<n.length;o++)n[o].howMany<1&&(n.splice(o,1),o--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Kf(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const o=t.offset+t.howMany,c=n.offset+n.howMany;if(t.type=="insert"&&(n.type=="insert"&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<c&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),n.type=="remove"&&t.offset<n.offset&&(n.offset+=t.howMany),n.type=="attribute")){if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<c){const h=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:o,howMany:h-n.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(n.type=="insert"){if(o<=n.offset)n.offset-=t.howMany;else if(o<=c)if(t.offset<n.offset){const h=o-n.offset;n.offset=t.offset,n.howMany-=h,t.nodesToHandle-=h}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<c){const h=c-t.offset;n.howMany-=h,t.nodesToHandle-=h}}if(n.type=="remove"&&(o<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(o<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const h=o-n.offset;n.offset=t.offset,n.howMany-=h}else if(t.offset<c)if(o<=c){const h=n.howMany;n.howMany=t.offset-n.offset;const m=h-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:m,count:this._changeCount++})}else n.howMany-=c-t.offset}}if(t.type=="attribute"){if(n.type=="insert")if(t.offset<n.offset&&o>n.offset){if(o>c){const h={type:"attribute",offset:c,howMany:o-c,count:this._changeCount++};this._handleChange(h,e),e.push(h)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<c&&(o>c?(t.nodesToHandle=o-c,t.offset=c):t.nodesToHandle=0);if(n.type=="remove"&&t.offset<n.offset&&o>n.offset){const h={type:"attribute",offset:n.offset,howMany:o-n.offset,count:this._changeCount++};this._handleChange(h,e),e.push(h),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}n.type=="attribute"&&(t.offset>=n.offset&&o<=c?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&o>=c&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:at._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:at._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const o=[];n=new Map(n);for(const[c,h]of e){const m=n.has(c)?n.get(c):null;m!==h&&o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:c,attributeOldValue:h,attributeNewValue:m,changeCount:this._changeCount++}),n.delete(c)}for(const[c,h]of n)o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:c,attributeOldValue:null,attributeNewValue:h,changeCount:this._changeCount++});return o}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),o=t.startOffset;if(n){for(const c of n)if(c.type=="insert"&&o>=c.offset&&o<c.offset+c.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const o=new q(at._createAt(t,e),at._createAt(t,e+n));for(const c of o.getItems({shallow:!0}))c.is("element")&&(this._elementSnapshots.delete(c),this._changesInElement.delete(c),this._removeAllNestedChanges(c,0,c.maxOffset))}}function Kf(a){const t=[];for(const e of a)if(e.is("$text"))for(let n=0;n<e.data.length;n++)t.push({name:"$text",attributes:new Map(e.getAttributes())});else t.push({name:e.name,attributes:new Map(e.getAttributes())});return t}function h1(a,t){const e=[];let n=0,o=0;for(const c of t){if(c.offset>n){for(let h=0;h<c.offset-n;h++)e.push("e");o+=c.offset-n}if(c.type=="insert"){for(let h=0;h<c.howMany;h++)e.push("i");n=c.offset+c.howMany}else if(c.type=="remove"){for(let h=0;h<c.howMany;h++)e.push("r");n=c.offset,o+=c.howMany}else e.push(..."a".repeat(c.howMany).split("")),n=c.offset+c.howMany,o+=c.howMany}if(o<a)for(let c=0;c<a-o-n;c++)e.push("e");return e}function g1(a){const t=a.position&&a.position.root.rootName=="$graveyard",e=a.range&&a.range.root.rootName=="$graveyard";return!t&&!e}class f1{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){const n=[];for(const o of this._operations)o.baseVersion>=t&&o.baseVersion<e&&n.push(o);return n}getOperation(t){for(const e of this._operations)if(e.baseVersion==t)return e}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function Qf(a,t){return!!(e=a.charAt(t-1))&&e.length==1&&/[\ud800-\udbff]/.test(e)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(a.charAt(t));var e}function Zf(a,t){return!!(e=a.charAt(t))&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e);var e}const p1=function(){const a=/\p{Regional_Indicator}{2}/u.source,t="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(e=>e.source).join("|")+")";return new RegExp(`${a}|${t}(?:\u200D${t})*`,"ug")}();function m1(a,t){const e=String(a).matchAll(p1);return Array.from(e).some(n=>n.index<t&&t<n.index+n[0].length)}const Xc="$graveyard";class qf{constructor(t){this.model=t,this.version=0,this.history=new f1(this),this.selection=new li(this),this.roots=new Yn({idProperty:"rootName"}),this.differ=new u1(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Xc),this.listenTo(t,"applyOperation",(e,n)=>{const o=n[0];if(o.isDocumentOperation&&o.baseVersion!==this.version)throw new w("model-document-applyoperation-wrong-version",this,{operation:o})},{priority:"highest"}),this.listenTo(t,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(t,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&(this.version++,this.history.addOperation(o))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(e,n,o,c,h)=>{const m={...n.getData(),range:c};this.differ.bufferMarkerChange(n.name,h,m),o===null&&n.on("change",(b,v)=>{const A=n.getData();this.differ.bufferMarkerChange(n.name,{...A,range:v},A)})})}get graveyard(){return this.getRoot(Xc)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new w("model-document-createroot-name-exists",this,{name:e});const n=new qc(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=Xc)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=ag(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,o=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(o)||e.createRange(o)}_validateSelectionRange(t){return Xf(t.start)&&Xf(t.end)}_callPostFixers(t){let e=!1;do for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break;while(e)}}function Xf(a){const t=a.textNode;if(t){const e=t.data,n=a.offset-t.startOffset;return!Qf(e,n)&&!Zf(e,n)}return!0}Ct(qf,R);class Jf{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const e=t instanceof cr?t.name:t;return this._markers.has(e)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,o=!1){const c=t instanceof cr?t.name:t;if(c.includes(","))throw new w("markercollection-incorrect-marker-name",this);const h=this._markers.get(c);if(h){const v=h.getData(),A=h.getRange();let y=!1;return A.isEqual(e)||(h._attachLiveRange(_i.fromRange(e)),y=!0),n!=h.managedUsingOperations&&(h._managedUsingOperations=n,y=!0),typeof o=="boolean"&&o!=h.affectsData&&(h._affectsData=o,y=!0),y&&this.fire("update:"+c,h,A,e,v),h}const m=_i.fromRange(e),b=new cr(c,m,n,o);return this._markers.set(c,b),this.fire("update:"+c,b,null,e,{...b.getData(),range:null}),b}_remove(t){const e=t instanceof cr?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof cr?t.name:t,n=this._markers.get(e);if(!n)throw new w("markercollection-refresh-marker-not-exists",this);const o=n.getRange();this.fire("update:"+e,n,o,o,n.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)e.getRange().getIntersection(t)!==null&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}Ct(Jf,R);class cr{constructor(t,e,n,o){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._liveRange.toRange()}is(t){return t==="marker"||t==="model:marker"}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ct(cr,R);class nn extends Zn{get type(){return"noop"}clone(){return new nn(this.baseVersion)}getReversed(){return new nn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const di={};di[We.className]=We,di[en.className]=en,di[Sn.className]=Sn,di[ee.className]=ee,di[nn.className]=nn,di[Zn.className]=Zn,di[Dn.className]=Dn,di[ji.className]=ji,di[ke.className]=ke,di[Ye.className]=Ye;class cn extends at{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new w("model-liveposition-root-not-rootelement",t);b1.call(this)}detach(){this.stopListening()}is(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"}toPosition(){return new at(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function b1(){this.listenTo(this.root.document.model,"applyOperation",(a,t)=>{const e=t[0];e.isDocumentOperation&&k1.call(this,e)},{priority:"low"})}function k1(a){const t=this.getTransformedByOperation(a);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}Ct(cn,R);class w1{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new w("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?q._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new q(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=cn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new w("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=cn.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=cn.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof te)||!this._canMergeLeft(t))return;const e=cn._createBefore(t);e.stickiness="toNext";const n=cn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=cn._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=cn._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof te)||!this._canMergeRight(t))return;const e=cn._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new w("insertcontent-invalid-insertion-position",this);this.position=at._createAt(e.nodeBefore,"end");const n=cn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=cn._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=cn._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof te&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof te&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function v1(a,t,e={}){if(t.isCollapsed)return;const n=t.getFirstRange();if(n.root.rootName=="$graveyard")return;const o=a.schema;a.change(c=>{if(!e.doNotResetEntireContent&&function(b,v){const A=b.getLimitElement(v);if(!v.containsEntireContent(A))return!1;const y=v.getFirstRange();return y.start.parent==y.end.parent?!1:b.checkChild(A,"paragraph")}(o,t))return void function(b,v){const A=b.model.schema.getLimitElement(v);b.remove(b.createRangeIn(A)),np(b,b.createPositionAt(A,0),v)}(c,t);const[h,m]=function(b){const v=b.root.document.model,A=b.start;let y=b.end;if(v.hasContent(b,{ignoreMarkers:!0})){const S=function(M){const O=M.parent,N=O.root.document.model.schema,L=O.getAncestors({parentFirst:!0,includeSelf:!0});for(const j of L){if(N.isLimit(j))return null;if(N.isBlock(j))return j}}(y);if(S&&y.isTouching(v.createPositionAt(S,0))){const M=v.createSelection(b);v.modifySelection(M,{direction:"backward"});const O=M.getLastPosition(),N=v.createRange(O,y);v.hasContent(N,{ignoreMarkers:!0})||(y=O)}}return[cn.fromPosition(A,"toPrevious"),cn.fromPosition(y,"toNext")]}(n);h.isTouching(m)||c.remove(c.createRange(h,m)),e.leaveUnmerged||(function(b,v,A){const y=b.model;if(!Jc(b.model.schema,v,A))return;const[S,M]=function(O,N){const L=O.getAncestors(),j=N.getAncestors();let W=0;for(;L[W]&&L[W]==j[W];)W++;return[L[W],j[W]]}(v,A);!S||!M||(!y.hasContent(S,{ignoreMarkers:!0})&&y.hasContent(M,{ignoreMarkers:!0})?ep(b,v,A,S.parent):tp(b,v,A,S.parent))}(c,h,m),o.removeDisallowedAttributes(h.parent.getChildren(),c)),ip(c,t,h),!e.doNotAutoparagraph&&function(b,v){const A=b.checkChild(v,"$text"),y=b.checkChild(v,"paragraph");return!A&&y}(o,h)&&np(c,h,t),h.detach(),m.detach()})}function tp(a,t,e,n){const o=t.parent,c=e.parent;if(o!=n&&c!=n){for(t=a.createPositionAfter(o),(e=a.createPositionBefore(c)).isEqual(t)||a.insert(c,t),a.merge(t);e.parent.isEmpty;){const h=e.parent;e=a.createPositionBefore(h),a.remove(h)}Jc(a.model.schema,t,e)&&tp(a,t,e,n)}}function ep(a,t,e,n){const o=t.parent,c=e.parent;if(o!=n&&c!=n){for(t=a.createPositionAfter(o),(e=a.createPositionBefore(c)).isEqual(t)||a.insert(o,e);t.parent.isEmpty;){const h=t.parent;t=a.createPositionBefore(h),a.remove(h)}e=a.createPositionBefore(c),function(h,m){const b=m.nodeBefore,v=m.nodeAfter;b.name!=v.name&&h.rename(b,v.name),h.clearAttributes(b),h.setAttributes(Object.fromEntries(v.getAttributes()),b),h.merge(m)}(a,e),Jc(a.model.schema,t,e)&&ep(a,t,e,n)}}function Jc(a,t,e){const n=t.parent,o=e.parent;return n!=o&&!a.isLimit(n)&&!a.isLimit(o)&&function(c,h,m){const b=new q(c,h);for(const v of b.getWalker())if(m.isLimit(v.item))return!1;return!0}(t,e,a)}function np(a,t,e){const n=a.createElement("paragraph");a.insert(n,t),ip(a,e,a.createPositionAt(n,0))}function ip(a,t,e){t instanceof li?a.setSelection(e):t.setTo(e)}const op=' ,.?!:;"-()';function C1(a,t){const{isForward:e,walker:n,unit:o,schema:c,treatEmojiAsSingleUnit:h}=a,{type:m,item:b,nextPosition:v}=t;if(m=="text")return a.unit==="word"?function(A,y){let S=A.position.textNode;if(S){let M=A.position.offset-S.startOffset;for(;!A1(S.data,M,y)&&!y1(S,M,y);){A.next();const O=y?A.position.nodeAfter:A.position.nodeBefore;if(O&&O.is("$text")){const N=O.data.charAt(y?0:O.data.length-1);op.includes(N)||(A.next(),S=A.position.textNode)}M=A.position.offset-S.startOffset}}return A.position}(n,e):function(A,y,S){const M=A.position.textNode;if(M){const O=M.data;let N=A.position.offset-M.startOffset;for(;Qf(O,N)||y=="character"&&Zf(O,N)||S&&m1(O,N);)A.next(),N=A.position.offset-M.startOffset}return A.position}(n,o,h);if(m==(e?"elementStart":"elementEnd")){if(c.isSelectable(b))return at._createAt(b,e?"after":"before");if(c.checkChild(v,"$text"))return v}else{if(c.isLimit(b))return void n.skip(()=>!0);if(c.checkChild(v,"$text"))return v}}function _1(a,t){const e=a.root,n=at._createAt(e,t?"end":0);return t?new q(a,n):new q(n,a)}function A1(a,t,e){const n=t+(e?0:-1);return op.includes(a.charAt(n))}function y1(a,t,e){return t===(e?a.endOffset:0)}function rp(a,t){const e=[];Array.from(a.getItems({direction:"backward"})).map(n=>t.createRangeOn(n)).filter(n=>(n.start.isAfter(a.start)||n.start.isEqual(a.start))&&(n.end.isBefore(a.end)||n.end.isEqual(a.end))).forEach(n=>{e.push(n.start.parent),t.remove(n)}),e.forEach(n=>{let o=n;for(;o.parent&&o.isEmpty;){const c=t.createRangeOn(o);o=o.parent,t.remove(c)}})}function x1(a){a.document.registerPostFixer(t=>function(e,n){const o=n.document.selection,c=n.schema,h=[];let m=!1;for(const b of o.getRanges()){const v=E1(b,c);v&&!v.isEqual(b)?(h.push(v),m=!0):h.push(b)}m&&e.setSelection(function(b){const v=[...b],A=new Set;let y=1;for(;y<v.length;){const S=v[y],M=v.slice(0,y);for(const[O,N]of M.entries())if(!A.has(O)){if(S.isEqual(N))A.add(O);else if(S.isIntersecting(N)){A.add(O),A.add(y);const L=S.getJoined(N);v.push(L)}}y++}return v.filter((S,M)=>!A.has(M))}(h),{backward:o.isBackward})}(t,a))}function E1(a,t){return a.isCollapsed?function(e,n){const o=e.start,c=n.getNearestSelectionRange(o);if(!c){const m=o.getAncestors().reverse().find(b=>n.isObject(b));return m?q._createOn(m):null}if(!c.isCollapsed)return c;const h=c.start;return o.isEqual(h)?null:new q(h)}(a,t):function(e,n){const{start:o,end:c}=e,h=n.checkChild(o,"$text"),m=n.checkChild(c,"$text"),b=n.getLimitElement(o),v=n.getLimitElement(c);if(b===v){if(h&&m)return null;if(function(S,M,O){const N=S.nodeAfter&&!O.isLimit(S.nodeAfter)||O.checkChild(S,"$text"),L=M.nodeBefore&&!O.isLimit(M.nodeBefore)||O.checkChild(M,"$text");return N||L}(o,c,n)){const S=o.nodeAfter&&n.isSelectable(o.nodeAfter)?null:n.getNearestSelectionRange(o,"forward"),M=c.nodeBefore&&n.isSelectable(c.nodeBefore)?null:n.getNearestSelectionRange(c,"backward"),O=S?S.start:o,N=M?M.end:c;return new q(O,N)}}const A=b&&!b.is("rootElement"),y=v&&!v.is("rootElement");if(A||y){const S=o.nodeAfter&&c.nodeBefore&&o.nodeAfter.parent===c.nodeBefore.parent,M=A&&(!S||!ap(o.nodeAfter,n)),O=y&&(!S||!ap(c.nodeBefore,n));let N=o,L=c;return M&&(N=at._createBefore(sp(b,n))),O&&(L=at._createAfter(sp(v,n))),new q(N,L)}return null}(a,t)}function sp(a,t){let e=a,n=e;for(;t.isLimit(n)&&n.parent;)e=n,n=n.parent;return e}function ap(a,t){return a&&t.isSelectable(a)}class lp{constructor(){this.markers=new Jf,this.document=new qf(this),this.schema=new Lf,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if(e.name==="$marker")return!0}),x1(this),this.document.registerPostFixer(Df)}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new lr,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(e){w.rethrowUnexpectedError(e,this)}}enqueueChange(t,e){try{t?typeof t=="function"?(e=t,t=new lr):t instanceof lr||(t=new lr(t)):t=new lr,this._pendingChanges.push({batch:t,callback:e}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){w.rethrowUnexpectedError(n,this)}}applyOperation(t){t._execute()}insertContent(t,e,n){return function(o,c,h,m){return o.change(b=>{let v;v=h?h instanceof zi||h instanceof li?h:b.createSelection(h,m):o.document.selection,v.isCollapsed||o.deleteContent(v,{doNotAutoparagraph:!0});const A=new w1(o,b,v.anchor);let y;y=c.is("documentFragment")?c.getChildren():[c],A.handleNodes(y);const S=A.getSelectionRange();S&&(v instanceof li?b.setSelection(S):v.setTo(S));const M=A.getAffectedRange()||o.createRange(v.anchor);return A.destroy(),M})}(this,t,e,n)}deleteContent(t,e){v1(this,t,e)}modifySelection(t,e){(function(n,o,c={}){const h=n.schema,m=c.direction!="backward",b=c.unit?c.unit:"character",v=!!c.treatEmojiAsSingleUnit,A=o.focus,y=new Li({boundaries:_1(A,m),singleCharacters:!0,direction:m?"forward":"backward"}),S={walker:y,schema:h,isForward:m,unit:b,treatEmojiAsSingleUnit:v};let M;for(;M=y.next();){if(M.done)return;const O=C1(S,M.value);if(O)return void(o instanceof li?n.change(N=>{N.setSelectionFocus(O)}):o.setFocus(O))}})(this,t,e)}getSelectedContent(t){return function(e,n){return e.change(o=>{const c=o.createDocumentFragment(),h=n.getFirstRange();if(!h||h.isCollapsed)return c;const m=h.start.root,b=h.start.getCommonPath(h.end),v=m.getNodeByPath(b);let A;A=h.start.parent==h.end.parent?h:o.createRange(o.createPositionAt(v,h.start.path[b.length]),o.createPositionAt(v,h.end.path[b.length]+1));const y=A.end.offset-A.start.offset;for(const S of A.getItems({shallow:!0}))S.is("$textProxy")?o.appendText(S.data,S.getAttributes(),c):o.append(o.cloneElement(S,!0),c);if(A!=h){const S=h._getTransformedByMove(A.start,o.createPositionAt(c,0),y)[0],M=o.createRange(o.createPositionAt(c,0),S.start);rp(o.createRange(S.end,o.createPositionAt(c,"end")),o),rp(M,o)}return c})}(this,t)}hasContent(t,e={}){const n=t instanceof te?q._createIn(t):t;if(n.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:c=!1}=e;if(!c){for(const h of this.markers.getMarkersIntersectingRange(n))if(h.affectsData)return!0}for(const h of n.getItems())if(this.schema.isContent(h)&&(!h.is("$textProxy")||!o||h.data.search(/\S/)!==-1))return!0;return!1}createPositionFromPath(t,e,n){return new at(t,e,n)}createPositionAt(t,e){return at._createAt(t,e)}createPositionAfter(t){return at._createAfter(t)}createPositionBefore(t){return at._createBefore(t)}createRange(t,e){return new q(t,e)}createRangeIn(t){return q._createIn(t)}createRangeOn(t){return q._createOn(t)}createSelection(t,e,n){return new zi(t,e,n)}createBatch(t){return new lr(t)}createOperationFromJSON(t){return class{static fromJSON(e,n){return di[e.__className].fromJSON(e,n)}}.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new c1(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}Ct(lp,me);class S1 extends Bi{constructor(t){super(),this.editor=t}set(t,e,n={}){if(typeof e=="string"){const o=e;e=(c,h)=>{this.editor.execute(o),h()}}super.set(t,e,n)}}class cp{constructor(t={}){const e=t.language||this.constructor.defaultConfig&&this.constructor.defaultConfig.language;this._context=t.context||new hA({language:e}),this._context._addEditor(this,!t.context);const n=Array.from(this.constructor.builtinPlugins||[]);this.config=new og(t,this.constructor.defaultConfig),this.config.define("plugins",n),this.config.define(this._context._getEditorConfig()),this.plugins=new mc(this,n,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Gy,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new lp;const o=new BA;this.data=new jf(this.model,o),this.editing=new Bf(this.model,o),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new a1([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new S1(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],o=t.get("extraPlugins")||[],c=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(o),n,c)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(e=>this.once("ready",e))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...t){try{return this.commands.execute(...t)}catch(e){w.rethrowUnexpectedError(e,this)}}focus(){this.editing.view.focus()}}Ct(cp,me);class D1{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(td(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new w("componentfactory-item-missing",this,{name:t});return this._components.get(td(t)).callback(this.editor.locale)}has(t){return this._components.has(td(t))}}function td(a){return String(a).toLowerCase()}class dp{constructor(t){this.editor=t,this.componentFactory=new D1(t),this.focusTracker=new Qn,this.set("viewportOffset",this._readViewportOffsetFromConfig()),this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}}Ct(dp,me);const M1={setData(a){this.data.set(a)},getData(a){return this.data.get(a)}},I1=M1,T1={updateSourceElement(){if(!this.sourceElement)throw new w("editor-missing-sourceelement",this);var a,t;a=this.sourceElement,t=this.data.get(),a instanceof HTMLTextAreaElement&&(a.value=t),a.innerHTML=t}};class up extends Qr{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Yn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new w("pendingactions-add-invalid-message",this);const e=Object.create(me);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const hp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',qn={cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:hp};function ed({emitter:a,activator:t,callback:e,contextElements:n}){a.listenTo(document,"mousedown",(o,c)=>{if(!t())return;const h=typeof c.composedPath=="function"?c.composedPath():[];for(const m of n)if(m.contains(c.target)||h.includes(m))return;e()})}function nd(a){a.set("_isCssTransitionsDisabled",!1),a.disableCssTransitions=()=>{a._isCssTransitionsDisabled=!0},a.enableCssTransitions=()=>{a._isCssTransitionsDisabled=!1},a.extendTemplate({attributes:{class:[a.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function id({view:a}){a.listenTo(a.element,"submit",(t,e)=>{e.preventDefault(),a.fire("submit")},{useCapture:!0})}class Eo extends Yn{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(e,n,o)=>{this._renderViewIntoCollectionParent(n,o)}),this.on("remove",(e,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!t.every(e=>typeof e=="string"))throw new w("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const o of t)n.delegate(o).to(e);this.on("add",(n,o)=>{for(const c of t)o.delegate(c).to(e)}),this.on("remove",(n,o)=>{for(const c of t)o.stopDelegating(c,e)})}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}var gp=u(4793),P1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(gp.Z,P1),gp.Z.locals;class Ot{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Yn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=jn.bind(this,this)}createCollection(t){const e=new Eo(t);return this._viewCollections.add(e),e}registerChild(t){Gn(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){Gn(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new jn(t)}extendTemplate(t){jn.extend(this.template,t)}render(){if(this.isRendered)throw new w("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Ct(Ot,sr),Ct(Ot,me);class jn{constructor(t){Object.assign(this,bp(mp(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new w("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)Sa(n)?yield n:od(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,o)=>new O1({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:o}),if:(n,o,c)=>new fp({observable:t,emitter:e,attribute:n,valueIfTrue:o,callback:c})}}static extend(t,e){if(t._isRendered)throw new w("template-extend-render",[this,t]);Cp(t,bp(mp(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new w("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Ea(this.text)?this._bindToObservable({schema:this.text,updater:N1(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,o,c;if(!this.attributes)return;const h=t.node,m=t.revertData;for(e in this.attributes)if(o=h.getAttribute(e),n=this.attributes[e],m&&(m.attributes[e]=o),c=J(n[0])&&n[0].ns?n[0].ns:null,Ea(n)){const b=c?n[0].value:n;m&&_p(e)&&b.unshift(o),this._bindToObservable({schema:b,updater:B1(h,e,c),data:t})}else e=="style"&&typeof n[0]!="string"?this._renderStyleAttribute(n[0],t):(m&&o&&_p(e)&&n.unshift(o),n=n.map(b=>b&&b.value||b).reduce((b,v)=>b.concat(v),[]).reduce(wp,""),dr(n)||h.setAttributeNS(c,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const o in t){const c=t[o];Ea(c)?this._bindToObservable({schema:[c],updater:L1(n,o),data:e}):n.style[o]=c}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,o=t.isApplying;let c=0;for(const h of this.children)if(rd(h)){if(!o){h.setParent(e);for(const m of h)n.appendChild(m.element)}}else if(Sa(h))o||(h.isRendered||h.render(),n.appendChild(h.element));else if(rr(h))n.appendChild(h);else if(o){const m={children:[],bindings:[],attributes:{}};t.revertData.children.push(m),h._renderNode({node:n.childNodes[c++],isApplying:!0,revertData:m})}else n.appendChild(h.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(o=>{const[c,h]=e.split("@");return o.activateDomEventListener(c,h,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const o=n.revertData;pp(t,e,n);const c=t.filter(h=>!dr(h)).filter(h=>h.observable).map(h=>h.activateAttributeListener(t,e,n));o&&o.bindings.push(c)}_revertTemplateFromNode(t,e){for(const n of e.bindings)for(const o of n)o();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const o=e.attributes[n];o===null?t.removeAttribute(n):t.setAttribute(n,o)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}Ct(jn,R);class as{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const o=()=>pp(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,o)}}}class O1 extends as{activateDomEventListener(t,e,n){const o=(c,h)=>{e&&!h.target.matches(e)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(h):this.observable.fire(this.eventNameOrFunction,h))};return this.emitter.listenTo(n.node,t,o),()=>{this.emitter.stopListening(n.node,t,o)}}}class fp extends as{getValue(t){return!dr(super.getValue(t))&&(this.valueIfTrue||!0)}}function Ea(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Ea):a instanceof as)}function pp(a,t,{node:e}){let n=function(o,c){return o.map(h=>h instanceof as?h.getValue(c):h)}(a,e);n=a.length==1&&a[0]instanceof fp?n[0]:n.reduce(wp,""),dr(n)?t.remove():t.set(n)}function N1(a){return{set(t){a.textContent=t},remove(){a.textContent=""}}}function B1(a,t,e){return{set(n){a.setAttributeNS(e,t,n)},remove(){a.removeAttributeNS(e,t)}}}function L1(a,t){return{set(e){a.style[t]=e},remove(){a.style[t]=null}}}function mp(a){return ig(a,t=>{if(t&&(t instanceof as||od(t)||Sa(t)||rd(t)))return t})}function bp(a){if(typeof a=="string"?a=function(t){return{text:[t]}}(a):a.text&&function(t){t.text=tn(t.text)}(a),a.on&&(a.eventListeners=function(t){for(const e in t)kp(t,e);return t}(a.on),delete a.on),!a.text){a.attributes&&function(e){for(const n in e)e[n].value&&(e[n].value=tn(e[n].value)),kp(e,n)}(a.attributes);const t=[];if(a.children)if(rd(a.children))t.push(a.children);else for(const e of a.children)od(e)||Sa(e)||rr(e)?t.push(e):t.push(new jn(e));a.children=t}return a}function kp(a,t){a[t]=tn(a[t])}function wp(a,t){return dr(t)?a:dr(a)?t:`${a} ${t}`}function vp(a,t){for(const e in t)a[e]?a[e].push(...t[e]):a[e]=t[e]}function Cp(a,t){if(t.attributes&&(a.attributes||(a.attributes={}),vp(a.attributes,t.attributes)),t.eventListeners&&(a.eventListeners||(a.eventListeners={}),vp(a.eventListeners,t.eventListeners)),t.text&&a.text.push(...t.text),t.children&&t.children.length){if(a.children.length!=t.children.length)throw new w("ui-template-extend-children-mismatch",a);let e=0;for(const n of t.children)Cp(a.children[e++],n)}}function dr(a){return!a&&a!==0}function Sa(a){return a instanceof Ot}function od(a){return a instanceof jn}function rd(a){return a instanceof Eo}function _p(a){return a=="class"||a=="style"}const Ap=function(a){return typeof a=="string"||!yn(a)&&fn(a)&&it(a)=="[object String]"};class z1 extends Eo{constructor(t,e=[]){super(e),this.locale=t}attachToDom(){this._bodyCollectionContainer=new jn({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=function(e,n,o={},c=[]){const h=o&&o.xmlns,m=h?e.createElementNS(h,n):e.createElement(n);for(const b in o)m.setAttribute(b,o[b]);!Ap(c)&&Gn(c)||(c=[c]);for(let b of c)Ap(b)&&(b=e.createTextNode(b)),m.appendChild(b);return m}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}var yp=u(6574),R1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(yp.Z,R1),yp.Z.locals;class Da extends Ot{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}var xp=u(3332),j1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(xp.Z,j1),xp.Z.locals;class Ep extends Ot{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",n=>"ck-tooltip_"+n),e.if("text","ck-hidden",n=>!n.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}var Sp=u(4906),F1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Sp.Z,F1),Sp.Z.locals;class Ie extends Ot{constructor(t){super(t);const e=this.bindTemplate,n=k();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new Da,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",o=>!o),e.if("isVisible","ck-hidden",o=>!o),e.to("isOn",o=>o?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",o=>o||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,o=>!o),"aria-pressed":e.to("isOn",o=>!!this.isToggleable&&String(o))},children:this.children,on:{mousedown:e.to(o=>{o.preventDefault()}),click:e.to(o=>{this.isEnabled?this.fire("execute"):o.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const t=new Ep;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new Ot,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new Ot;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>vg(e))}]}),t}_getTooltipString(t,e,n){return t?typeof t=="string"?t:(n&&(n=vg(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var Dp=u(5332),V1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Dp.Z,V1),Dp.Z.locals;class sd extends Ie{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Ot;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var Mp=u(6781),U1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Mp.Z,U1),Mp.Z.locals;const Ip='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Tp extends Ie{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Da;return t.content=Ip,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}var Pp=u(7686),H1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Pp.Z,H1),Pp.Z.locals;class Op extends Ot{constructor(t){super(t);const e=this.bindTemplate;this.set("class"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Bi,this.focusTracker=new Qn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new Ie;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new Ie,e=t.bindTemplate;return t.icon=Ip,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":e.to("isOn",n=>String(n))}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}class $1 extends Ot{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",n=>`ck-dropdown__panel_${n}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(n=>n.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}var Np=u(5485),W1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Np.Z,W1),Np.Z.locals;function Bp({element:a,target:t,positions:e,limiter:n,fitInViewport:o,viewportOffsetConfig:c}){pt(t)&&(t=t()),pt(n)&&(n=n());const h=function(A){return A&&A.parentNode?A.offsetParent===Be.document.body?null:A.offsetParent:null}(a),m=new Jt(a);let b;const v={targetRect:new Jt(t),elementRect:m,positionedElementAncestor:h};if(n||o){const A=n&&new Jt(n).getVisible(),y=o&&function(S){S=Object.assign({top:0,bottom:0,left:0,right:0},S);const M=new Jt(Be.window);return M.top+=S.top,M.height-=S.top,M.bottom-=S.bottom,M.height-=S.bottom,M}(c);Object.assign(v,{limiterRect:A,viewportRect:y}),b=function(S,M){const{elementRect:O}=M,N=O.getArea(),L=S.map(tt=>new ad(tt,M)).filter(tt=>!!tt.name);let j=0,W=null;for(const tt of L){const{_limiterIntersectionArea:ft,_viewportIntersectionArea:At}=tt;if(ft===N)return tt;const ae=At**2+ft**2;ae>j&&(j=ae,W=tt)}return W}(e,v)||new ad(e[0],v)}else b=new ad(e[0],v);return b}function Lp(a){const{scrollX:t,scrollY:e}=Be.window;return a.clone().moveBy(t,e)}class ad{constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect);if(!n)return;const{left:o,top:c,name:h,config:m}=n;Object.assign(this,{name:h,config:m}),this._positioningFunctionCorrdinates={left:o,top:c},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get _limiterIntersectionArea(){const t=this._options.limiterRect;if(t){const e=this._options.viewportRect;if(!e)return t.getIntersectionArea(this._rect);{const n=t.getIntersection(e);if(n)return n.getIntersectionArea(this._rect)}}return 0}get _viewportIntersectionArea(){const t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Lp(this._rect),this._options.positionedElementAncestor&&function(t,e){const n=Lp(new Jt(e)),o=tf(e);let c=0,h=0;c-=n.left,h-=n.top,c+=e.scrollLeft,h+=e.scrollTop,c-=o.left,h-=o.top,t.moveBy(c,h)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}class ur extends Ot{constructor(t,e,n){super(t);const o=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new Bi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",c=>!c)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelPosition==="auto"?this.panelView.position=ur._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const t=(e,n)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(e,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(e,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:o,northEast:c,northWest:h,southMiddleEast:m,southMiddleWest:b,northMiddleEast:v,northMiddleWest:A}=ur.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,o,m,b,t,c,h,v,A,e]:[o,n,b,m,t,h,c,A,v,e]}}function zp(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}ur.defaultPanelPositions={south:(a,t)=>({top:a.bottom,left:a.left-(t.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,t)=>({top:a.bottom,left:a.left-t.width+a.width,name:"sw"}),southMiddleEast:(a,t)=>({top:a.bottom,left:a.left-(t.width-a.width)/4,name:"sme"}),southMiddleWest:(a,t)=>({top:a.bottom,left:a.left-3*(t.width-a.width)/4,name:"smw"}),north:(a,t)=>({top:a.top-t.height,left:a.left-(t.width-a.width)/2,name:"n"}),northEast:(a,t)=>({top:a.top-t.height,left:a.left,name:"ne"}),northWest:(a,t)=>({top:a.top-t.height,left:a.left-t.width+a.width,name:"nw"}),northMiddleEast:(a,t)=>({top:a.top-t.height,left:a.left-(t.width-a.width)/4,name:"nme"}),northMiddleWest:(a,t)=>({top:a.top-t.height,left:a.left-3*(t.width-a.width)/4,name:"nmw"})},ur._getOptimalPosition=Bp;class hr{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];typeof n=="string"&&(n=[n]);for(const o of n)t.keystrokeHandler.set(o,(c,h)=>{this[e](),h()})}}get first(){return this.focusables.find(ld)||null}get last(){return this.focusables.filter(ld).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((e,n)=>{const o=e.element===this.focusTracker.focusedElement;return o&&(t=n),o}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(e===null)return this[t===1?"first":"last"];let o=(e+n+t)%n;do{const c=this.focusables.get(o);if(ld(c))return c;o=(o+n+t)%n}while(o!==e);return null}}function ld(a){return!(!a.focus||!zp(a.element))}class Rp extends Ot{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class G1 extends Ot{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function jp(a){return Array.isArray(a)?{items:a,removeItems:[]}:a?Object.assign({items:[],removeItems:[]},a):{items:[],removeItems:[]}}var Fp=u(5542),Y1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Fp.Z,Y1),Fp.Z.locals;class cd extends Ot{constructor(t,e){super(t);const n=this.bindTemplate,o=this.t;this.options=e||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Qn,this.keystrokes=new Bi,this.set("class"),this.set("isCompact",!1),this.itemsView=new K1(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const c=t.uiLanguageDirection==="rtl";this._focusCycler=new hr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});const h=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var m;this.options.shouldGroupWhenFull&&this.options.isFloating&&h.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:h,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(m=this,m.bindTemplate.to(b=>{b.target===m.element&&b.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Z1(this):new Q1(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){const n=jp(t),o=n.items.filter((h,m,b)=>h==="|"||n.removeItems.indexOf(h)===-1&&(h==="-"?!this.options.shouldGroupWhenFull||(x("toolbarview-line-break-ignored-when-grouping-items",b),!1):!!e.has(h)||(x("toolbarview-item-unavailable",{name:h}),!1))),c=this._cleanSeparators(o).map(h=>h==="|"?new Rp:h==="-"?new G1:e.create(h));this.items.addMany(c)}_cleanSeparators(t){const e=h=>h!=="-"&&h!=="|",n=t.length,o=t.findIndex(e),c=n-t.slice().reverse().findIndex(e);return t.slice(o,c).filter((h,m,b)=>e(h)?!0:!(m>0&&b[m-1]===h))}}class K1 extends Ot{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Q1{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(n=>n),t.focusables.bindTo(t.items).using(n=>n),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Z1{constructor(t){this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(e,n)=>{const o=n.index;for(const c of n.removed)o>=this.ungroupedItems.length?this.groupedItems.remove(c):this.ungroupedItems.remove(c);for(let c=o;c<o+n.added.length;c++){const h=n.added[c-o];c>this.ungroupedItems.length?this.groupedItems.add(h,c-this.ungroupedItems.length):this.ungroupedItems.add(h,c)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!zp(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new Jt(t.lastChild),o=new Jt(t);if(!this.cachedPadding){const c=Be.window.getComputedStyle(t),h=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(c[h])}return e==="ltr"?n.right>o.right-this.cachedPadding:n.left<o.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Me(this.viewElement,e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Rp),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=So(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",$p(n,[]),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:hp}),n.toolbarView.items.bindTo(this.groupedItems).using(o=>o),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Vp=u(1046),q1={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Vp.Z,q1),Vp.Z.locals;class X1 extends Ot{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Qn,this.keystrokes=new Bi,this._focusCycler=new hr({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class J1 extends Ot{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class tx extends Ot{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Up=u(7339),ex={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Up.Z,ex),Up.Z.locals;var Hp=u(3949),nx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Hp.Z,nx),Hp.Z.locals;function So(a,t=Tp){const e=new t(a),n=new $1(a),o=new ur(a,e,n);return e.bind("isEnabled").to(o),e instanceof Tp?e.bind("isOn").to(o,"isOpen"):e.arrowView.bind("isOn").to(o,"isOpen"),function(c){(function(h){h.on("render",()=>{ed({emitter:h,activator:()=>h.isOpen,callback:()=>{h.isOpen=!1},contextElements:[h.element]})})})(c),function(h){h.on("execute",m=>{m.source instanceof sd||(h.isOpen=!1)})}(c),function(h){h.keystrokes.set("arrowdown",(m,b)=>{h.isOpen&&(h.panelView.focus(),b())}),h.keystrokes.set("arrowup",(m,b)=>{h.isOpen&&(h.panelView.focusLast(),b())})}(c)}(o),o}function $p(a,t){const e=a.locale,n=e.t,o=a.toolbarView=new cd(e);o.set("ariaLabel",n("Dropdown toolbar")),a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.map(c=>o.items.add(c)),a.panelView.children.add(o),o.items.delegate("execute").to(a)}function Wp(a,t){const e=a.locale,n=a.listView=new X1(e);n.items.bindTo(t).using(({type:o,model:c})=>{if(o==="separator")return new tx(e);if(o==="button"||o==="switchbutton"){const h=new J1(e);let m;return m=o==="button"?new Ie(e):new sd(e),m.bind(...Object.keys(c)).to(c),m.delegate("execute").to(h),h.children.add(m),h}}),a.panelView.children.add(n),n.items.delegate("execute").to(a)}var Gp=u(9688),ix={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Gp.Z,ix),Gp.Z.locals;class ox extends Ot{constructor(t){super(t),this.body=new z1(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var Yp=u(3662),rx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Yp.Z,rx),Yp.Z.locals;class Kp extends Ot{constructor(t){super(t),this.set("text"),this.set("for"),this.id=`ck-editor__label_${k()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class sx extends ox{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new Kp;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class ax extends Ot{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(n){t.change(o=>{const c=t.document.getRoot(n.name);o.addClass(n.isFocused?"ck-focused":"ck-blurred",c),o.removeClass(n.isFocused?"ck-blurred":"ck-focused",c)})}t.isRenderingInProgress?function n(o){t.once("change:isRenderingInProgress",(c,h,m)=>{m?n(o):e(o)})}(this):e(this)}}class lx extends ax{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change(n=>{const o=t.document.getRoot(this.name);n.setAttribute("aria-label",e("Rich Text Editor, %0",this.name),o)})}}var Qp=u(8847),cx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Qp.Z,cx),Qp.Z.locals;var Zp=u(4879),dx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Zp.Z,dx),Zp.Z.locals;class ux extends Ot{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new Qn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),inputmode:e.to("inputMode"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}class hx extends ux{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var qp=u(2577),gx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(qp.Z,gx),qp.Z.locals;class dd extends Ot{constructor(t,e){super(t);const n=`ck-labeled-field-view-${k()}`,o=`ck-labeled-field-view-status-${k()}`;this.fieldView=e(this,n,o),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(o),this.bind("_statusText").to(this,"errorText",this,"infoText",(h,m)=>h||m);const c=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",h=>!h),c.if("isEmpty","ck-labeled-field-view_empty"),c.if("isFocused","ck-labeled-field-view_focused"),c.if("placeholder","ck-labeled-field-view_placeholder"),c.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(t){const e=new Kp(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new Ot(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",o=>!o)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(){this.fieldView.focus()}}function ud(a,t,e){const n=new hx(a.locale);return n.set({id:t,ariaDescribedById:e}),n.bind("isReadOnly").to(a,"isEnabled",o=>!o),n.bind("hasError").to(a,"errorText",o=>!!o),n.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(n),n}class hd extends Qr{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class gd{constructor(t,e){e&&$r(this,e),t&&this.set(t)}}function fd(a){return t=>t+a}Ct(gd,me);var Xp=u(8793),fx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Xp.Z,fx),Xp.Z.locals;const Jp=fd("px"),tm=Be.document.body;class Mn extends Ot{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",n=>`ck-balloon-panel_${n}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Jp),left:e.to("left",Jp)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Mn.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:tm,fitInViewport:!0},t),o=Mn._getOptimalPosition(n),c=parseInt(o.left),h=parseInt(o.top),{name:m,config:b={}}=o,{withArrow:v=!0}=b;Object.assign(this,{top:h,left:c,position:m,withArrow:v})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=pd(t.target),n=t.limiter?pd(t.limiter):tm;this.listenTo(Be.document,"scroll",(o,c)=>{const h=c.target,m=e&&h.contains(e),b=n&&h.contains(n);!m&&!b&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(Be.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Be.document,"scroll"),this.stopListening(Be.window,"resize")}}function pd(a){return qi(a)?a:_a(a)?a.commonAncestorContainer:typeof a=="function"?pd(a()):null}Mn.arrowHorizontalOffset=25,Mn.arrowVerticalOffset=10,Mn.stickyVerticalOffset=20,Mn._getOptimalPosition=Bp,Mn.defaultPositions=function({horizontalOffset:a=Mn.arrowHorizontalOffset,verticalOffset:t=Mn.arrowVerticalOffset,stickyVerticalOffset:e=Mn.stickyVerticalOffset,config:n}={}){return{northWestArrowSouthWest:(h,m)=>({top:o(h,m),left:h.left-a,name:"arrow_sw",...n&&{config:n}}),northWestArrowSouthMiddleWest:(h,m)=>({top:o(h,m),left:h.left-.25*m.width-a,name:"arrow_smw",...n&&{config:n}}),northWestArrowSouth:(h,m)=>({top:o(h,m),left:h.left-m.width/2,name:"arrow_s",...n&&{config:n}}),northWestArrowSouthMiddleEast:(h,m)=>({top:o(h,m),left:h.left-.75*m.width+a,name:"arrow_sme",...n&&{config:n}}),northWestArrowSouthEast:(h,m)=>({top:o(h,m),left:h.left-m.width+a,name:"arrow_se",...n&&{config:n}}),northArrowSouthWest:(h,m)=>({top:o(h,m),left:h.left+h.width/2-a,name:"arrow_sw",...n&&{config:n}}),northArrowSouthMiddleWest:(h,m)=>({top:o(h,m),left:h.left+h.width/2-.25*m.width-a,name:"arrow_smw",...n&&{config:n}}),northArrowSouth:(h,m)=>({top:o(h,m),left:h.left+h.width/2-m.width/2,name:"arrow_s",...n&&{config:n}}),northArrowSouthMiddleEast:(h,m)=>({top:o(h,m),left:h.left+h.width/2-.75*m.width+a,name:"arrow_sme",...n&&{config:n}}),northArrowSouthEast:(h,m)=>({top:o(h,m),left:h.left+h.width/2-m.width+a,name:"arrow_se",...n&&{config:n}}),northEastArrowSouthWest:(h,m)=>({top:o(h,m),left:h.right-a,name:"arrow_sw",...n&&{config:n}}),northEastArrowSouthMiddleWest:(h,m)=>({top:o(h,m),left:h.right-.25*m.width-a,name:"arrow_smw",...n&&{config:n}}),northEastArrowSouth:(h,m)=>({top:o(h,m),left:h.right-m.width/2,name:"arrow_s",...n&&{config:n}}),northEastArrowSouthMiddleEast:(h,m)=>({top:o(h,m),left:h.right-.75*m.width+a,name:"arrow_sme",...n&&{config:n}}),northEastArrowSouthEast:(h,m)=>({top:o(h,m),left:h.right-m.width+a,name:"arrow_se",...n&&{config:n}}),southWestArrowNorthWest:(h,m)=>({top:c(h),left:h.left-a,name:"arrow_nw",...n&&{config:n}}),southWestArrowNorthMiddleWest:(h,m)=>({top:c(h),left:h.left-.25*m.width-a,name:"arrow_nmw",...n&&{config:n}}),southWestArrowNorth:(h,m)=>({top:c(h),left:h.left-m.width/2,name:"arrow_n",...n&&{config:n}}),southWestArrowNorthMiddleEast:(h,m)=>({top:c(h),left:h.left-.75*m.width+a,name:"arrow_nme",...n&&{config:n}}),southWestArrowNorthEast:(h,m)=>({top:c(h),left:h.left-m.width+a,name:"arrow_ne",...n&&{config:n}}),southArrowNorthWest:(h,m)=>({top:c(h),left:h.left+h.width/2-a,name:"arrow_nw",...n&&{config:n}}),southArrowNorthMiddleWest:(h,m)=>({top:c(h),left:h.left+h.width/2-.25*m.width-a,name:"arrow_nmw",...n&&{config:n}}),southArrowNorth:(h,m)=>({top:c(h),left:h.left+h.width/2-m.width/2,name:"arrow_n",...n&&{config:n}}),southArrowNorthMiddleEast:(h,m)=>({top:c(h),left:h.left+h.width/2-.75*m.width+a,name:"arrow_nme",...n&&{config:n}}),southArrowNorthEast:(h,m)=>({top:c(h),left:h.left+h.width/2-m.width+a,name:"arrow_ne",...n&&{config:n}}),southEastArrowNorthWest:(h,m)=>({top:c(h),left:h.right-a,name:"arrow_nw",...n&&{config:n}}),southEastArrowNorthMiddleWest:(h,m)=>({top:c(h),left:h.right-.25*m.width-a,name:"arrow_nmw",...n&&{config:n}}),southEastArrowNorth:(h,m)=>({top:c(h),left:h.right-m.width/2,name:"arrow_n",...n&&{config:n}}),southEastArrowNorthMiddleEast:(h,m)=>({top:c(h),left:h.right-.75*m.width+a,name:"arrow_nme",...n&&{config:n}}),southEastArrowNorthEast:(h,m)=>({top:c(h),left:h.right-m.width+a,name:"arrow_ne",...n&&{config:n}}),viewportStickyNorth:(h,m,b)=>h.getIntersection(b)?{top:b.top+e,left:h.left+h.width/2-m.width/2,name:"arrowless",config:{withArrow:!1,...n}}:null};function o(h,m){return h.top-m.height-t}function c(h){return h.bottom+t}}();var em=u(4650),px={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(em.Z,px),em.Z.locals;var nm=u(7676),mx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(nm.Z,mx),nm.Z.locals;const Ma=fd("px");class Ia extends dt{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const e=this.editor.editing.view,n=e.document.selection.editableElement;return n?e.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.view=new Mn(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}destroy(){super.destroy(),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new w("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new w("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(e.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),e.size===1?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new w("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new bx(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,o)=>!o&&n>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,o)=>{if(o<2)return"";const c=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[c,o])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new kx(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,n)=>!n&&e>=2?Math.min(e-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:o=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class bx extends Ot{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Qn,this.buttonPrevView=this._createButtonView(e("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(e("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",o=>o?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new Ie(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class kx extends Ot{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",o=>o?"":"ck-hidden")],style:{top:n.to("top",Ma),left:n.to("left",Ma),width:n.to("width",Ma),height:n.to("height",Ma)}},children:this.content}),this.on("change:numberOfPanels",(o,c,h,m)=>{h>m?this._addPanels(h-m):this._removePanels(m-h),this.updatePosition()})}_addPanels(t){for(;t--;){const e=new Ot;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(t){for(;t--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:o}=new Jt(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:o})}}}var im=u(5868),wx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(im.Z,wx),im.Z.locals;const ls=fd("px");class vx extends Ot{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new jn({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",n=>n?"block":"none"),height:e.to("isSticky",n=>n?ls(this._panelRect.height):null)}}}).render(),this._contentPanel=new jn({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",n=>n?ls(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",n=>n?ls(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",n=>n?ls(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Be.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ls(-Be.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var om=u(9695),Cx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(om.Z,Cx),om.Z.locals;var rm=u(4717),_x={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(rm.Z,_x),rm.Z.locals;const Ta=new WeakMap;function sm(a){const{view:t,element:e,text:n,isDirectHost:o=!0,keepOnFocus:c=!1}=a,h=t.document;Ta.has(h)||(Ta.set(h,new Map),h.registerPostFixer(m=>am(h,m))),Ta.get(h).set(e,{text:n,isDirectHost:o,keepOnFocus:c,hostElement:o?e:null}),t.change(m=>am(h,m))}function Ax(a,t){return!!t.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",t),!0)}function am(a,t){const e=Ta.get(a),n=[];let o=!1;for(const[c,h]of e)h.isDirectHost&&(n.push(c),lm(t,c,h)&&(o=!0));for(const[c,h]of e){if(h.isDirectHost)continue;const m=yx(c);m&&(n.includes(m)||(h.hostElement=m,lm(t,c,h)&&(o=!0)))}return o}function lm(a,t,e){const{text:n,isDirectHost:o,hostElement:c}=e;let h=!1;return c.getAttribute("data-placeholder")!==n&&(a.setAttribute("data-placeholder",n,c),h=!0),(o||t.childCount==1)&&function(m,b){if(!m.isAttached()||Array.from(m.getChildren()).some(S=>!S.is("uiElement")))return!1;if(b)return!0;const A=m.document;if(!A.isFocused)return!0;const y=A.selection.anchor;return y&&y.parent!==m}(c,e.keepOnFocus)?function(m,b){return!b.hasClass("ck-placeholder")&&(m.addClass("ck-placeholder",b),!0)}(a,c)&&(h=!0):Ax(a,c)&&(h=!0),h}function yx(a){if(a.childCount){const t=a.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}const md=new Map;function $t(a,t,e){let n=md.get(a);n||(n=new Map,md.set(a,n)),n.set(t,e)}function xx(a){return[a]}function cm(a,t,e={}){const n=function(o,c){const h=md.get(o);return h&&h.has(c)?h.get(c):xx}(a.constructor,t.constructor);try{return n(a=a.clone(),t,e)}catch(o){throw o}}function Ex(a,t,e){a=a.slice(),t=t.slice();const n=new Sx(e.document,e.useRelations,e.forceWeakRemove);n.setOriginalOperations(a),n.setOriginalOperations(t);const o=n.originalOperations;if(a.length==0||t.length==0)return{operationsA:a,operationsB:t,originalOperations:o};const c=new WeakMap;for(const b of a)c.set(b,0);const h={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:t.length};let m=0;for(;m<a.length;){const b=a[m],v=c.get(b);if(v==t.length){m++;continue}const A=t[v],y=cm(b,A,n.getContext(b,A,!0)),S=cm(A,b,n.getContext(A,b,!1));n.updateRelation(b,A),n.setOriginalOperations(y,b),n.setOriginalOperations(S,A);for(const M of y)c.set(M,v+S.length);a.splice(m,1,...y),t.splice(v,1,...S)}if(e.padWithNoOps){const b=a.length-h.originalOperationsACount,v=t.length-h.originalOperationsBCount;um(a,v-b),um(t,b-v)}return dm(a,h.nextBaseVersionB),dm(t,h.nextBaseVersionA),{operationsA:a,operationsB:t,originalOperations:o}}class Sx{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const o of t)this.originalOperations.set(o,n||o)}updateRelation(t,e){switch(t.constructor){case ee:switch(e.constructor){case Ye:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case ee:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case ke:switch(e.constructor){case Ye:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case ee:if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=q._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const o=n.end.offset-t.splitPosition.offset,c=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:o,offset:c})}}}break;case Ye:switch(e.constructor){case Ye:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case ke:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case Sn:{const n=t.newRange;if(!n)return;switch(e.constructor){case ee:{const o=q._createFromPositionAndShift(e.sourcePosition,e.howMany),c=o.containsPosition(n.start)||o.start.isEqual(n.start),h=o.containsPosition(n.end)||o.end.isEqual(n.end);!c&&!h||o.containsRange(n)||this._setRelation(t,e,{side:c?"left":"right",path:c?n.start.path.slice():n.end.path.slice()});break}case Ye:{const o=n.start.isEqual(e.targetPosition),c=n.start.isEqual(e.deletionPosition),h=n.end.isEqual(e.deletionPosition),m=n.end.isEqual(e.sourcePosition);(o||c||h||m)&&this._setRelation(t,e,{wasInLeftElement:o,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:h,wasInRightElement:m});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),o=this._history.getUndoneOperation(n);if(!o)return null;const c=this.originalOperations.get(t),h=this._relations.get(c);return h&&h.get(o)||null}_setRelation(t,e,n){const o=this.originalOperations.get(t),c=this.originalOperations.get(e);let h=this._relations.get(o);h||(h=new Map,this._relations.set(o,h)),h.set(c,n)}}function dm(a,t){for(const e of a)e.baseVersion=t++}function um(a,t){for(let e=0;e<t;e++)a.push(new nn(0))}function hm(a,t,e){const n=a.nodes.getNode(0).getAttribute(t);if(n==e)return null;const o=new q(a.position,a.position.getShiftedBy(a.howMany));return new We(o,t,n,e,0)}function gm(a,t){return a.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function gr(a,t){const e=[];for(let n=0;n<a.length;n++){const o=a[n],c=new ee(o.start,o.end.offset-o.start.offset,t,0);e.push(c);for(let h=n+1;h<a.length;h++)a[h]=a[h]._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)[0];t=t._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)}return e}$t(We,We,(a,t,e)=>{if(a.key===t.key&&a.range.start.hasSameParentAs(t.range.start)){const n=a.range.getDifference(t.range).map(c=>new We(c,a.key,a.oldValue,a.newValue,0)),o=a.range.getIntersection(t.range);return o&&e.aIsStrong&&n.push(new We(o,t.key,t.newValue,a.newValue,0)),n.length==0?[new nn(0)]:n}return[a]}),$t(We,en,(a,t)=>{if(a.range.start.hasSameParentAs(t.position)&&a.range.containsPosition(t.position)){const e=a.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(n=>new We(n,a.key,a.oldValue,a.newValue,a.baseVersion));if(t.shouldReceiveAttributes){const n=hm(t,a.key,a.oldValue);n&&e.unshift(n)}return e}return a.range=a.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[a]}),$t(We,Ye,(a,t)=>{const e=[];a.range.start.hasSameParentAs(t.deletionPosition)&&(a.range.containsPosition(t.deletionPosition)||a.range.start.isEqual(t.deletionPosition))&&e.push(q._createFromPositionAndShift(t.graveyardPosition,1));const n=a.range._getTransformedByMergeOperation(t);return n.isCollapsed||e.push(n),e.map(o=>new We(o,a.key,a.oldValue,a.newValue,a.baseVersion))}),$t(We,ee,(a,t)=>function(n,o){const c=q._createFromPositionAndShift(o.sourcePosition,o.howMany);let h=null,m=[];c.containsRange(n,!0)?h=n:n.start.hasSameParentAs(c.start)?(m=n.getDifference(c),h=n.getIntersection(c)):m=[n];const b=[];for(let v of m){v=v._getTransformedByDeletion(o.sourcePosition,o.howMany);const A=o.getMovedRangeStart(),y=v.start.hasSameParentAs(A);v=v._getTransformedByInsertion(A,o.howMany,y),b.push(...v)}return h&&b.push(h._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany,!1)[0]),b}(a.range,t).map(n=>new We(n,a.key,a.oldValue,a.newValue,a.baseVersion))),$t(We,ke,(a,t)=>{if(a.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(t.splitPosition)&&a.range.containsPosition(t.splitPosition)){const e=a.clone();return e.range=new q(t.moveTargetPosition.clone(),a.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),a.range.end=t.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,e]}return a.range=a.range._getTransformedBySplitOperation(t),[a]}),$t(en,We,(a,t)=>{const e=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(a.position)){const n=hm(a,t.key,t.newValue);n&&e.push(n)}return e}),$t(en,en,(a,t,e)=>(a.position.isEqual(t.position)&&e.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(t)),[a])),$t(en,ee,(a,t)=>(a.position=a.position._getTransformedByMoveOperation(t),[a])),$t(en,ke,(a,t)=>(a.position=a.position._getTransformedBySplitOperation(t),[a])),$t(en,Ye,(a,t)=>(a.position=a.position._getTransformedByMergeOperation(t),[a])),$t(Sn,en,(a,t)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(t)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(t)[0]),[a])),$t(Sn,Sn,(a,t,e)=>{if(a.name==t.name){if(!e.aIsStrong)return[new nn(0)];a.oldRange=t.newRange?t.newRange.clone():null}return[a]}),$t(Sn,Ye,(a,t)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(t)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(t)),[a])),$t(Sn,ee,(a,t,e)=>{if(a.oldRange&&(a.oldRange=q._createFromRanges(a.oldRange._getTransformedByMoveOperation(t))),a.newRange){if(e.abRelation){const n=q._createFromRanges(a.newRange._getTransformedByMoveOperation(t));if(e.abRelation.side=="left"&&t.targetPosition.isEqual(a.newRange.start))return a.newRange.start.path=e.abRelation.path,a.newRange.end=n.end,[a];if(e.abRelation.side=="right"&&t.targetPosition.isEqual(a.newRange.end))return a.newRange.start=n.start,a.newRange.end.path=e.abRelation.path,[a]}a.newRange=q._createFromRanges(a.newRange._getTransformedByMoveOperation(t))}return[a]}),$t(Sn,ke,(a,t,e)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(t)),a.newRange){if(e.abRelation){const n=a.newRange._getTransformedBySplitOperation(t);return a.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?a.newRange.start=at._createAt(t.insertionPosition):a.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement&&(a.newRange.start=at._createAt(t.moveTargetPosition)),a.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?a.newRange.end=at._createAt(t.moveTargetPosition):a.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?a.newRange.end=at._createAt(t.insertionPosition):a.newRange.end=n.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(t)}return[a]}),$t(Ye,en,(a,t)=>(a.sourcePosition.hasSameParentAs(t.position)&&(a.howMany+=t.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(t),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(t),[a])),$t(Ye,Ye,(a,t,e)=>{if(a.sourcePosition.isEqual(t.sourcePosition)&&a.targetPosition.isEqual(t.targetPosition)){if(e.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),a.sourcePosition=new at(t.graveyardPosition.root,n),a.howMany=0,[a]}return[new nn(0)]}if(a.sourcePosition.isEqual(t.sourcePosition)&&!a.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const n=a.targetPosition.root.rootName=="$graveyard",o=t.targetPosition.root.rootName=="$graveyard";if(o&&!n||!(n&&!o)&&e.aIsStrong){const h=t.targetPosition._getTransformedByMergeOperation(t),m=a.targetPosition._getTransformedByMergeOperation(t);return[new ee(h,a.howMany,m,0)]}return[new nn(0)]}return a.sourcePosition.hasSameParentAs(t.targetPosition)&&(a.howMany+=t.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(t),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(t),a.graveyardPosition.isEqual(t.graveyardPosition)&&e.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(t)),[a]}),$t(Ye,ee,(a,t,e)=>{const n=q._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&a.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(a.sourcePosition)?[new nn(0)]:(a.sourcePosition.hasSameParentAs(t.targetPosition)&&(a.howMany+=t.howMany),a.sourcePosition.hasSameParentAs(t.sourcePosition)&&(a.howMany-=t.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(t),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(t),a.graveyardPosition.isEqual(t.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(t)),[a])}),$t(Ye,ke,(a,t,e)=>{if(t.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),a.deletionPosition.isEqual(t.graveyardPosition)&&(a.howMany=t.howMany)),a.targetPosition.isEqual(t.splitPosition)){const n=t.howMany!=0,o=t.graveyardPosition&&a.deletionPosition.isEqual(t.graveyardPosition);if(n||o||e.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(t),[a]}if(a.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(t),[a];if(e.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=t.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(t),[a]}return a.sourcePosition.hasSameParentAs(t.splitPosition)&&(a.howMany=t.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(t),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(t),[a]}),$t(ee,en,(a,t)=>{const e=q._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(t,!1)[0];return a.sourcePosition=e.start,a.howMany=e.end.offset-e.start.offset,a.targetPosition.isEqual(t.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(t)),[a]}),$t(ee,ee,(a,t,e)=>{const n=q._createFromPositionAndShift(a.sourcePosition,a.howMany),o=q._createFromPositionAndShift(t.sourcePosition,t.howMany);let c,h=e.aIsStrong,m=!e.aIsStrong;if(e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?m=!0:e.abRelation!="insertAfter"&&e.baRelation!="insertBefore"||(m=!1),c=a.targetPosition.isEqual(t.targetPosition)&&m?a.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):a.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),gm(a,t)&&gm(t,a))return[t.getReversed()];if(n.containsPosition(t.targetPosition)&&n.containsRange(o,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),gr([n],c);if(o.containsPosition(a.targetPosition)&&o.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),gr([n],c);const b=pn(a.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(b=="prefix"||b=="extension")return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),gr([n],c);a.type!="remove"||t.type=="remove"||e.aWasUndone||e.forceWeakRemove?a.type=="remove"||t.type!="remove"||e.bWasUndone||e.forceWeakRemove||(h=!1):h=!0;const v=[],A=n.getDifference(o);for(const S of A){S.start=S.start._getTransformedByDeletion(t.sourcePosition,t.howMany),S.end=S.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const M=pn(S.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",O=S._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,M);v.push(...O)}const y=n.getIntersection(o);return y!==null&&h&&(y.start=y.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),y.end=y.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),v.length===0?v.push(y):v.length==1?o.start.isBefore(n.start)||o.start.isEqual(n.start)?v.unshift(y):v.push(y):v.splice(1,0,y)),v.length===0?[new nn(a.baseVersion)]:gr(v,c)}),$t(ee,ke,(a,t,e)=>{let n=a.targetPosition.clone();a.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&e.abRelation!="moveTargetAfter"||(n=a.targetPosition._getTransformedBySplitOperation(t));const o=q._createFromPositionAndShift(a.sourcePosition,a.howMany);if(o.end.isEqual(t.insertionPosition))return t.graveyardPosition||a.howMany++,a.targetPosition=n,[a];if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let h=new q(t.splitPosition,o.end);return h=h._getTransformedBySplitOperation(t),gr([new q(o.start,t.splitPosition),h],n)}a.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(n=t.moveTargetPosition),a.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(n=a.targetPosition);const c=[o._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const h=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);a.howMany>1&&h&&!e.aWasUndone&&c.push(q._createFromPositionAndShift(t.insertionPosition,1))}return gr(c,n)}),$t(ee,Ye,(a,t,e)=>{const n=q._createFromPositionAndShift(a.sourcePosition,a.howMany);if(t.deletionPosition.hasSameParentAs(a.sourcePosition)&&n.containsPosition(t.sourcePosition)){if(a.type!="remove"||e.forceWeakRemove){if(a.howMany==1)return e.bWasUndone?(a.sourcePosition=t.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(t),[a]):[new nn(0)]}else if(!e.aWasUndone){const c=[];let h=t.graveyardPosition.clone(),m=t.targetPosition._getTransformedByMergeOperation(t);a.howMany>1&&(c.push(new ee(a.sourcePosition,a.howMany-1,a.targetPosition,0)),h=h._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),m=m._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const b=t.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),v=new ee(h,1,b,0),A=v.getMovedRangeStart().path.slice();A.push(0);const y=new at(v.targetPosition.root,A);m=m._getTransformedByMove(h,b,1);const S=new ee(m,t.howMany,y,0);return c.push(v),c.push(S),c}}const o=q._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(t);return a.sourcePosition=o.start,a.howMany=o.end.offset-o.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(t),[a]}),$t(Dn,en,(a,t)=>(a.position=a.position._getTransformedByInsertOperation(t),[a])),$t(Dn,Ye,(a,t)=>a.position.isEqual(t.deletionPosition)?(a.position=t.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(t),[a])),$t(Dn,ee,(a,t)=>(a.position=a.position._getTransformedByMoveOperation(t),[a])),$t(Dn,Dn,(a,t,e)=>{if(a.position.isEqual(t.position)){if(!e.aIsStrong)return[new nn(0)];a.oldName=t.newName}return[a]}),$t(Dn,ke,(a,t)=>{if(pn(a.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){const e=new Dn(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,e]}return a.position=a.position._getTransformedBySplitOperation(t),[a]}),$t(ji,ji,(a,t,e)=>{if(a.root===t.root&&a.key===t.key){if(!e.aIsStrong||a.newValue===t.newValue)return[new nn(0)];a.oldValue=t.newValue}return[a]}),$t(ke,en,(a,t)=>(a.splitPosition.hasSameParentAs(t.position)&&a.splitPosition.offset<t.position.offset&&(a.howMany+=t.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(t),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(t),[a])),$t(ke,Ye,(a,t,e)=>{if(!a.graveyardPosition&&!e.bWasUndone&&a.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const o=new at(t.graveyardPosition.root,n),c=ke.getInsertionPosition(new at(t.graveyardPosition.root,n)),h=new ke(o,0,c,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(t),a.insertionPosition=ke.getInsertionPosition(a.splitPosition),a.graveyardPosition=h.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[h,a]}return a.splitPosition.hasSameParentAs(t.deletionPosition)&&!a.splitPosition.isAfter(t.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(t.targetPosition)&&(a.howMany+=t.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(t),a.insertionPosition=ke.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(t)),[a]}),$t(ke,ee,(a,t,e)=>{const n=q._createFromPositionAndShift(t.sourcePosition,t.howMany);if(a.graveyardPosition){const c=n.start.isEqual(a.graveyardPosition)||n.containsPosition(a.graveyardPosition);if(!e.bWasUndone&&c){const h=a.splitPosition._getTransformedByMoveOperation(t),m=a.graveyardPosition._getTransformedByMoveOperation(t),b=m.path.slice();b.push(0);const v=new at(m.root,b);return[new ee(h,a.howMany,v,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(t)}const o=a.splitPosition.isEqual(t.targetPosition);if(o&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return a.howMany+=t.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),a.insertionPosition=ke.getInsertionPosition(a.splitPosition),[a];if(o&&e.abRelation&&e.abRelation.howMany){const{howMany:c,offset:h}=e.abRelation;return a.howMany+=c,a.splitPosition=a.splitPosition.getShiftedBy(h),[a]}if(a.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(a.splitPosition)){const c=t.howMany-(a.splitPosition.offset-t.sourcePosition.offset);return a.howMany-=c,a.splitPosition.hasSameParentAs(t.targetPosition)&&a.splitPosition.offset<t.targetPosition.offset&&(a.howMany+=t.howMany),a.splitPosition=t.sourcePosition.clone(),a.insertionPosition=ke.getInsertionPosition(a.splitPosition),[a]}return t.sourcePosition.isEqual(t.targetPosition)||(a.splitPosition.hasSameParentAs(t.sourcePosition)&&a.splitPosition.offset<=t.sourcePosition.offset&&(a.howMany-=t.howMany),a.splitPosition.hasSameParentAs(t.targetPosition)&&a.splitPosition.offset<t.targetPosition.offset&&(a.howMany+=t.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(t),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(t):a.insertionPosition=ke.getInsertionPosition(a.splitPosition),[a]}),$t(ke,ke,(a,t,e)=>{if(a.splitPosition.isEqual(t.splitPosition)){if(!a.graveyardPosition&&!t.graveyardPosition)return[new nn(0)];if(a.graveyardPosition&&t.graveyardPosition&&a.graveyardPosition.isEqual(t.graveyardPosition))return[new nn(0)];if(e.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(t),[a]}if(a.graveyardPosition&&t.graveyardPosition&&a.graveyardPosition.isEqual(t.graveyardPosition)){const n=a.splitPosition.root.rootName=="$graveyard",o=t.splitPosition.root.rootName=="$graveyard";if(o&&!n||!(n&&!o)&&e.aIsStrong){const h=[];return t.howMany&&h.push(new ee(t.moveTargetPosition,t.howMany,t.splitPosition,0)),a.howMany&&h.push(new ee(a.splitPosition,a.howMany,a.moveTargetPosition,0)),h}return[new nn(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(t)),a.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return a.howMany++,[a];if(t.splitPosition.isEqual(a.insertionPosition)&&e.baRelation=="splitBefore"){const n=t.insertionPosition.path.slice();n.push(0);const o=new at(t.insertionPosition.root,n);return[a,new ee(a.insertionPosition,1,o,0)]}return a.splitPosition.hasSameParentAs(t.splitPosition)&&a.splitPosition.offset<t.splitPosition.offset&&(a.howMany-=t.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(t),a.insertionPosition=ke.getInsertionPosition(a.splitPosition),[a]});class Dx extends Ji{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class Pa extends Ji{constructor(t){super(t),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class fr{constructor(t){this.document=t}createDocumentFragment(t){return new Co(this.document,t)}createElement(t,e,n){return new Kn(this.document,t,e,n)}createText(t){return new fe(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const o=n.getChildIndex(t);return this.removeChildren(o,1,n),this.insertChild(o,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new Kn(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){zn(t)&&n===void 0&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return ut._createAt(t,e)}createPositionAfter(t){return ut._createAfter(t)}createPositionBefore(t){return ut._createBefore(t)}createRange(t,e){return new Et(t,e)}createRangeOn(t){return Et._createOn(t)}createRangeIn(t){return Et._createIn(t)}createSelection(t,e,n){return new ai(t,e,n)}}class Mx extends dp{constructor(t,e){super(t),this.view=e,this._toolbarConfig=jp(t.config.get("toolbar")),this._elementReplacer=new Oy}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,o=e.editing.view,c=n.editable,h=o.document.getRoot();c.name=h.rootName,n.render();const m=c.element;this.setEditableElement(c.name,m),this.focusTracker.add(m),n.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(m),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initToolbar(){const t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:o})=>o),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),function({origin:o,originKeystrokeHandler:c,originFocusTracker:h,toolbar:m,beforeFocus:b,afterBlur:v}){h.add(m.element),c.set("Alt+F10",(A,y)=>{h.isFocused&&!m.focusTracker.isFocused&&(b&&b(),m.focus(),y())}),m.keystrokes.set("Esc",(A,y)=>{m.focusTracker.isFocused&&(o.focus(),v&&v(),y())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),o=t.sourceElement,c=t.config.get("placeholder")||o&&o.tagName.toLowerCase()==="textarea"&&o.getAttribute("placeholder");c&&sm({view:e,element:n,text:c,isDirectHost:!1,keepOnFocus:!0})}}var fm=u(3143),Ix={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(fm.Z,Ix),fm.Z.locals;class Tx extends sx{constructor(t,e,n={}){super(t),this.stickyPanel=new vx(t),this.toolbar=new cd(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new lx(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class bd extends cp{constructor(t,e={}){if(!qi(t)&&e.initialData!==void 0)throw new w("editor-create-initial-data",null);super(e),this.config.get("initialData")===void 0&&this.config.set("initialData",function(c){return qi(c)?(h=c,h instanceof HTMLTextAreaElement?h.value:h.innerHTML):c;var h}(t)),qi(t)&&(this.sourceElement=t),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=new Tx(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new Mx(this,o),function(c){if(!pt(c.updateSourceElement))throw new w("attachtoform-missing-elementapi-interface",c);const h=c.sourceElement;if(h&&h.tagName.toLowerCase()==="textarea"&&h.form){let m;const b=h.form,v=()=>c.updateSourceElement();pt(b.submit)&&(m=b.submit,b.submit=()=>{v(),m.apply(b)}),b.addEventListener("submit",v),c.on("destroy",()=>{b.removeEventListener("submit",v),m&&(b.submit=m)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const o=new this(t,e);n(o.initPlugins().then(()=>o.ui.init(qi(t)?t:null)).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}Ct(bd,I1),Ct(bd,T1);class Px{constructor(t){this.files=function(e){const n=Array.from(e.files||[]),o=Array.from(e.items||[]);return n.length?n:o.filter(c=>c.kind==="file").map(c=>c.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}class kd extends Ji{constructor(t){super(t);const e=this.document;function n(o){return(c,h)=>{h.preventDefault();const m=h.dropRange?[h.dropRange]:null,b=new f(e,o);e.fire(b,{dataTransfer:h.dataTransfer,method:c.name,targetRanges:m,target:h.target}),b.stop.called&&h.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(e,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",n("dragging"),{priority:"low"})}onDomEvent(t){const e={dataTransfer:new Px(t.clipboardData?t.clipboardData:t.dataTransfer)};t.type!="drop"&&t.type!="dragover"||(e.dropRange=function(n,o){const c=o.target.ownerDocument,h=o.clientX,m=o.clientY;let b;return c.caretRangeFromPoint&&c.caretRangeFromPoint(h,m)?b=c.caretRangeFromPoint(h,m):o.rangeParent&&(b=c.createRange(),b.setStart(o.rangeParent,o.rangeOffset),b.collapse(!0)),b?n.domConverter.domRangeToView(b):null}(this.view,t)),this.fire(t.type,t,e)}}const pm=["figcaption","li"];function mm(a){let t="";if(a.is("$text")||a.is("$textProxy"))t=a.data;else if(a.is("element","img")&&a.hasAttribute("alt"))t=a.getAttribute("alt");else if(a.is("element","br"))t=`
`;else{let e=null;for(const n of a.getChildren()){const o=mm(n);e&&(e.is("containerElement")||n.is("containerElement"))&&(pm.includes(e.name)||pm.includes(n.name)?t+=`
`:t+=`

`),t+=o,e=n}}return t}class Ai extends dt{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(kd),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,o=n.document;this.listenTo(o,"clipboardInput",c=>{t.isReadOnly&&c.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(c,h)=>{const m=h.dataTransfer;let b=h.content||"";var v;b||(m.getData("text/html")?b=function(y){return y.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(S,M)=>M.length==1?" ":M).replace(/<!--[\s\S]*?-->/g,"")}(m.getData("text/html")):m.getData("text/plain")&&(((v=(v=m.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||v.includes("<br>"))&&(v=`<p>${v}</p>`),b=v),b=this.editor.data.htmlProcessor.toView(b));const A=new f(this,"inputTransformation");this.fire(A,{content:b,dataTransfer:m,targetRanges:h.targetRanges,method:h.method}),A.stop.called&&c.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,h)=>{if(h.content.isEmpty)return;const m=this.editor.data.toModel(h.content,"$clipboardHolder");m.childCount!=0&&(c.stop(),e.change(()=>{this.fire("contentInsertion",{content:m,method:h.method,dataTransfer:h.dataTransfer,targetRanges:h.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,h)=>{h.resultRange=e.insertContent(h.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,n=t.editing.view.document;function o(c,h){const m=h.dataTransfer;h.preventDefault();const b=t.data.toView(t.model.getSelectedContent(e.selection));n.fire("clipboardOutput",{dataTransfer:m,content:b,method:c.name})}this.listenTo(n,"copy",o,{priority:"low"}),this.listenTo(n,"cut",(c,h)=>{t.isReadOnly?h.preventDefault():o(c,h)},{priority:"low"}),this.listenTo(n,"clipboardOutput",(c,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",mm(h.content))),h.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}function*bm(a,t){for(const e of t)e&&a.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class Ox extends zt{execute(){const t=this.editor.model,e=t.document;t.change(n=>{(function(o,c,h,m){const b=h.isCollapsed,v=h.getFirstRange(),A=v.start.parent,y=v.end.parent;if(m.isLimit(A)||m.isLimit(y))return void(b||A!=y||o.deleteContent(h));if(b){const S=bm(c.model.schema,h.getAttributes());km(c,v.start),c.setSelectionAttribute(S)}else{const S=!(v.start.isAtStart&&v.end.isAtEnd),M=A==y;o.deleteContent(h,{leaveUnmerged:S}),S&&(M?km(c,h.focus):c.setSelection(y,0))}})(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function km(a,t){a.split(t),a.setSelection(t.parent.nextSibling,0)}class wm extends Ni{constructor(t){super(t);const e=this.document;e.on("keydown",(n,o)=>{if(this.isEnabled&&o.keyCode==Nt.enter){const c=new ga(e,"enter",e.selection.getFirstRange());e.fire(c,new Fc(e,o.domEvent,{isSoft:o.shiftKey})),c.stop.called&&n.stop()}})}observe(){}}class Oa extends dt{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(wm),t.commands.add("enter",new Ox(t)),this.listenTo(n,"enter",(o,c)=>{c.preventDefault(),c.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class vm{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(n,o)=>{o.isLocal&&o.isUndoable&&o!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class Cm extends zt{constructor(t,e){super(t),this.direction=e,this._buffer=new vm(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const c=o.createSelection(t.selection||n.selection),h=t.sequence||1,m=c.isCollapsed;if(c.isCollapsed&&e.modifySelection(c,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(h))return void this._replaceEntireContentWithParagraph(o);if(this._shouldReplaceFirstBlockWithParagraph(c,h))return void this.editor.execute("paragraph",{selection:c});if(c.isCollapsed)return;let b=0;c.getFirstRange().getMinimalFlatRanges().forEach(v=>{b+=Ec(v.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(c,{doNotResetEntireContent:m,direction:this.direction}),this._buffer.input(b),o.setSelection(c),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,o=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(o))||!e.schema.checkChild(o,"paragraph"))return!1;const c=o.getChild(0);return!c||c.name!=="paragraph"}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,o=e.schema.getLimitElement(n),c=t.createElement("paragraph");t.remove(t.createRangeIn(o)),t.insert(c,o),t.setSelection(c,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||this.direction!="backward"||!t.isCollapsed)return!1;const o=t.getFirstPosition(),c=n.schema.getLimitElement(o),h=c.getChild(0);return o.parent==h&&!!t.containsEntireContent(h)&&!!n.schema.checkChild(c,"paragraph")&&h.name!="paragraph"}}function _m(a){if(a.newChildren.length-a.oldChildren.length!=1)return;const t=function(n,o){const c=[];let h,m=0;return n.forEach(A=>{A=="equal"?(b(),m++):A=="insert"?(v("insert")?h.values.push(o[m]):(b(),h={type:"insert",index:m,values:[o[m]]}),m++):v("delete")?h.howMany++:(b(),h={type:"delete",index:m,howMany:1})}),b(),c;function b(){h&&(c.push(h),h=null)}function v(A){return h&&h.type==A}}(Xi(a.oldChildren,a.newChildren,Nx),a.newChildren);if(t.length>1)return;const e=t[0];return e.values[0]&&e.values[0].is("$text")?e:void 0}function Nx(a,t){return a&&a.is("$text")&&t&&t.is("$text")?a.data===t.data:a===t}function Am(a,t){const e=t.selection,n=a.shiftKey&&a.keyCode===Nt.delete,o=!e.isCollapsed;return n&&o}class Bx extends Ni{constructor(t){super(t);const e=t.document;let n=0;function o(c,h,m){const b=new ga(e,"delete",e.selection.getFirstRange());e.fire(b,new Fc(e,h,m)),b.stop.called&&c.stop()}e.on("keyup",(c,h)=>{h.keyCode!=Nt.delete&&h.keyCode!=Nt.backspace||(n=0)}),e.on("keydown",(c,h)=>{if(se.isWindows&&Am(h,e))return;const m={};if(h.keyCode==Nt.delete)m.direction="forward",m.unit="character";else{if(h.keyCode!=Nt.backspace)return;m.direction="backward",m.unit="codePoint"}const b=se.isMac?h.altKey:h.ctrlKey;m.unit=b?"word":m.unit,m.sequence=++n,o(c,h.domEvent,m)}),se.isAndroid&&e.on("beforeinput",(c,h)=>{if(h.domEvent.inputType!="deleteContentBackward")return;const m={unit:"codepoint",direction:"backward",sequence:1},b=h.domTarget.ownerDocument.defaultView.getSelection();b.anchorNode==b.focusNode&&b.anchorOffset+1!=b.focusOffset&&(m.selectionToRemove=t.domConverter.domSelectionToView(b)),o(c,h.domEvent,m)})}observe(){}}class to extends dt{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document,o=t.model.document;e.addObserver(Bx),this._undoOnBackspace=!1;const c=new Cm(t,"forward");if(t.commands.add("deleteForward",c),t.commands.add("forwardDelete",c),t.commands.add("delete",new Cm(t,"backward")),this.listenTo(n,"delete",(h,m)=>{const b={unit:m.unit,sequence:m.sequence};if(m.selectionToRemove){const v=t.model.createSelection(),A=[];for(const y of m.selectionToRemove.getRanges())A.push(t.editing.mapper.toModelRange(y));v.setTo(A),b.selection=v}t.execute(m.direction=="forward"?"deleteForward":"delete",b),m.preventDefault(),e.scrollToTheSelection()},{priority:"low"}),se.isAndroid){let h=null;this.listenTo(n,"delete",(m,b)=>{const v=b.domTarget.ownerDocument.defaultView.getSelection();h={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",(m,b)=>{if(h){const v=b.domTarget.ownerDocument.defaultView.getSelection();v.collapse(h.anchorNode,h.anchorOffset),v.extend(h.focusNode,h.focusOffset),h=null}})}this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(h,m)=>{this._undoOnBackspace&&m.direction=="backward"&&m.sequence==1&&m.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),m.preventDefault(),h.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class ym{constructor(){this._stack=[]}add(t,e){const n=this._stack,o=n[0];this._insertDescriptor(t);const c=n[0];o===c||wd(o,c)||this.fire("change:top",{oldDescriptor:o,newDescriptor:c,writer:e})}remove(t,e){const n=this._stack,o=n[0];this._removeDescriptor(t);const c=n[0];o===c||wd(o,c)||this.fire("change:top",{oldDescriptor:o,newDescriptor:c,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(c=>c.id===t.id);if(wd(t,e[n]))return;n>-1&&e.splice(n,1);let o=0;for(;e[o]&&Lx(e[o],t);)o++;e.splice(o,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(o=>o.id===t);n>-1&&e.splice(n,1)}}function wd(a,t){return a&&t&&a.priority==t.priority&&Na(a.classes)==Na(t.classes)}function Lx(a,t){return a.priority>t.priority||!(a.priority<t.priority)&&Na(a.classes)>Na(t.classes)}function Na(a){return Array.isArray(a)?a.sort().join(","):a}Ct(ym,R);const zx='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',xm="ck-widget_selected";function Le(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function vd(a,t,e={}){if(!a.is("containerElement"))throw new w("widget-to-widget-wrong-element-type",null,{element:a});return t.setAttribute("contenteditable","false",a),t.addClass("ck-widget",a),t.setCustomProperty("widget",!0,a),a.getFillerOffset=Vx,e.label&&function(n,o,c){c.setCustomProperty("widgetLabel",o,n)}(a,e.label,t),e.hasSelectionHandle&&function(n,o){const c=o.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(h){const m=this.toDomElement(h),b=new Da;return b.set("content",zx),b.render(),m.appendChild(b.element),m});o.insert(o.createPositionAt(n,0),c),o.addClass(["ck-widget_with-selection-handle"],n)}(a,t),Em(a,t),a}function Rx(a,t,e){if(t.classes&&e.addClass(tn(t.classes),a),t.attributes)for(const n in t.attributes)e.setAttribute(n,t.attributes[n],a)}function jx(a,t,e){if(t.classes&&e.removeClass(tn(t.classes),a),t.attributes)for(const n in t.attributes)e.removeAttribute(n,a)}function Em(a,t,e=Rx,n=jx){const o=new ym;o.on("change:top",(c,h)=>{h.oldDescriptor&&n(a,h.oldDescriptor,h.writer),h.newDescriptor&&e(a,h.newDescriptor,h.writer)}),t.setCustomProperty("addHighlight",(c,h,m)=>o.add(h,m),a),t.setCustomProperty("removeHighlight",(c,h,m)=>o.remove(h,m),a)}function Fx(a){const t=a.getCustomProperty("widgetLabel");return t?typeof t=="function"?t():t:""}function Sm(a,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),t.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",(e,n,o)=>{t.setAttribute("contenteditable",o?"false":"true",a)}),a.on("change:isFocused",(e,n,o)=>{o?t.addClass("ck-editor__nested-editable_focused",a):t.removeClass("ck-editor__nested-editable_focused",a)}),Em(a,t),a}function cs(a,t){const e=a.getSelectedElement();if(e){const o=Mo(a);if(o)return t.createRange(t.createPositionAt(e,o));if(t.schema.isObject(e)&&!t.schema.isInline(e))return t.createRangeOn(e)}const n=a.getSelectedBlocks().next().value;if(n){if(n.isEmpty)return t.createRange(t.createPositionAt(n,0));const o=t.createPositionAfter(n);return a.focus.isTouching(o)?t.createRange(o):t.createRange(t.createPositionBefore(n))}return t.createRange(a.focus)}function Vx(){return null}const Fi="widget-type-around";function Do(a,t,e){return a&&Le(a)&&!e.isInline(t)}function Mo(a){return a.getAttribute(Fi)}const Dm=[vi("arrowUp"),vi("arrowRight"),vi("arrowDown"),vi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let a=112;a<=135;a++)Dm.push(a);function Mm(a){return!(!a.ctrlKey&&!a.metaKey)||Dm.includes(a.keyCode)}var Im=u(4921),Ux={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Im.Z,Ux),Im.Z.locals;const Tm=["before","after"],Hx=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Pm="ck-widget__type-around_disabled";class $x extends dt{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Oa,to]}constructor(t){super(t),this._currentFakeCaretModelElement=null}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",(n,o,c)=>{e.change(h=>{for(const m of e.document.roots)c?h.removeClass(Pm,m):h.addClass(Pm,m)}),c||t.model.change(h=>{h.removeSelectionAttribute(Fi)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableDeleteContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,o=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(t,e)}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(t,e,n,o){this.listenTo(t,e,(...c)=>{this.isEnabled&&n(...c)},o)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=Mo(t);if(!e)return!1;const n=t.getSelectedElement();return this._insertParagraph(n,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,o={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(c,h,m)=>{const b=m.mapper.toViewElement(h.item);Do(b,h.item,e)&&function(v,A,y){const S=v.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(M){const O=this.toDomElement(M);return function(N,L){for(const j of Tm){const W=new jn({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${j}`],title:L[j]},children:[N.ownerDocument.importNode(Hx,!0)]});N.appendChild(W.render())}}(O,A),function(N){const L=new jn({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});N.appendChild(L.render())}(O),O});v.insert(v.createPositionAt(y,"end"),S)}(m.writer,o,b)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,o=e.schema,c=t.editing.view;function h(m){return`ck-widget_type-around_show-fake-caret_${m}`}this._listenToIfEnabled(c.document,"arrowKey",(m,b)=>{this._handleArrowKeyPress(m,b)},{context:[Le,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(m,b)=>{b.directChange&&t.model.change(v=>{v.removeSelectionAttribute(Fi)})}),this._listenToIfEnabled(e.document,"change:data",()=>{const m=n.getSelectedElement();m&&Do(t.editing.mapper.toViewElement(m),m,o)||t.model.change(b=>{b.removeSelectionAttribute(Fi)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(m,b,v)=>{const A=v.writer;if(this._currentFakeCaretModelElement){const O=v.mapper.toViewElement(this._currentFakeCaretModelElement);O&&(A.removeClass(Tm.map(h),O),this._currentFakeCaretModelElement=null)}const y=b.selection.getSelectedElement();if(!y)return;const S=v.mapper.toViewElement(y);if(!Do(S,y,o))return;const M=Mo(b.selection);M&&(A.addClass(h(M),S),this._currentFakeCaretModelElement=y)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(m,b,v)=>{v||t.model.change(A=>{A.removeSelectionAttribute(Fi)})})}_handleArrowKeyPress(t,e){const n=this.editor,o=n.model,c=o.document.selection,h=o.schema,m=n.editing.view,b=function(y,S){const M=Pc(y,S);return M==="down"||M==="right"}(e.keyCode,n.locale.contentLanguageDirection),v=m.document.selection.getSelectedElement();let A;Do(v,n.editing.mapper.toModelElement(v),h)?A=this._handleArrowKeyPressOnSelectedWidget(b):c.isCollapsed?A=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):e.shiftKey||(A=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),A&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=Mo(e.document.selection);return e.change(o=>n?n!==(t?"after":"before")?(o.removeSelectionAttribute(Fi),!0):!1:(o.setSelectionAttribute(Fi,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,o=n.schema,c=e.plugins.get("Widget"),h=c._getObjectElementNextToSelection(t);return!!Do(e.editing.mapper.toViewElement(h),h,o)&&(n.change(m=>{c._setSelectionOverElement(h),m.setSelectionAttribute(Fi,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,n=e.model,o=n.schema,c=e.editing.mapper,h=n.document.selection,m=t?h.getLastPosition().nodeBefore:h.getFirstPosition().nodeAfter;return!!Do(c.toViewElement(m),m,o)&&(n.change(b=>{b.setSelection(m,"on"),b.setSelectionAttribute(Fi,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",(n,o)=>{const c=o.domTarget.closest(".ck-widget__type-around__button");if(!c)return;const h=function(v){return v.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(c),m=function(v,A){const y=v.closest(".ck-widget");return A.mapDomToView(y)}(c,e.domConverter),b=t.editing.mapper.toModelElement(m);this._insertParagraph(b,h),o.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",(o,c)=>{if(o.eventPhase!="atTarget")return;const h=e.getSelectedElement(),m=t.editing.mapper.toViewElement(h),b=t.model.schema;let v;this._insertParagraphAccordingToFakeCaretPosition()?v=!0:Do(m,h,b)&&(this._insertParagraph(h,c.isSoft?"before":"after"),v=!0),v&&(c.preventDefault(),o.stop())},{context:Le})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view,e=[Nt.enter,Nt.delete,Nt.backspace];this._listenToIfEnabled(t.document,"keydown",(n,o)=>{e.includes(o.keyCode)||Mm(o)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.editing.view,n=t.model,o=n.schema;this._listenToIfEnabled(e.document,"delete",(c,h)=>{if(c.eventPhase!="atTarget")return;const m=Mo(n.document.selection);if(!m)return;const b=h.direction,v=n.document.selection.getSelectedElement(),A=b=="forward";if(m==="before"===A)t.execute("delete",{selection:n.createSelection(v,"on")});else{const y=o.getNearestSelectionRange(n.createPositionAt(v,m),b);if(y)if(y.isCollapsed){const S=n.createSelection(y.start);if(n.modifySelection(S,{direction:b}),S.focus.isEqual(y.start)){const M=function(O,N){let L=N;for(const j of N.getAncestors({parentFirst:!0})){if(j.childCount>1||O.isLimit(j))break;L=j}return L}(o,y.start.parent);n.deleteContent(n.createSelection(M,"on"),{doNotAutoparagraph:!0})}else n.change(M=>{M.setSelection(y),t.execute(A?"deleteForward":"delete")})}else n.change(S=>{S.setSelection(y),t.execute(A?"deleteForward":"delete")})}h.preventDefault(),c.stop()},{context:Le})}_enableInsertContentIntegration(){const t=this.editor,e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",(o,[c,h])=>{if(h&&!h.is("documentSelection"))return;const m=Mo(n);return m?(o.stop(),e.change(b=>{const v=n.getSelectedElement(),A=e.createPositionAt(v,m),y=b.createSelection(A),S=e.insertContent(c,y);return b.setSelection(y),S})):void 0},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(n,[o])=>{o&&!o.is("documentSelection")||Mo(e)&&n.stop()},{priority:"high"})}}function Wx(a){const t=a.model;return(e,n)=>{const o=n.keyCode==Nt.arrowup,c=n.keyCode==Nt.arrowdown,h=n.shiftKey,m=t.document.selection;if(!o&&!c)return;const b=c;if(h&&function(A,y){return!A.isCollapsed&&A.isBackward==y}(m,b))return;const v=function(A,y,S){const M=A.model;if(S){const O=y.isCollapsed?y.focus:y.getLastPosition(),N=Om(M,O,"forward");if(!N)return null;const L=M.createRange(O,N),j=Nm(M.schema,L,"backward");return j?M.createRange(O,j):null}{const O=y.isCollapsed?y.focus:y.getFirstPosition(),N=Om(M,O,"backward");if(!N)return null;const L=M.createRange(N,O),j=Nm(M.schema,L,"forward");return j?M.createRange(j,O):null}}(a,m,b);if(v){if(v.isCollapsed&&(m.isCollapsed||h))return;(v.isCollapsed||function(A,y,S){const M=A.model,O=A.view.domConverter;if(S){const tt=M.createSelection(y.start);M.modifySelection(tt),tt.focus.isAtEnd||y.start.isEqual(tt.focus)||(y=M.createRange(tt.focus,y.end))}const N=A.mapper.toViewRange(y),L=O.viewRangeToDom(N),j=Jt.getDomRangeRects(L);let W;for(const tt of j)if(W!==void 0){if(Math.round(tt.top)>=W)return!1;W=Math.max(W,Math.round(tt.bottom))}else W=Math.round(tt.bottom);return!0}(a,v,b))&&(t.change(A=>{const y=b?v.end:v.start;if(h){const S=t.createSelection(m.anchor);S.setFocus(y),A.setSelection(S)}else A.setSelection(y)}),e.stop(),n.preventDefault(),n.stopPropagation())}}}function Om(a,t,e){const n=a.schema,o=a.createRangeIn(t.root),c=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:h,item:m,type:b}of o.getWalker({startPosition:t,direction:e})){if(n.isLimit(m)&&!n.isInline(m))return h;if(b==c&&n.isBlock(m))return null}return null}function Nm(a,t,e){const n=e=="backward"?t.end:t.start;if(a.checkChild(n,"$text"))return n;for(const{nextPosition:o}of t.getWalker({direction:e}))if(a.checkChild(o,"$text"))return o;return null}var Bm=u(3488),Gx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Bm.Z,Gx),Bm.Z.locals;class ds extends dt{static get pluginName(){return"Widget"}static get requires(){return[$x,to]}init(){const t=this.editor,e=t.editing.view,n=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(o,c,h)=>{const m=h.writer,b=c.selection;if(b.isCollapsed)return;const v=b.getSelectedElement();if(!v)return;const A=t.editing.mapper.toViewElement(v);Le(A)&&h.consumable.consume(b,"selection")&&m.setSelection(m.createRangeOn(A),{fake:!0,label:Fx(A)})}),this.editor.editing.downcastDispatcher.on("selection",(o,c,h)=>{this._clearPreviouslySelectedWidgets(h.writer);const m=h.writer,b=m.document.selection;let v=null;for(const A of b.getRanges())for(const y of A){const S=y.item;Le(S)&&!Yx(S,v)&&(m.addClass(xm,S),this._previouslySelected.add(S),v=S)}},{priority:"low"}),e.addObserver(Pa),this.listenTo(n,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(n,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[Le,"$text"]}),this.listenTo(n,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(n,"arrowKey",Wx(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(o,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),o.stop())},{context:"$root"})}_onMousedown(t,e){const n=this.editor,o=n.editing.view,c=o.document;let h=e.target;if(function(b){for(;b;){if(b.is("editableElement")&&!b.is("rootElement"))return!0;if(Le(b))return!1;b=b.parent}return!1}(h)){if((se.isSafari||se.isGecko)&&e.domEvent.detail>=3){const b=n.editing.mapper,v=h.is("attributeElement")?h.findAncestor(y=>!y.is("attributeElement")):h,A=b.toModelElement(v);e.preventDefault(),this.editor.model.change(y=>{y.setSelection(A,"in")})}return}if(!Le(h)&&(h=h.findAncestor(Le),!h))return;se.isAndroid&&e.preventDefault(),c.isFocused||o.focus();const m=n.editing.mapper.toModelElement(h);this._setSelectionOverElement(m)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode,o=this.editor.model,c=o.schema,h=o.document.selection,m=h.getSelectedElement(),b=Pc(n,this.editor.locale.contentLanguageDirection),v=b=="down"||b=="right",A=b=="up"||b=="down";if(m&&c.isObject(m)){const S=v?h.getLastPosition():h.getFirstPosition(),M=c.getNearestSelectionRange(S,v?"forward":"backward");return void(M&&(o.change(O=>{O.setSelection(M)}),e.preventDefault(),t.stop()))}if(!h.isCollapsed&&!e.shiftKey){const S=h.getFirstPosition(),M=h.getLastPosition(),O=S.nodeAfter,N=M.nodeBefore;return void((O&&c.isObject(O)||N&&c.isObject(N))&&(o.change(L=>{L.setSelection(v?M:S)}),e.preventDefault(),t.stop()))}if(!h.isCollapsed)return;const y=this._getObjectElementNextToSelection(v);if(y&&c.isObject(y)){if(c.isInline(y)&&A)return;this._setSelectionOverElement(y),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const n=this.editor.model,o=n.schema,c=n.document.selection.getSelectedElement();c&&o.isObject(c)&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(o=>{let c=e.anchor.parent;for(;c.isEmpty;){const h=c;c=h.parent,o.remove(h)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,o=e.document.selection,c=e.createSelection(o);if(e.modifySelection(c,{direction:t?"forward":"backward"}),c.isEqual(o))return null;const h=t?c.focus.nodeBefore:c.focus.nodeAfter;return h&&n.isObject(h)?h:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(xm,e);this._previouslySelected.clear()}}function Yx(a,t){return!!t&&Array.from(a.getAncestors()).includes(t)}const Lm=function(a,t,e){var n=!0,o=!0;if(typeof a!="function")throw new TypeError("Expected a function");return J(e)&&(n="leading"in e?!!e.leading:n,o="trailing"in e?!!e.trailing:o),Ca(a,t,{leading:n,maxWait:t,trailing:o})};var zm=u(903),Kx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(zm.Z,Kx),zm.Z.locals;class Qx extends dt{static get pluginName(){return"DragDrop"}static get requires(){return[Ai,ds]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Lm(n=>this._updateDropMarker(n),40),this._removeDropMarkerDelayed=Fm(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Fm(()=>this._clearDraggableAttributes(),40),e.addObserver(kd),e.addObserver(Pa),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(n,o,c)=>{c?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,o,c)=>{c||this._finalizeDragging(!1)}),se.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,n=e.document,o=t.editing.view,c=o.document;this.listenTo(c,"dragstart",(h,m)=>{const b=n.selection;if(m.target&&m.target.is("editableElement"))return void m.preventDefault();const v=m.target?Vm(m.target):null;if(v){const S=t.editing.mapper.toModelElement(v);this._draggedRange=_i.fromRange(e.createRangeOn(S)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!c.selection.isCollapsed){const S=c.selection.getSelectedElement();S&&Le(S)||(this._draggedRange=_i.fromRange(b.getFirstRange()))}if(!this._draggedRange)return void m.preventDefault();this._draggingUid=k(),m.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",m.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const A=e.createSelection(this._draggedRange.toRange()),y=t.data.toView(e.getSelectedContent(A));c.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:y,method:h.name}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(c,"dragend",(h,m)=>{this._finalizeDragging(!m.dataTransfer.isCanceled&&m.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(c,"dragenter",()=>{this.isEnabled&&o.focus()}),this.listenTo(c,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(c,"dragging",(h,m)=>{if(!this.isEnabled)return void(m.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const b=Rm(t,m.targetRanges,m.target);this._draggedRange||(m.dataTransfer.dropEffect="copy"),se.isGecko||(m.dataTransfer.effectAllowed=="copy"?m.dataTransfer.dropEffect="copy":["all","copyMove"].includes(m.dataTransfer.effectAllowed)&&(m.dataTransfer.dropEffect="move")),b&&this._updateDropMarkerThrottled(b)},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"clipboardInput",(n,o)=>{if(o.method!="drop")return;const c=Rm(t,o.targetRanges,o.target);if(this._removeDropMarker(),!c)return this._finalizeDragging(!1),void n.stop();if(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),jm(o.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(c,!0))return this._finalizeDragging(!1),void n.stop();o.targetRanges=[t.editing.mapper.toViewRange(c)]},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(Ai);t.on("contentInsertion",(e,n)=>{if(!this.isEnabled||n.method!=="drop")return;const o=n.targetRanges.map(c=>this.editor.editing.mapper.toModelRange(c));this.editor.model.change(c=>c.setSelection(o))},{priority:"high"}),t.on("contentInsertion",(e,n)=>{if(!this.isEnabled||n.method!=="drop")return;const o=jm(n.dataTransfer)=="move",c=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(c&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",(o,c)=>{if(se.isAndroid||!c)return;this._clearDraggableAttributesDelayed.cancel();let h=Vm(c.target);if(se.isBlink&&!t.isReadOnly&&!h&&!n.selection.isCollapsed){const m=n.selection.getSelectedElement();m&&Le(m)||(h=n.selection.editableElement)}h&&(e.change(m=>{m.setAttribute("draggable","true",h)}),this._draggableElement=t.editing.mapper.toModelElement(h))}),this.listenTo(n,"mouseup",()=>{se.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(e=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:n})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(o){const c=this.toDomElement(o);return c.innerHTML="&NoBreak;<span></span>&NoBreak;",c})}})}_updateDropMarker(t){const e=this.editor,n=e.model.markers;e.model.change(o=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||o.updateMarker("drop-target",{range:t}):o.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change(e=>{e.removeMarker("drop-target")})}_finalizeDragging(t){const e=this.editor,n=e.model;this._removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function Rm(a,t,e){const n=a.model,o=a.editing.mapper;let c=null;const h=t?t[0].start:null;if(e.is("uiElement")&&(e=e.parent),c=function(v,A){const y=v.model,S=v.editing.mapper;if(Le(A))return y.createRangeOn(S.toModelElement(A));if(!A.is("editableElement")){const M=A.findAncestor(O=>Le(O)||O.is("editableElement"));if(Le(M))return y.createRangeOn(S.toModelElement(M))}return null}(a,e),c)return c;const m=function(v,A){const y=v.editing.mapper,S=v.editing.view,M=y.toModelElement(A);if(M)return M;const O=S.createPositionBefore(A),N=y.findMappedViewAncestor(O);return y.toModelElement(N)}(a,e),b=h?o.toModelPosition(h):null;return b?(c=function(v,A,y){const S=v.model;if(!S.schema.checkChild(y,"$block"))return null;const M=S.createPositionAt(y,0),O=A.path.slice(0,M.path.length),N=S.createPositionFromPath(A.root,O).nodeAfter;return N&&S.schema.isObject(N)?S.createRangeOn(N):null}(a,b,m),c||(c=n.schema.getNearestSelectionRange(b,se.isGecko?"forward":"backward"),c||function(v,A){const y=v.model;for(;A;){if(y.schema.isObject(A))return y.createRangeOn(A);A=A.parent}}(a,b.parent))):function(v,A){const y=v.model,S=y.schema,M=y.createPositionAt(A,0);return S.getNearestSelectionRange(M,"forward")}(a,m)}function jm(a){return se.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function Fm(a,t){let e;function n(...o){n.cancel(),e=setTimeout(()=>a(...o),t)}return n.cancel=()=>{clearTimeout(e)},n}function Vm(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(Le);if(Le(a))return a;const t=a.findAncestor(e=>Le(e)||e.is("editableElement"));return Le(t)?t:null}class Zx extends dt{static get pluginName(){return"PastePlainText"}static get requires(){return[Ai]}init(){const t=this.editor,e=t.model,n=t.editing.view,o=n.document,c=e.document.selection;let h=!1;n.addObserver(kd),this.listenTo(o,"keydown",(m,b)=>{h=b.shiftKey}),t.plugins.get(Ai).on("contentInsertion",(m,b)=>{(h||function(v,A){if(v.childCount>1)return!1;const y=v.getChild(0);return A.isObject(y)?!1:[...y.getAttributeKeys()].length==0}(b.content,e.schema))&&e.change(v=>{const A=Array.from(c.getAttributes()).filter(([S])=>e.schema.getAttributeProperties(S).isFormatting);c.isCollapsed||e.deleteContent(c,{doNotAutoparagraph:!0}),A.push(...c.getAttributes());const y=v.createRangeIn(b.content);for(const S of y.getItems())S.is("$textProxy")&&v.setAttributes(A,S)})})}}class Um extends dt{static get pluginName(){return"Clipboard"}static get requires(){return[Ai,Qx,Zx]}}class qx extends zt{execute(){const t=this.editor.model,e=t.document;t.change(n=>{(function(o,c,h){const m=h.isCollapsed,b=h.getFirstRange(),v=b.start.parent,A=b.end.parent,y=v==A;if(m){const S=bm(o.schema,h.getAttributes());Hm(o,c,b.end),c.removeSelectionAttribute(h.getAttributeKeys()),c.setSelectionAttribute(S)}else{const S=!(b.start.isAtStart&&b.end.isAtEnd);o.deleteContent(h,{leaveUnmerged:S}),y?Hm(o,c,h.focus):S&&c.setSelection(A,0)}})(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(n,o){if(o.rangeCount>1)return!1;const c=o.anchor;if(!c||!n.checkChild(c,"softBreak"))return!1;const h=o.getFirstRange(),m=h.start.parent,b=h.end.parent;return!((Cd(m,n)||Cd(b,n))&&m!==b)}(t.schema,e.selection)}}function Hm(a,t,e){const n=t.createElement("softBreak");a.insertContent(n,e),t.setSelection(n,"after")}function Cd(a,t){return!a.is("rootElement")&&(t.isLimit(a)||Cd(a.parent,t))}class Xx extends dt{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,o=t.editing.view,c=o.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(h,{writer:m})=>m.createEmptyElement("br")}),o.addObserver(wm),t.commands.add("shiftEnter",new qx(t)),this.listenTo(c,"enter",(h,m)=>{m.preventDefault(),m.isSoft&&(t.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"})}}class Jx extends zt{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!$m(t.schema,n))do if(n=n.parent,!n)return;while(!$m(t.schema,n));t.change(o=>{o.setSelection(n,"in")})}}function $m(a,t){return a.isLimit(t)&&(a.checkChild(t,"$text")||a.checkChild(t,"paragraph"))}const tE=Tc("Ctrl+A");class eE extends dt{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.editing.view.document;t.commands.add("selectAll",new Jx(t)),this.listenTo(e,"keydown",(n,o)=>{vi(o)===tE&&(t.execute("selectAll"),o.preventDefault())})}}class nE extends dt{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",e=>{const n=t.commands.get("selectAll"),o=new Ie(e),c=e.t;return o.set({label:c("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),o.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(o,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),o})}}class iE extends dt{static get requires(){return[eE,nE]}static get pluginName(){return"SelectAll"}}class oE extends zt{constructor(t,e){super(t),this._buffer=new vm(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,o=t.text||"",c=o.length,h=t.range?e.createSelection(t.range):n.selection,m=t.resultRange;e.enqueueChange(this._buffer.batch,b=>{this._buffer.lock(),e.deleteContent(h),o&&e.insertContent(b.createText(o,n.selection.getAttributes()),h),m?b.setSelection(m):h.is("documentSelection")||b.setSelection(h),this._buffer.unlock(),this._buffer.input(c)})}}class rE{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(function(n){if(n.length==0)return!1;for(const o of n)if(o.type==="children"&&!_m(o))return!0;return!1}(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(mn){const qe=mn.map(Fn=>Fn.node).reduce((Fn,Jn)=>Fn.getCommonAncestor(Jn,{includeSelf:!0}));if(!!qe)return qe.getAncestors({includeSelf:!0,parentFirst:!0}).find(Fn=>Fn.is("containerElement")||Fn.is("rootElement"))}(t);if(!n)return;const o=this.editor.editing.view.domConverter.mapViewToDom(n),c=new ba(this.editor.editing.view.document),h=this.editor.data.toModel(c.domToView(o)).getChild(0),m=this.editor.editing.mapper.toModelElement(n);if(!m)return;const b=Array.from(h.getChildren()),v=Array.from(m.getChildren()),A=b[b.length-1],y=v[v.length-1],S=A&&A.is("element","softBreak"),M=y&&!y.is("element","softBreak");S&&M&&b.pop();const O=this.editor.model.schema;if(!Wm(b,O)||!Wm(v,O))return;const N=b.map(mn=>mn.is("$text")?mn.data:"@").join("").replace(/\u00A0/g," "),L=v.map(mn=>mn.is("$text")?mn.data:"@").join("").replace(/\u00A0/g," ");if(L===N)return;const j=Xi(L,N),{firstChangeAt:W,insertions:tt,deletions:ft}=Gm(j);let At=null;e&&(At=this.editing.mapper.toModelRange(e.getFirstRange()));const ae=N.substr(W,tt),qt=this.editor.model.createRange(this.editor.model.createPositionAt(m,W),this.editor.model.createPositionAt(m,W+ft));this.editor.execute("input",{text:ae,range:qt,resultRange:At})}_handleTextMutation(t,e){if(t.type!="text")return;const n=t.newText.replace(/\u00A0/g," "),o=t.oldText.replace(/\u00A0/g," ");if(o===n)return;const c=Xi(o,n),{firstChangeAt:h,insertions:m,deletions:b}=Gm(c);let v=null;e&&(v=this.editing.mapper.toModelRange(e.getFirstRange()));const A=this.editing.view.createPositionAt(t.node,h),y=this.editing.mapper.toModelPosition(A),S=this.editor.model.createRange(y,y.getShiftedBy(b)),M=n.substr(h,m);this.editor.execute("input",{text:M,range:S,resultRange:v})}_handleTextNodeInsertion(t){if(t.type!="children")return;const e=_m(t),n=this.editing.view.createPositionAt(t.node,e.index),o=this.editing.mapper.toModelPosition(n),c=e.values[0].data;this.editor.execute("input",{text:c.replace(/\u00A0/g," "),range:this.editor.model.createRange(o)})}}function Wm(a,t){return a.every(e=>t.isInline(e))}function Gm(a){let t=null,e=null;for(let c=0;c<a.length;c++)a[c]!="equal"&&(t=t===null?c:t,e=c);let n=0,o=0;for(let c=t;c<=e;c++)a[c]!="insert"&&n++,a[c]!="delete"&&o++;return{insertions:o,deletions:n,firstChangeAt:t}}class Ym extends dt{static get pluginName(){return"Input"}init(){const t=this.editor,e=new oE(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(n){let o=null;const c=n.model,h=n.editing.view,m=n.commands.get("input");function b(A){if(se.isWindows&&Am(A,h.document))return;const y=c.document,S=h.document.isComposing,M=o&&o.isEqual(y.selection);o=null,m.isEnabled&&(Mm(A)||y.selection.isCollapsed||S&&A.keyCode===229||!S&&A.keyCode===229&&M||v())}function v(){const A=m.buffer;A.lock();const y=A.batch;c.enqueueChange(y,()=>{c.deleteContent(c.document.selection)}),A.unlock()}se.isAndroid?h.document.on("beforeinput",(A,y)=>b(y),{priority:"lowest"}):h.document.on("keydown",(A,y)=>b(y),{priority:"lowest"}),h.document.on("compositionstart",function(){const A=c.document,y=A.selection.rangeCount!==1||A.selection.getFirstRange().isFlat;A.selection.isCollapsed||y||v()},{priority:"lowest"}),h.document.on("compositionend",()=>{o=c.createSelection(c.document.selection)},{priority:"lowest"})}(t),function(n){n.editing.view.document.on("mutations",(o,c,h)=>{new rE(n).handle(c,h)})}(t)}}class sE extends dt{static get requires(){return[Ym,to]}static get pluginName(){return"Typing"}}function Km(a,t){let e=a.start;return{text:Array.from(a.getItems()).reduce((n,o)=>o.is("$text")||o.is("$textProxy")?n+o.data:(e=t.createPositionAfter(o),""),""),range:t.createRange(e,a.end)}}class _d{constructor(t,e){this.model=t,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(t,"change:data",(e,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(t,e={}){const n=this.model,o=n.document.selection,c=n.createRange(n.createPositionAt(o.focus.parent,0),o.focus),{text:h,range:m}=Km(c,n),b=this.testCallback(h);if(!b&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!b,b){const v=Object.assign(e,{text:h,range:m});typeof b=="object"&&Object.assign(v,b),this.fire(`matched:${t}`,v)}}}Ct(_d,me);class Qm extends dt{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.model,n=t.editing.view,o=t.locale,c=e.document.selection;this.listenTo(n.document,"arrowKey",(h,m)=>{if(!c.isCollapsed||m.shiftKey||m.altKey||m.ctrlKey)return;const b=m.keyCode==Nt.arrowright,v=m.keyCode==Nt.arrowleft;if(!b&&!v)return;const A=o.contentLanguageDirection;let y=!1;y=A==="ltr"&&b||A==="rtl"&&v?this._handleForwardMovement(m):this._handleBackwardMovement(m),y===!0&&h.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(c,"change:range",(h,m)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!m.directChange&&La(c.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model.document.selection,o=n.getFirstPosition();return!this._isGravityOverridden&&(!o.isAtStart||!Ad(n,e))&&(La(o,e)?(Ba(t),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,o=n.document.selection,c=o.getFirstPosition();return this._isGravityOverridden?(Ba(t),this._restoreGravity(),yd(n,e,c),!0):c.isAtStart?!!Ad(o,e)&&(Ba(t),yd(n,e,c),!0):function(h,m){return La(h.getShiftedBy(-1),m)}(c,e)?c.isAtEnd&&!Ad(o,e)&&La(c,e)?(Ba(t),yd(n,e,c),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ad(a,t){for(const e of t)if(a.hasAttribute(e))return!0;return!1}function yd(a,t,e){const n=e.nodeBefore;a.change(o=>{n?o.setSelectionAttribute(n.getAttributes()):o.removeSelectionAttribute(t)})}function Ba(a){a.preventDefault()}function La(a,t){const{nodeBefore:e,nodeAfter:n}=a;for(const o of t){const c=e?e.getAttribute(o):void 0;if((n?n.getAttribute(o):void 0)!==c)return!0}return!1}var Zm=/[\\^$.*+?()[\]{}|]/g,aE=RegExp(Zm.source);const lE=function(a){return(a=wc(a))&&aE.test(a)?a.replace(Zm,"\\$&"):a},cE={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:pr('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:pr("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:pr("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:pr('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:pr('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:pr("'"),to:[null,"\u201A",null,"\u2019"]}},qm={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},dE=["symbols","mathematical","typography","quotes"];function uE(a){return typeof a=="string"?new RegExp(`(${lE(a)})$`):a}function hE(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function gE(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function pr(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function mr(a,t,e,n){return n.createRange(Xm(a,t,e,!0,n),Xm(a,t,e,!1,n))}function Xm(a,t,e,n,o){let c=a.textNode||(n?a.nodeBefore:a.nodeAfter),h=null;for(;c&&c.getAttribute(t)==e;)h=c,c=n?c.previousSibling:c.nextSibling;return h?o.createPositionAt(h,n?"before":"after"):a}class Jm extends zt{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(t.data,"set",(e,n)=>{n[1]={...n[1]};const o=n[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(e,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const o=this.editor.model,c=o.document,h=[],m=t.map(v=>v.getTransformedByOperations(n)),b=m.flat();for(const v of m){const A=v.filter(y=>y.root!=c.graveyard).filter(y=>!pE(y,b));A.length&&(fE(A),h.push(A[0]))}h.length&&o.change(v=>{v.setSelection(h,{backward:e})})}_undo(t,e){const n=this.editor.model,o=n.document;this._createdBatches.add(e);const c=t.operations.slice().filter(h=>h.isDocumentOperation);c.reverse();for(const h of c){const m=h.baseVersion+1,b=Array.from(o.history.getOperations(m)),v=Ex([h.getReversed()],b,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const A of v)e.addOperation(A),n.applyOperation(A),o.history.setOperationAsUndone(h,A)}}}function fE(a){a.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<a.length;t++){const e=a[t-1].getJoined(a[t],!0);e&&(t--,a.splice(t,2,e))}}function pE(a,t){return t.some(e=>e!==a&&e.containsRange(a,!0))}class mE extends Jm{execute(t=null){const e=t?this._stack.findIndex(c=>c.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{this._undo(n.batch,o);const c=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,c),this.fire("revert",n.batch,o)}),this.refresh()}}class bE extends Jm{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o),this._undo(t.batch,e)}),this.refresh()}}class kE extends dt{static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new mE(t),this._redoCommand=new bE(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(e,n)=>{const o=n[0];if(!o.isDocumentOperation)return;const c=o.batch,h=this._redoCommand._createdBatches.has(c),m=this._undoCommand._createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(h?this._undoCommand.addBatch(c):m||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(e,n,o)=>{this._redoCommand.addBatch(o)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const tb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',eb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class wE extends dt{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,n=t.t,o=e.uiLanguageDirection=="ltr"?tb:eb,c=e.uiLanguageDirection=="ltr"?eb:tb;this._addButton("undo",n("Undo"),"CTRL+Z",o),this._addButton("redo",n("Redo"),"CTRL+Y",c)}_addButton(t,e,n,o){const c=this.editor;c.ui.componentFactory.add(t,h=>{const m=c.commands.get(t),b=new Ie(h);return b.set({label:e,icon:o,keystroke:n,tooltip:!0}),b.bind("isEnabled").to(m,"isEnabled"),this.listenTo(b,"execute",()=>{c.execute(t),c.editing.view.focus()}),b})}}class nb extends dt{static get requires(){return[kE,wE]}static get pluginName(){return"Undo"}}class ib{constructor(){const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((n,o)=>{e.onload=()=>{const c=e.result;this._data=c,n(c)},e.onerror=()=>{o("error")},e.onabort=()=>{o("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}Ct(ib,me);class yi extends dt{static get pluginName(){return"FileRepository"}static get requires(){return[up]}init(){this.loaders=new Yn,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return x("filerepository-no-upload-adapter"),null;const e=new xd(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(n=>{this._loadersMap.set(n,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let n=0;for(const o of this.loaders)n+=o.uploaded;this.uploaded=n}),e.on("change:uploadTotal",()=>{let n=0;for(const o of this.loaders)o.uploadTotal&&(n+=o.uploadTotal);this.uploadTotal=n}),e}destroyLoader(t){const e=t instanceof xd?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((n,o)=>{n===e&&this._loadersMap.delete(o)})}_updatePendingAction(){const t=this.editor.plugins.get(up);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=o=>`${e("Upload in progress")} ${parseInt(o)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}Ct(yi,me);class xd{constructor(t,e){this.id=k(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new ib,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,o)=>o?n/o*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new w("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new w("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,o)=>{e.rejecter=o,e.isFulfilled=!1,t.then(c=>{e.isFulfilled=!0,n(c)}).catch(c=>{e.isFulfilled=!0,o(c)})}),e}}Ct(xd,me);class vE extends Ot{constructor(t){super(t),this.buttonView=new Ie(t),this._fileInputView=new CE(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class CE extends Ot{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const ob="ckCsrfToken",rb="abcdefghijklmnopqrstuvwxyz0123456789";function _E(){let a=function(n){n=n.toLowerCase();const o=document.cookie.split(";");for(const c of o){const h=c.split("=");if(decodeURIComponent(h[0].trim().toLowerCase())===n)return decodeURIComponent(h[1])}return null}(ob);var t,e;return a&&a.length==40||(a=function(n){let o="";const c=new Uint8Array(n);window.crypto.getRandomValues(c);for(let h=0;h<c.length;h++){const m=rb.charAt(c[h]%rb.length);o+=Math.random()>.5?m.toUpperCase():m}return o}(40),t=ob,e=a,document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"),a}class AE{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const o=this.xhr,c=this.loader,h=(0,this.t)("Cannot upload file:")+` ${n.name}.`;o.addEventListener("error",()=>e(h)),o.addEventListener("abort",()=>e()),o.addEventListener("load",()=>{const m=o.response;if(!m||!m.uploaded)return e(m&&m.error&&m.error.message?m.error.message:h);t({default:m.url})}),o.upload&&o.upload.addEventListener("progress",m=>{m.lengthComputable&&(c.uploadTotal=m.total,c.uploaded=m.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",_E()),this.xhr.send(e)}}function eo(a,t,e,n){let o,c=null;typeof n=="function"?o=n:(c=a.commands.get(n),o=()=>{a.execute(n)}),a.model.document.on("change:data",(h,m)=>{if(c&&!c.isEnabled||!t.isEnabled)return;const b=xn(a.model.document.selection.getRanges());if(!b.isCollapsed||m.isUndo||!m.isLocal)return;const v=Array.from(a.model.document.differ.getChanges()),A=v[0];if(v.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const y=A.position.parent;if(y.is("element","codeBlock")||y.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||c&&c.value===!0)return;const S=y.getChild(0),M=a.model.createRangeOn(S);if(!M.containsRange(b)&&!b.end.isEqual(M.end))return;const O=e.exec(S.data.substr(0,b.end.offset));O&&a.model.enqueueChange(N=>{const L=N.createPositionAt(y,0),j=N.createPositionAt(y,O[0].length),W=new _i(L,j);if(o({match:O})!==!1){N.remove(W);const tt=a.model.document.selection.getFirstRange(),ft=N.createRangeIn(y);!y.isEmpty||ft.isEqual(tt)||ft.containsRange(tt,!0)||N.remove(y)}W.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function br(a,t,e,n){let o,c;e instanceof RegExp?o=e:c=e,c=c||(h=>{let m;const b=[],v=[];for(;(m=o.exec(h))!==null&&!(m&&m.length<4);){let{index:A,1:y,2:S,3:M}=m;const O=y+S+M;A+=m[0].length-O.length;const N=[A,A+y.length],L=[A+y.length+S.length,A+y.length+S.length+M.length];b.push(N),b.push(L),v.push([A+y.length,A+y.length+S.length])}return{remove:b,format:v}}),a.model.document.on("change:data",(h,m)=>{if(m.isUndo||!m.isLocal||!t.isEnabled)return;const b=a.model,v=b.document.selection;if(!v.isCollapsed)return;const A=Array.from(b.document.differ.getChanges()),y=A[0];if(A.length!=1||y.type!=="insert"||y.name!="$text"||y.length!=1)return;const S=v.focus,M=S.parent,{text:O,range:N}=function(tt,ft){let At=tt.start;return{text:Array.from(tt.getItems()).reduce((ae,qt)=>!qt.is("$text")&&!qt.is("$textProxy")||qt.getAttribute("code")?(At=ft.createPositionAfter(qt),""):ae+qt.data,""),range:ft.createRange(At,tt.end)}}(b.createRange(b.createPositionAt(M,0),S),b),L=c(O),j=sb(N.start,L.format,b),W=sb(N.start,L.remove,b);j.length&&W.length&&b.enqueueChange(tt=>{if(n(tt,j)!==!1){for(const ft of W.reverse())tt.remove(ft);b.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function sb(a,t,e){return t.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>e.createRange(a.getShiftedBy(n[0]),a.getShiftedBy(n[1])))}function za(a,t){return(e,n)=>{if(!a.commands.get(t).isEnabled)return!1;const o=a.model.schema.getValidRanges(n,t);for(const c of o)e.setAttribute(t,!0,c);e.removeSelectionAttribute(t)}}class ab extends zt{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,o=t.forceValue===void 0?!this.value:t.forceValue;e.change(c=>{if(n.isCollapsed)o?c.setSelectionAttribute(this.attributeKey,!0):c.removeSelectionAttribute(this.attributeKey);else{const h=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const m of h)o?c.setAttribute(this.attributeKey,o,m):c.removeAttribute(this.attributeKey,m)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const o of n.getRanges())for(const c of o.getItems())if(e.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey);return!1}}const kr="bold";class yE extends dt{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:kr}),t.model.schema.setAttributeProperties(kr,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:kr,view:"strong",upcastAlso:["b",e=>{const n=e.getStyle("font-weight");return n?n=="bold"||Number(n)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add(kr,new ab(t,kr)),t.keystrokes.set("CTRL+B",kr)}}const Ed="bold";class xE extends dt{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Ed,n=>{const o=t.commands.get(Ed),c=new Ie(n);return c.set({label:e("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(c,"execute",()=>{t.execute(Ed),t.editing.view.focus()}),c})}}const wr="italic";class EE extends dt{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:wr}),t.model.schema.setAttributeProperties(wr,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:wr,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(wr,new ab(t,wr)),t.keystrokes.set("CTRL+I",wr)}}const Sd="italic";class SE extends dt{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Sd,n=>{const o=t.commands.get(Sd),c=new Ie(n);return c.set({label:e("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(c,"execute",()=>{t.execute(Sd),t.editing.view.focus()}),c})}}class DE extends zt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,o=e.document.selection,c=Array.from(o.getSelectedBlocks()),h=t.forceValue===void 0?!this.value:t.forceValue;e.change(m=>{if(h){const b=c.filter(v=>Ra(v)||cb(n,v));this._applyQuote(m,b)}else this._removeQuote(m,c.filter(Ra))})}_getValue(){const t=xn(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Ra(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=xn(t.getSelectedBlocks());return!!n&&cb(e,n)}_removeQuote(t,e){lb(t,e).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void t.unwrap(n.start.parent);if(n.start.isAtStart){const c=t.createPositionBefore(n.start.parent);return void t.move(n,c)}n.end.isAtEnd||t.split(n.end);const o=t.createPositionAfter(n.end.parent);t.move(n,o)})}_applyQuote(t,e){const n=[];lb(t,e).reverse().forEach(o=>{let c=Ra(o.start);c||(c=t.createElement("blockQuote"),t.wrap(o,c)),n.push(c)}),n.reverse().reduce((o,c)=>o.nextSibling==c?(t.merge(t.createPositionAfter(o)),o):c)}}function Ra(a){return a.parent.name=="blockQuote"?a.parent:null}function lb(a,t){let e,n=0;const o=[];for(;n<t.length;){const c=t[n],h=t[n+1];e||(e=a.createPositionBefore(c)),h&&c.nextSibling==h||(o.push(a.createRange(e,a.createPositionAfter(c))),e=null),n++}return o}function cb(a,t){const e=a.checkChild(t.parent,"blockQuote"),n=a.checkChild(["$root","blockQuote"],t);return e&&n}class ME extends dt{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Oa,to]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new DE(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(h=>{const m=t.model.document.differ.getChanges();for(const b of m)if(b.type=="insert"){const v=b.position.nodeAfter;if(!v)continue;if(v.is("element","blockQuote")&&v.isEmpty)return h.remove(v),!0;if(v.is("element","blockQuote")&&!e.checkChild(b.position,v))return h.unwrap(v),!0;if(v.is("element")){const A=h.createRangeIn(v);for(const y of A.getItems())if(y.is("element","blockQuote")&&!e.checkChild(h.createPositionBefore(y),y))return h.unwrap(y),!0}}else if(b.type=="remove"){const v=b.position.parent;if(v.is("element","blockQuote")&&v.isEmpty)return h.remove(v),!0}return!1});const n=this.editor.editing.view.document,o=t.model.document.selection,c=t.commands.get("blockQuote");this.listenTo(n,"enter",(h,m)=>{!o.isCollapsed||!c.value||o.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),m.preventDefault(),h.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(h,m)=>{if(m.direction!="backward"||!o.isCollapsed||!c.value)return;const b=o.getLastPosition().parent;b.isEmpty&&!b.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),m.preventDefault(),h.stop())},{context:"blockquote"})}}var db=u(3062),IE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(db.Z,IE),db.Z.locals;class TE extends dt{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const o=t.commands.get("blockQuote"),c=new Ie(n);return c.set({label:e("Block quote"),icon:qn.quote,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(c,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),c})}}class PE extends dt{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t;e.add("ckfinder",o=>{const c=t.commands.get("ckfinder"),h=new Ie(o);return h.set({label:n("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isEnabled").to(c),h.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),h})}}class OE extends zt{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if(e!="popup"&&e!="modal")throw new w("ckfinder-unknown-openermethod",t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const o=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=c=>{o&&o(c),c.on("files:choose",h=>{const m=h.data.files.toArray(),b=m.filter(y=>!y.isImage()),v=m.filter(y=>y.isImage());for(const y of b)t.execute("link",y.getUrl());const A=[];for(const y of v){const S=y.getUrl();A.push(S||c.request("file:getProxyUrl",{file:y}))}A.length&&ub(t,A)}),c.on("file:choose:resizedImage",h=>{const m=h.data.resizedUrl;if(m)ub(t,[m]);else{const b=t.plugins.get("Notification"),v=t.locale.t;b.showWarning(v("Could not obtain resized image URL."),{title:v("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[e](n)}}function ub(a,t){if(a.commands.get("insertImage").isEnabled)a.execute("insertImage",{source:t});else{const e=a.plugins.get("Notification"),n=a.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class NE extends dt{static get pluginName(){return"CKFinderEditing"}static get requires(){return[hd,"LinkEditing"]}init(){const t=this.editor;if(!t.plugins.has("ImageBlockEditing")&&!t.plugins.has("ImageInlineEditing"))throw new w("ckfinder-missing-image-plugin",t);t.commands.add("ckfinder",new OE(t))}}class BE extends dt{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",yi]}init(){const t=this.editor,e=t.plugins.get("CloudServices"),n=e.token,o=e.uploadUrl;n&&(this._uploadGateway=t.plugins.get("CloudServicesCore").createUploadGateway(n,o),t.plugins.get(yi).createUploadAdapter=c=>new LE(this._uploadGateway,c))}}class LE{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(e,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class zE extends zt{refresh(){const t=this.editor.model,e=xn(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&hb(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(o=>{const c=(t.selection||n.selection).getSelectedBlocks();for(const h of c)!h.is("element","paragraph")&&hb(h,e.schema)&&o.rename(h,"paragraph")})}}function hb(a,t){return t.checkChild(a.parent,"paragraph")&&!t.isObject(a)}class RE extends zt{execute(t){const e=this.editor.model;let n=t.position;e.change(o=>{const c=o.createElement("paragraph");if(!e.schema.checkChild(n.parent,c)){const h=e.schema.findAllowedParent(n,c);if(!h)return;n=o.split(n,h).position}e.insertContent(c,n),o.setSelection(c,"in")})}}class us extends dt{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new zE(t)),t.commands.add("insertParagraph",new RE(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(n,{writer:o})=>us.paragraphLikeElements.has(n.name)?n.isEmpty?null:o.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}us.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class jE extends zt{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=xn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>gb(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,o=t.value;e.change(c=>{const h=Array.from(n.selection.getSelectedBlocks()).filter(m=>gb(m,o,e.schema));for(const m of h)m.is("element",o)||c.rename(m,o)})}}function gb(a,t,e){return e.checkChild(a.parent,t)&&!e.isObject(a)}const Dd="paragraph";class FE extends dt{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[us]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const o of e)o.model!==Dd&&(t.model.schema.register(o.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(o),n.push(o.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new jE(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(o,c)=>{const h=t.model.document.selection.getFirstPosition().parent;n.some(m=>h.is("element",m.model))&&!h.is("element",Dd)&&h.childCount===0&&c.writer.rename(h,Dd)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:C.get("low")+1})}}var fb=u(8733),VE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(fb.Z,VE),fb.Z.locals;class UE extends dt{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,n=function(h){const m=h.t,b={Paragraph:m("Paragraph"),"Heading 1":m("Heading 1"),"Heading 2":m("Heading 2"),"Heading 3":m("Heading 3"),"Heading 4":m("Heading 4"),"Heading 5":m("Heading 5"),"Heading 6":m("Heading 6")};return h.config.get("heading.options").map(v=>{const A=b[v.title];return A&&A!=v.title&&(v.title=A),v})}(t),o=e("Choose heading"),c=e("Heading");t.ui.componentFactory.add("heading",h=>{const m={},b=new Yn,v=t.commands.get("heading"),A=t.commands.get("paragraph"),y=[v];for(const M of n){const O={type:"button",model:new gd({label:M.title,class:M.class,withText:!0})};M.model==="paragraph"?(O.model.bind("isOn").to(A,"value"),O.model.set("commandName","paragraph"),y.push(A)):(O.model.bind("isOn").to(v,"value",N=>N===M.model),O.model.set({commandName:"heading",commandValue:M.model})),b.add(O),m[M.model]=M.title}const S=So(h);return Wp(S,b),S.buttonView.set({isOn:!1,withText:!0,tooltip:c}),S.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),S.bind("isEnabled").toMany(y,"isEnabled",(...M)=>M.some(O=>O)),S.buttonView.bind("label").to(v,"value",A,"value",(M,O)=>{const N=M||O&&"paragraph";return m[N]?m[N]:o}),this.listenTo(S,"execute",M=>{t.execute(M.source.commandName,M.source.commandValue?{value:M.source.commandValue}:void 0),t.editing.view.focus()}),S})}}class ja extends dt{static get requires(){return[Ia]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",n=>{(function(o){const c=o.getSelectedElement();return!(!c||!Le(c))})(t.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:o,balloonClassName:c="ck-toolbar-container"}){if(!n.length)return void x("widget-toolbar-no-items",{toolbarId:t});const h=this.editor,m=h.t,b=new cd(h.locale);if(b.ariaLabel=e||m("Widget toolbar"),this._toolbarDefinitions.has(t))throw new w("widget-toolbar-duplicated",this,{toolbarId:t});b.fillFromConfig(n,h.ui.componentFactory),this._toolbarDefinitions.set(t,{view:b,getRelatedElement:o,balloonClassName:c})}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const o of this._toolbarDefinitions.values()){const c=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&c)if(this.editor.ui.focusTracker.isFocused){const h=c.getAncestors().length;h>t&&(t=h,e=c,n=o)}else this._isToolbarVisible(o)&&this._hideToolbar(o);else this._isToolbarInBalloon(o)&&this._hideToolbar(o)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?pb(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:mb(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const o=n.getRelatedElement(this.editor.editing.view.document.selection);pb(this.editor,o)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function pb(a,t){const e=a.plugins.get("ContextualBalloon"),n=mb(a,t);e.updatePosition(n)}function mb(a,t){const e=a.editing.view,n=Mn.defaultPositions;return{target:e.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class bb{constructor(t){this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}begin(t,e,n){const o=new Jt(e);this.activeHandlePosition=function(h){const m=["top-left","top-right","bottom-right","bottom-left"];for(const b of m)if(h.classList.contains(HE(b)))return b}(t),this._referenceCoordinates=function(h,m){const b=new Jt(h),v=m.split("-"),A={x:v[1]=="right"?b.right:b.left,y:v[0]=="bottom"?b.bottom:b.top};return A.x+=h.ownerDocument.defaultView.scrollX,A.y+=h.ownerDocument.defaultView.scrollY,A}(e,function(h){const m=h.split("-"),b={top:"bottom",bottom:"top",left:"right",right:"left"};return`${b[m[0]]}-${b[m[1]]}`}(this.activeHandlePosition)),this.originalWidth=o.width,this.originalHeight=o.height,this.aspectRatio=o.width/o.height;const c=n.style.width;c&&c.match(/^\d+(\.\d*)?%$/)?this.originalWidthPercents=parseFloat(c):this.originalWidthPercents=function(h,m){const b=h.parentElement,v=parseFloat(b.ownerDocument.defaultView.getComputedStyle(b).width);return m.width/v*100}(n,o)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}function HE(a){return`ck-widget__resizer__handle-${a}`}Ct(bb,me);class $E extends Ot{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",e=>e?`ck-orientation-${e}`:"")],style:{display:t.if("_isVisible","none",e=>!e)}},children:[{text:t.to("_label")}]})}_bindToState(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",(n,o)=>n!==null&&o!==null),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(n,o,c)=>t.unit==="px"?`${n}\xD7${o}`:`${c}%`),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",(n,o,c)=>o<50||c<50?"above-center":n)}_dismiss(){this.unbind(),this._isVisible=!1}}class Md{constructor(t){this._options=t,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",e=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),e.stop())},{priority:"high"}),this.on("change:isEnabled",()=>{this.isEnabled&&this.redraw()})}attach(){const t=this,e=this._options.viewElement;this._options.editor.editing.view.change(n=>{const o=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(c){const h=this.toDomElement(c);return t._appendHandles(h),t._appendSizeUI(h),t.on("change:isEnabled",(m,b,v)=>{h.style.display=v?"":"none"}),h.style.display=t.isEnabled?"":"none",h});n.insert(n.createPositionAt(e,"end"),o),n.addClass("ck-widget_with-resizer",e),this._viewResizerWrapper=o})}begin(t){this.state=new bb(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const e=this._proposeNewSize(t);this._options.editor.editing.view.change(h=>{const m=this._options.unit||"%",b=(m==="%"?e.widthPercents:e.width)+m;h.setStyle("width",b,this._options.viewElement)});const n=this._getHandleHost(),o=new Jt(n);e.handleHostWidth=Math.round(o.width),e.handleHostHeight=Math.round(o.height);const c=new Jt(n);e.width=Math.round(c.width),e.height=Math.round(c.height),this.redraw(o),this.state.update(e)}commit(){const t=this._options.unit||"%",e=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(e)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const e=this._domResizerWrapper;if(!((n=e)&&n.ownerDocument&&n.ownerDocument.contains(n)))return;var n;const o=e.parentElement,c=this._getHandleHost(),h=this._viewResizerWrapper,m=[h.getStyle("width"),h.getStyle("height"),h.getStyle("left"),h.getStyle("top")];let b;if(o.isSameNode(c)){const v=t||new Jt(c);b=[v.width+"px",v.height+"px",void 0,void 0]}else b=[c.offsetWidth+"px",c.offsetHeight+"px",c.offsetLeft+"px",c.offsetTop+"px"];pn(m,b)!=="same"&&this._options.editor.editing.view.change(v=>{v.setStyle({width:b[0],height:b[1],left:b[2],top:b[3]},h)})}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(t){const e=this.state,n={x:(o=t).pageX,y:o.pageY};var o;const c=!this._options.isCentered||this._options.isCentered(this),h={x:e._referenceCoordinates.x-(n.x+e.originalWidth),y:n.y-e.originalHeight-e._referenceCoordinates.y};c&&e.activeHandlePosition.endsWith("-right")&&(h.x=n.x-(e._referenceCoordinates.x+e.originalWidth)),c&&(h.x*=2);const m={width:Math.abs(e.originalWidth+h.x),height:Math.abs(e.originalHeight+h.y)};m.dominant=m.width/e.aspectRatio>m.height?"width":"height",m.max=m[m.dominant];const b={width:m.width,height:m.height};return m.dominant=="width"?b.height=b.width/e.aspectRatio:b.width=b.height*e.aspectRatio,{width:Math.round(b.width),height:Math.round(b.height),widthPercents:Math.min(Math.round(e.originalWidthPercents/e.originalWidth*b.width*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(t){const e=["top-left","top-right","bottom-right","bottom-left"];for(const o of e)t.appendChild(new jn({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(n=o,`ck-widget__resizer__handle-${n}`)}}).render());var n}_appendSizeUI(t){this._sizeView=new $E,this._sizeView.render(),t.appendChild(this._sizeView.element)}}Ct(Md,me);var kb=u(8506),WE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(kb.Z,WE),kb.Z.locals,Ct(class extends dt{static get pluginName(){return"WidgetResize"}init(){const a=this.editor.editing,t=Be.window.document;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,a.view.addObserver(Pa),this._observer=Object.create(sr),this.listenTo(a.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this));const e=()=>{this.visibleResizer&&this.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=Lm(e,200),this.on("change:visibleResizer",e),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[o,c]of this._resizers)o.isAttached()||(this._resizers.delete(o),c.destroy())},{priority:"lowest"}),this._observer.listenTo(Be.window,"resize",this._redrawFocusedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const o=n.getSelectedElement();this.visibleResizer=this.getResizerByViewElement(o)||null})}destroy(){this._observer.stopListening();for(const a of this._resizers.values())a.destroy();this._redrawFocusedResizerThrottled.cancel()}attachTo(a){const t=new Md(a),e=this.editor.plugins;if(t.attach(),e.has("WidgetToolbarRepository")){const o=e.get("WidgetToolbarRepository");t.on("begin",()=>{o.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{o.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{o.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(a.viewElement,t);const n=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(n)==t&&(this.visibleResizer=t),t}getResizerByViewElement(a){return this._resizers.get(a)}_getResizerByHandle(a){for(const t of this._resizers.values())if(t.containsHandle(a))return t}_mouseDownListener(a,t){const e=t.domTarget;Md.isResizeHandle(e)&&(this._activeResizer=this._getResizerByHandle(e),this._activeResizer&&(this._activeResizer.begin(e),a.stop(),t.preventDefault()))}_mouseMoveListener(a,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}},me);class GE extends zt{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,n=e.plugins.get("ImageUtils"),o=e.model,c=n.getClosestSelectedImageElement(o.document.selection);o.change(h=>{h.setAttribute("alt",t.newValue,c)})}}function wb(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot()])}function vb(a,t){if(a.plugins.has("ImageInlineEditing")!==a.plugins.has("ImageBlockEditing"))return{name:"img"};const e=a.plugins.get("ImageUtils");return n=>e.isInlineImageView(n)?(n.findAncestor(e.isBlockImageView)?"imageBlock":"imageInline")!==t?null:{name:!0}:null}function Id(a,t){const e=xn(t.getSelectedBlocks());return!e||a.isObject(e)||e.isEmpty&&e.name!="listItem"?"imageBlock":"imageInline"}class xi extends dt{static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,n=null){const o=this.editor,c=o.model,h=c.document.selection;n=Cb(o,e||h,n),t={...Object.fromEntries(h.getAttributes()),...t};for(const m in t)c.schema.checkAttribute(n,m)||delete t[m];return c.change(m=>{const b=m.createElement(n,t);return e||n=="imageInline"||(e=cs(h,c)),c.insertContent(b,e),b.parent?(m.setSelection(b,"on"),b):null})}getClosestSelectedImageWidget(t){const e=t.getSelectedElement();if(e&&this.isImageWidget(e))return e;let n=t.getFirstPosition().parent;for(;n;){if(n.is("element")&&this.isImageWidget(n))return n;n=n.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return function(e,n){if(Cb(e,n)=="imageBlock"){const o=function(c,h){const m=cs(c,h).start.parent;return m.isEmpty&&!m.is("element","$root")?m.parent:m}(n,e.model);if(e.model.schema.checkChild(o,"imageBlock"))return!0}else if(e.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(e){return[...e.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(t)}toImageWidget(t,e,n){return e.setCustomProperty("image",!0,t),vd(t,e,{label:()=>{const o=this.findViewImgElement(t).getAttribute("alt");return o?`${o} ${n}`:n}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Le(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:n}of e.createRangeIn(t))if(this.isInlineImageView(n))return n}}function Cb(a,t,e){const n=a.model.schema,o=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?e||(o==="inline"?"imageInline":o==="block"?"imageBlock":t.is("selection")?Id(n,t):n.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class YE extends dt{static get requires(){return[xi]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new GE(this.editor))}}var _b=u(1905),KE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(_b.Z,KE),_b.Z.locals;var Ab=u(6764),QE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Ab.Z,QE),Ab.Z.locals;class ZE extends Ot{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Qn,this.keystrokes=new Bi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),qn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),qn.cancel,"ck-button-cancel","cancel"),this._focusables=new Eo,this._focusCycler=new hr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),nd(this)}render(){super.render(),this.keystrokes.listenTo(this.element),id({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,o){const c=new Ie(this.locale);return c.set({label:t,icon:e,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),o&&c.delegate("execute").to(this,o),c}_createLabeledInputView(){const t=this.locale.t,e=new dd(this.locale,ud);return e.label=t("Text alternative"),e}}function yb(a){const t=a.editing.view,e=Mn.defaultPositions,n=a.plugins.get("ImageUtils");return{target:t.domConverter.viewToDom(n.getClosestSelectedImageWidget(t.document.selection)),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.viewportStickyNorth]}}class qE extends dt{static get requires(){return[Ia]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const o=t.commands.get("imageTextAlternative"),c=new Ie(n);return c.set({label:e("Change image text alternative"),icon:qn.lowVision,tooltip:!0}),c.bind("isEnabled").to(o,"isEnabled"),this.listenTo(c,"execute",()=>{this._showForm()}),c})}_createForm(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new ZE(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(o,c)=>{this._hideForm(!0),c()}),this.listenTo(t.ui,"update",()=>{n.getClosestSelectedImageWidget(e.selection)?this._isVisible&&function(o){const c=o.plugins.get("ContextualBalloon");if(o.plugins.get("ImageUtils").getClosestSelectedImageWidget(o.editing.view.document.selection)){const h=yb(o);c.updatePosition(h)}}(t):this._hideForm(!0)}),ed({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:yb(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class xb extends dt{static get requires(){return[YE,qE]}static get pluginName(){return"ImageTextAlternative"}}function Eb(a,t){return n=>{n.on(`attribute:srcset:${t}`,e)};function e(n,o,c){if(!c.consumable.consume(o.item,n.name))return;const h=c.writer,m=c.mapper.toViewElement(o.item),b=a.findViewImgElement(m);if(o.attributeNewValue===null){const v=o.attributeOldValue;v.data&&(h.removeAttribute("srcset",b),h.removeAttribute("sizes",b),v.width&&h.removeAttribute("width",b))}else{const v=o.attributeNewValue;v.data&&(h.setAttribute("srcset",v.data,b),h.setAttribute("sizes","100vw",b),v.width&&h.setAttribute("width",v.width,b))}}}function Fa(a,t,e){return o=>{o.on(`attribute:${e}:${t}`,n)};function n(o,c,h){if(!h.consumable.consume(c.item,o.name))return;const m=h.writer,b=h.mapper.toViewElement(c.item),v=a.findViewImgElement(b);m.setAttribute(c.attributeKey,c.attributeNewValue||"",v)}}class XE extends Ni{observe(t){this.listenTo(t,"load",(e,n)=>{const o=n.target;this.checkShouldIgnoreEventFromTarget(o)||o.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class JE extends zt{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||e==="block"&&x("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||e==="inline"&&x("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(t){const e=tn(t.source),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());e.forEach((h,m)=>{const b=n.getSelectedElement();if(typeof h=="string"&&(h={src:h}),m&&b&&o.isImage(b)){const v=this.editor.model.createPositionAfter(b);o.insertImage({...h,...c},v)}else o.insertImage({...h,...c})})}}class Sb extends dt{static get requires(){return[xi]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(XE),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:o=>{const c={data:o.getAttribute("srcset")};return o.hasAttribute("width")&&(c.width=o.getAttribute("width")),c}}});const n=new JE(t);t.commands.add("insertImage",n),t.commands.add("imageInsert",n)}}class Db extends zt{constructor(t,e){super(t),this._modelElementName=e}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(e):this.isEnabled=t.isBlockImage(e)}execute(){const t=this.editor,e=this.editor.model,n=t.plugins.get("ImageUtils"),o=n.getClosestSelectedImageElement(e.document.selection),c=Object.fromEntries(o.getAttributes());return c.src||c.uploadId?e.change(h=>{const m=Array.from(e.markers).filter(A=>A.getRange().containsItem(o)),b=n.insertImage(c,e.createSelection(o,"on"),this._modelElementName);if(!b)return null;const v=h.createRangeOn(b);for(const A of m){const y=A.getRange(),S=y.root.rootName!="$graveyard"?y.getJoined(v,!0):v;h.updateMarker(A,{range:S})}return{oldElement:o,newElement:b}}):null}}class Mb extends dt{static get requires(){return[Sb,xi,Ai]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new Db(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:h})=>wb(h)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:h})=>o.toImageWidget(wb(h),h,e("image widget"))}),n.for("downcast").add(Fa(o,"imageBlock","src")).add(Fa(o,"imageBlock","alt")).add(Eb(o,"imageBlock")),n.for("upcast").elementToElement({view:vb(t,"imageBlock"),model:(c,{writer:h})=>h.createElement("imageBlock",c.hasAttribute("src")?{src:c.getAttribute("src")}:null)}).add(function(c){return m=>{m.on("element:figure",h)};function h(m,b,v){if(!v.consumable.test(b.viewItem,{name:!0,classes:"image"}))return;const A=c.findViewImgElement(b.viewItem);if(!A||!v.consumable.test(A,{name:!0}))return;v.consumable.consume(b.viewItem,{name:!0,classes:"image"});const y=xn(v.convertItem(A,b.modelCursor).modelRange.getItems());y?(v.convertChildren(b.viewItem,y),v.updateConversionResult(y,b)):v.consumable.revert(b.viewItem,{name:!0,classes:"image"})}}(o))}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(c,h)=>{const m=Array.from(h.content.getChildren());let b;if(!m.every(o.isInlineImageView))return;b=h.targetRanges?t.editing.mapper.toModelRange(h.targetRanges[0]):e.document.selection.getFirstRange();const v=e.createSelection(b);if(Id(e.schema,v)==="imageBlock"){const A=new fr(n.document),y=m.map(S=>A.createElement("figure",{class:"image"},S));h.content=A.createDocumentFragment(y)}})}}var Ib=u(3508),tS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Ib.Z,tS),Ib.Z.locals;class eS extends dt{static get requires(){return[Mb,ds,xb]}static get pluginName(){return"ImageBlock"}}class nS extends dt{static get requires(){return[Sb,xi,Ai]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,e=t.model.schema;e.register("imageInline",{isObject:!0,isInline:!0,allowWhere:"$text",allowAttributesOf:"$text",allowAttributes:["alt","src","srcset"]}),e.addChildCheck((n,o)=>{if(n.endsWith("caption")&&o.name==="imageInline")return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new Db(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(c,{writer:h})=>h.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(c,{writer:h})=>o.toImageWidget(function(m){return m.createContainerElement("span",{class:"image-inline"},m.createEmptyElement("img"),{isAllowedInsideAttributeElement:!0})}(h),h,e("image widget"))}),n.for("downcast").add(Fa(o,"imageInline","src")).add(Fa(o,"imageInline","alt")).add(Eb(o,"imageInline")),n.for("upcast").elementToElement({view:vb(t,"imageInline"),model:(c,{writer:h})=>h.createElement("imageInline",c.hasAttribute("src")?{src:c.getAttribute("src")}:null)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(c,h)=>{const m=Array.from(h.content.getChildren());let b;if(!m.every(o.isBlockImageView))return;b=h.targetRanges?t.editing.mapper.toModelRange(h.targetRanges[0]):e.document.selection.getFirstRange();const v=e.createSelection(b);if(Id(e.schema,v)==="imageInline"){const A=new fr(n.document),y=m.map(S=>S.childCount===1?(Array.from(S.getAttributes()).forEach(M=>A.setAttribute(...M,o.findViewImgElement(S))),S.getChild(0)):S);h.content=A.createDocumentFragment(y)}})}}class iS extends dt{static get requires(){return[nS,ds,xb]}static get pluginName(){return"ImageInline"}}class oS extends zt{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils");if(!t.plugins.has(Mb))return this.isEnabled=!1,void(this.value=!1);const n=t.model.document.selection,o=n.getSelectedElement();if(!o){const c=e.getCaptionFromModelSelection(n);return this.isEnabled=!!c,void(this.value=!!c)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(o),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(o):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,e)})}_showImageCaption(t,e){const n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageCaptionEditing");let c=n.getSelectedElement();const h=o._getSavedCaption(c);this.editor.plugins.get("ImageUtils").isInlineImage(c)&&(this.editor.execute("imageTypeBlock"),c=n.getSelectedElement());const m=h||t.createElement("caption");t.append(m,c),e&&t.setSelection(m,"in")}_hideImageCaption(t){const e=this.editor,n=e.model.document.selection,o=e.plugins.get("ImageCaptionEditing"),c=e.plugins.get("ImageCaptionUtils");let h,m=n.getSelectedElement();m?h=c.getCaptionFromImageModelElement(m):(h=c.getCaptionFromModelSelection(n),m=h.parent),o._saveCaption(m,h),t.setSelection(m,"on"),t.remove(h)}}class Tb extends dt{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[xi]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),n=t.getFirstPosition().findAncestor("caption");return n&&e.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&e.isBlockImageView(t.parent)?{name:!0}:null}}class rS extends dt{static get requires(){return[xi,Tb]}static get pluginName(){return"ImageCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new oS(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration()}_setupConversion(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),o=t.plugins.get("ImageCaptionUtils"),c=t.t;t.conversion.for("upcast").elementToElement({view:h=>o.matchImageCaptionViewElement(h),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(h,{writer:m})=>n.isBlockImage(h.parent)?m.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(h,{writer:m})=>{if(!n.isBlockImage(h.parent))return null;const b=m.createEditableElement("figcaption");return m.setCustomProperty("imageCaption",!0,b),sm({view:e,element:b,text:c("Enter image caption"),keepOnFocus:!0}),Sm(b,m)}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.plugins.get("ImageCaptionUtils"),o=t.commands.get("imageTypeInline"),c=t.commands.get("imageTypeBlock"),h=m=>{if(!m.return)return;const{oldElement:b,newElement:v}=m.return;if(!b)return;if(e.isBlockImage(b)){const y=n.getCaptionFromImageModelElement(b);if(y)return void this._saveCaption(v,y)}const A=this._getSavedCaption(b);A&&this._saveCaption(v,A)};o&&this.listenTo(o,"execute",h,{priority:"low"}),c&&this.listenTo(c,"execute",h,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?te.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}}class sS extends dt{static get requires(){return[Tb]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageCaptionUtils"),o=t.t;t.ui.componentFactory.add("toggleImageCaption",c=>{const h=t.commands.get("toggleImageCaption"),m=new Ie(c);return m.set({icon:qn.caption,tooltip:!0,isToggleable:!0}),m.bind("isOn","isEnabled").to(h,"value","isEnabled"),m.bind("label").to(h,"value",b=>o(b?"Toggle caption off":"Toggle caption on")),this.listenTo(m,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const b=n.getCaptionFromModelSelection(t.model.document.selection);if(b){const v=t.editing.mapper.toViewElement(b);e.scrollToTheSelection(),e.change(A=>{A.addClass("image__caption_highlighted",v)})}}),m})}}var Pb=u(2640),aS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Pb.Z,aS),Pb.Z.locals;class lS extends zt{constructor(t,e){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map(n=>{if(n.isDefault)for(const o of n.modelElements)this._defaultStyles[o]=n.name;return[n.name,n]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const e=this.editor,n=e.model,o=e.plugins.get("ImageUtils");n.change(c=>{const h=t.value;let m=o.getClosestSelectedImageElement(n.document.selection);h&&this.shouldConvertImageType(h,m)&&(this.editor.execute(o.isBlockImage(m)?"imageTypeInline":"imageTypeBlock"),m=o.getClosestSelectedImageElement(n.document.selection)),!h||this._styles.get(h).isDefault?c.removeAttribute("imageStyle",m):c.setAttribute("imageStyle",h,m)})}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}const{objectFullWidth:cS,objectInline:Ob,objectLeft:Nb,objectRight:Td,objectCenter:Pd,objectBlockLeft:Bb,objectBlockRight:Lb}=qn,Va={get inline(){return{name:"inline",title:"In line",icon:Ob,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Nb,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Bb,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Pd,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Td,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Lb,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Pd,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Td,modelElements:["imageBlock"],className:"image-style-side"}}},zb={full:cS,left:Bb,right:Lb,center:Pd,inlineLeft:Nb,inlineRight:Td,inline:Ob},Rb=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function jb(a){x("image-style-configuration-definition-invalid",a)}const Od={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(t=>function(e){return e=typeof e=="string"?Va[e]?{...Va[e]}:{name:e}:function(n,o){const c={...o};for(const h in n)Object.prototype.hasOwnProperty.call(o,h)||(c[h]=n[h]);return c}(Va[e.name],e),typeof e.icon=="string"&&(e.icon=zb[e.icon]||e.icon),e}(t)).filter(t=>function(e,{isBlockPluginLoaded:n,isInlinePluginLoaded:o}){const{modelElements:c,name:h}=e;if(!(c&&c.length&&h))return jb({style:e}),!1;{const m=[n?"imageBlock":null,o?"imageInline":null];if(!c.some(b=>m.includes(b)))return x("image-style-missing-dependency",{style:e,missingPlugins:c.map(b=>b==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(t,a))},getDefaultStylesConfiguration:function(a,t){return a&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...Rb]:[]},warnInvalidStyle:jb,DEFAULT_OPTIONS:Va,DEFAULT_ICONS:zb,DEFAULT_DROPDOWN_DEFINITIONS:Rb};function Fb(a,t){for(const e of t)if(e.name===a)return e}class Vb extends dt{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[xi]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=Od,n=this.editor,o=n.plugins.has("ImageBlockEditing"),c=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(o,c)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:o,isInlinePluginLoaded:c}),this._setupConversion(o,c),this._setupPostFixer(),n.commands.add("imageStyle",new lS(n,this.normalizedStyles))}_setupConversion(t,e){const n=this.editor,o=n.model.schema,c=(h=this.normalizedStyles,(b,v,A)=>{if(!A.consumable.consume(v.item,b.name))return;const y=Fb(v.attributeNewValue,h),S=Fb(v.attributeOldValue,h),M=A.mapper.toViewElement(v.item),O=A.writer;S&&O.removeClass(S.className,M),y&&O.addClass(y.className,M)});var h;const m=function(b){const v={imageInline:b.filter(A=>!A.isDefault&&A.modelElements.includes("imageInline")),imageBlock:b.filter(A=>!A.isDefault&&A.modelElements.includes("imageBlock"))};return(A,y,S)=>{if(!y.modelRange)return;const M=y.viewItem,O=xn(y.modelRange.getItems());if(O&&S.schema.checkAttribute(O,"imageStyle"))for(const N of v[O.name])S.consumable.consume(M,{classes:N.className})&&S.writer.setAttribute("imageStyle",N.name,O)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",c),n.data.downcastDispatcher.on("attribute:imageStyle",c),t&&(o.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",m,{priority:"low"})),e&&(o.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",m,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,n=t.plugins.get(xi),o=new Map(this.normalizedStyles.map(c=>[c.name,c]));e.registerPostFixer(c=>{let h=!1;for(const m of e.differ.getChanges())if(m.type=="insert"||m.type=="attribute"&&m.attributeKey=="imageStyle"){let b=m.type=="insert"?m.position.nodeAfter:m.range.start.nodeAfter;if(b&&b.is("element","paragraph")&&b.childCount>0&&(b=b.getChild(0)),!n.isImage(b))continue;const v=b.getAttribute("imageStyle");if(!v)continue;const A=o.get(v);A&&A.modelElements.includes(b.name)||(c.removeAttribute("imageStyle",b),h=!0)}return h})}}var Ub=u(5083),dS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Ub.Z,dS),Ub.Z.locals;class uS extends dt{static get requires(){return[Vb]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=Hb(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const c of n)this._createButton(c);const o=Hb([...e.filter(J),...Od.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const c of o)this._createDropdown(c,n)}_createDropdown(t,e){const n=this.editor.ui.componentFactory;n.add(t.name,o=>{let c;const{defaultItem:h,items:m,title:b}=t,v=m.filter(S=>e.find(({name:M})=>$b(M)===S)).map(S=>{const M=n.create(S);return S===h&&(c=M),M});m.length!==v.length&&Od.warnInvalidStyle({dropdown:t});const A=So(o,Op),y=A.buttonView;return $p(A,v),y.set({label:Wb(b,c.label),class:null,tooltip:!0}),y.bind("icon").toMany(v,"isOn",(...S)=>{const M=S.findIndex(Ln);return M<0?c.icon:v[M].icon}),y.bind("label").toMany(v,"isOn",(...S)=>{const M=S.findIndex(Ln);return Wb(b,M<0?c.label:v[M].label)}),y.bind("isOn").toMany(v,"isOn",(...S)=>S.some(Ln)),y.bind("class").toMany(v,"isOn",(...S)=>S.some(Ln)?"ck-splitbutton_flatten":null),y.on("execute",()=>{v.some(({isOn:S})=>S)?A.isOpen=!A.isOpen:c.fire("execute")}),A.bind("isEnabled").toMany(v,"isEnabled",(...S)=>S.some(Ln)),A})}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add($b(e),n=>{const o=this.editor.commands.get("imageStyle"),c=new Ie(n);return c.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(o,"isEnabled"),c.bind("isOn").to(o,"value",h=>h===e),c.on("execute",this._executeCommand.bind(this,e)),c})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function Hb(a,t){for(const e of a)t[e.title]&&(e.title=t[e.title]);return a}function $b(a){return`imageStyle:${a}`}function Wb(a,t){return(a?a+": ":"")+t}function Gb(a){const t=a.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function hS(a){return new Promise((t,e)=>{const n=a.getAttribute("src");fetch(n).then(o=>o.blob()).then(o=>{const c=Yb(o,n),h=c.replace("image/",""),m=new File([o],`image.${h}`,{type:c});t(m)}).catch(o=>o&&o.name==="TypeError"?function(c){return function(h){return new Promise((m,b)=>{const v=Be.document.createElement("img");v.addEventListener("load",()=>{const A=Be.document.createElement("canvas");A.width=v.width,A.height=v.height,A.getContext("2d").drawImage(v,0,0),A.toBlob(y=>y?m(y):b())}),v.addEventListener("error",()=>b()),v.src=h})}(c).then(h=>{const m=Yb(h,c),b=m.replace("image/","");return new File([h],`image.${b}`,{type:m})})}(n).then(t).catch(e):e(o))})}function Yb(a,t){return a.type?a.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class gS extends dt{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,e=t.t,n=o=>{const c=new vE(o),h=t.commands.get("uploadImage"),m=t.config.get("image.upload.types"),b=Gb(m);return c.set({acceptedType:m.map(v=>`image/${v}`).join(","),allowMultipleFiles:!0}),c.buttonView.set({label:e("Insert image"),icon:qn.image,tooltip:!0}),c.buttonView.bind("isEnabled").to(h),c.on("done",(v,A)=>{const y=Array.from(A).filter(S=>b.test(S.type));y.length&&t.execute("uploadImage",{file:y})}),c};t.ui.componentFactory.add("uploadImage",n),t.ui.componentFactory.add("imageUpload",n)}}var Kb=u(3689),fS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Kb.Z,fS),Kb.Z.locals;var Qb=u(4036),pS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Qb.Z,pS),Qb.Z.locals;var Zb=u(3773),mS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Zb.Z,mS),Zb.Z.locals;class bS extends dt{static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...e)=>this.uploadStatusChange(...e)),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(t,e,n){const o=this.editor,c=e.item,h=c.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const m=o.plugins.get("ImageUtils"),b=o.plugins.get(yi),v=h?e.attributeNewValue:null,A=this.placeholder,y=o.editing.mapper.toViewElement(c),S=n.writer;if(v=="reading")return qb(y,S),void Xb(m,A,y,S);if(v=="uploading"){const M=b.loaders.get(h);return qb(y,S),void(M?(Jb(y,S),function(O,N,L,j){const W=function(tt){const ft=tt.createUIElement("div",{class:"ck-progress-bar"});return tt.setCustomProperty("progressBar",!0,ft),ft}(N);N.insert(N.createPositionAt(O,"end"),W),L.on("change:uploadedPercent",(tt,ft,At)=>{j.change(ae=>{ae.setStyle("width",At+"%",W)})})}(y,S,M,o.editing.view),function(O,N,L,j){if(j.data){const W=O.findViewImgElement(N);L.setAttribute("src",j.data,W)}}(m,y,S,M)):Xb(m,A,y,S))}v=="complete"&&b.loaders.get(h)&&function(M,O,N){const L=O.createUIElement("div",{class:"ck-image-upload-complete-icon"});O.insert(O.createPositionAt(M,"end"),L),setTimeout(()=>{N.change(j=>j.remove(j.createRangeOn(L)))},3e3)}(y,S,o.editing.view),function(M,O){ek(M,O,"progressBar")}(y,S),Jb(y,S),function(M,O){O.removeClass("ck-appear",M)}(y,S)}}function qb(a,t){a.hasClass("ck-appear")||t.addClass("ck-appear",a)}function Xb(a,t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const o=a.findViewImgElement(e);o.getAttribute("src")!==t&&n.setAttribute("src",t,o),tk(e,"placeholder")||n.insert(n.createPositionAfter(o),function(c){const h=c.createUIElement("div",{class:"ck-upload-placeholder-loader"});return c.setCustomProperty("placeholder",!0,h),h}(n))}function Jb(a,t){a.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",a),ek(a,t,"placeholder")}function tk(a,t){for(const e of a.getChildren())if(e.getCustomProperty(t))return e}function ek(a,t,e){const n=tk(a,e);n&&t.remove(t.createRangeOn(n))}class kS extends zt{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}execute(t){const e=tn(t.file),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());e.forEach((h,m)=>{const b=n.getSelectedElement();if(m&&b&&o.isImage(b)){const v=this.editor.model.createPositionAfter(b);this._uploadImage(h,c,v)}else this._uploadImage(h,c)})}_uploadImage(t,e,n){const o=this.editor,c=o.plugins.get(yi).createLoader(t),h=o.plugins.get("ImageUtils");c&&h.insertImage({...e,uploadId:c.id},n)}}class wS extends dt{static get requires(){return[yi,hd,Ai,xi]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,e=t.model.document,n=t.conversion,o=t.plugins.get(yi),c=t.plugins.get("ImageUtils"),h=Gb(t.config.get("image.upload.types")),m=new kS(t);t.commands.add("uploadImage",m),t.commands.add("imageUpload",m),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(b,v)=>{if(A=v.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const y=Array.from(v.dataTransfer.files).filter(S=>!!S&&h.test(S.type));y.length&&(b.stop(),t.model.change(S=>{v.targetRanges&&S.setSelection(v.targetRanges.map(M=>t.editing.mapper.toModelRange(M))),t.model.enqueueChange(()=>{t.execute("uploadImage",{file:y})})}))}),this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(b,v)=>{const A=Array.from(t.editing.view.createRangeIn(v.content)).filter(S=>function(M,O){return!(!M.isInlineImageView(O)||!O.getAttribute("src"))&&(O.getAttribute("src").match(/^data:image\/\w+;base64,/g)||O.getAttribute("src").match(/^blob:/g))}(c,S.item)&&!S.item.getAttribute("uploadProcessed")).map(S=>({promise:hS(S.item),imageElement:S.item}));if(!A.length)return;const y=new fr(t.editing.view.document);for(const S of A){y.setAttribute("uploadProcessed",!0,S.imageElement);const M=o.createLoader(S.promise);M&&(y.setAttribute("src","",S.imageElement),y.setAttribute("uploadId",M.id,S.imageElement))}}),t.editing.view.document.on("dragover",(b,v)=>{v.preventDefault()}),e.on("change",()=>{const b=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),v=new Set;for(const A of b)if(A.type=="insert"&&A.name!="$text"){const y=A.position.nodeAfter,S=A.position.root.rootName=="$graveyard";for(const M of vS(t,y)){const O=M.getAttribute("uploadId");if(!O)continue;const N=o.loaders.get(O);N&&(S?v.has(O)||N.abort():(v.add(O),this._uploadImageElements.set(O,M),N.status=="idle"&&this._readAndUpload(N)))}}}),this.on("uploadComplete",(b,{imageElement:v,data:A})=>{const y=A.urls?A.urls:A;this.editor.model.change(S=>{S.setAttribute("src",y.default,v),this._parseAndSetSrcsetAttributeOnImage(y,v,S)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const e=this.editor,n=e.model,o=e.locale.t,c=e.plugins.get(yi),h=e.plugins.get(hd),m=e.plugins.get("ImageUtils"),b=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},A=>{A.setAttribute("uploadStatus","reading",b.get(t.id))}),t.read().then(()=>{const A=t.upload(),y=b.get(t.id);if(se.isSafari){const S=e.editing.mapper.toViewElement(y),M=m.findViewImgElement(S);e.editing.view.once("render",()=>{if(!M.parent)return;const O=e.editing.view.domConverter.mapViewToDom(M.parent);if(!O)return;const N=O.style.display;O.style.display="none",O._ckHack=O.offsetHeight,O.style.display=N})}return n.enqueueChange({isUndoable:!1},S=>{S.setAttribute("uploadStatus","uploading",y)}),A}).then(A=>{n.enqueueChange({isUndoable:!1},y=>{const S=b.get(t.id);y.setAttribute("uploadStatus","complete",S),this.fire("uploadComplete",{data:A,imageElement:S})}),v()}).catch(A=>{if(t.status!=="error"&&t.status!=="aborted")throw A;t.status=="error"&&A&&h.showWarning(A,{title:o("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},y=>{y.remove(b.get(t.id))}),v()});function v(){n.enqueueChange({isUndoable:!1},A=>{const y=b.get(t.id);A.removeAttribute("uploadId",y),A.removeAttribute("uploadStatus",y),b.delete(t.id)}),c.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let o=0;const c=Object.keys(t).filter(h=>{const m=parseInt(h,10);if(!isNaN(m))return o=Math.max(o,m),!0}).map(h=>`${t[h]} ${h}w`).join(", ");c!=""&&n.setAttribute("srcset",{data:c,width:o},e)}}function vS(a,t){const e=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(t)).filter(n=>e.isImage(n.item)).map(n=>n.item)}class CS extends dt{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Dh(t)),t.commands.add("outdent",new Dh(t))}}const nk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ik='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class _S extends dt{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,o=e.uiLanguageDirection=="ltr"?nk:ik,c=e.uiLanguageDirection=="ltr"?ik:nk;this._defineButton("indent",n("Increase indent"),o),this._defineButton("outdent",n("Decrease indent"),c)}_defineButton(t,e,n){const o=this.editor;o.ui.componentFactory.add(t,c=>{const h=o.commands.get(t),m=new Ie(c);return m.set({label:e,icon:n,tooltip:!0}),m.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(m,"execute",()=>{o.execute(t),o.editing.view.focus()}),m})}}class AS{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,n,o)=>{if(!o.consumable.test(n.item,"attribute:linkHref"))return;const c=o.writer,h=c.document.selection;for(const m of this._definitions){const b=c.createAttributeElement("a",m.attributes,{priority:5});m.classes&&c.addClass(m.classes,b);for(const v in m.styles)c.setStyle(v,m.styles[v],b);c.setCustomProperty("link",!0,b),m.callback(n.attributeNewValue)?n.item.is("selection")?c.wrap(h.getFirstRange(),b):c.wrap(o.mapper.toViewRange(n.range),b):c.unwrap(o.mapper.toViewRange(n.range),b)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,n,{writer:o,mapper:c})=>{const h=c.toViewElement(n.item),m=Array.from(h.getChildren()).find(b=>b.name==="a");for(const b of this._definitions){const v=Oi(b.attributes);if(b.callback(n.attributeNewValue)){for(const[A,y]of v)A==="class"?o.addClass(y,m):o.setAttribute(A,y,m);b.classes&&o.addClass(b.classes,m);for(const A in b.styles)o.setStyle(A,b.styles[A],m)}else{for(const[A,y]of v)A==="class"?o.removeClass(y,m):o.removeAttribute(A,m);b.classes&&o.removeClass(b.classes,m);for(const A in b.styles)o.removeStyle(A,m)}}})}}}const yS=function(a,t,e){var n=a.length;return e=e===void 0?n:e,!t&&e>=n?a:hg(a,t,e)};var xS=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const ok=function(a){return xS.test(a)},ES=function(a){return a.split("")};var SS="[\\ud800-\\udfff]",Nd="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Bd="\\ud83c[\\udffb-\\udfff]",rk="[^\\ud800-\\udfff]",sk="(?:\\ud83c[\\udde6-\\uddff]){2}",ak="[\\ud800-\\udbff][\\udc00-\\udfff]",lk="(?:"+Nd+"|"+Bd+")?",ck="[\\ufe0e\\ufe0f]?",DS=ck+lk+("(?:\\u200d(?:"+[rk,sk,ak].join("|")+")"+ck+lk+")*"),MS="(?:"+[rk+Nd+"?",Nd,sk,ak,SS].join("|")+")",IS=RegExp(Bd+"(?="+Bd+")|"+MS+DS,"g");const TS=function(a){return a.match(IS)||[]},PS=function(a){return ok(a)?TS(a):ES(a)},OS=function(a){return function(t){t=wc(t);var e=ok(t)?PS(t):void 0,n=e?e[0]:t.charAt(0),o=e?yS(e,1).join(""):t.slice(1);return n[a]()+o}}("toUpperCase"),NS=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,BS=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,LS=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,zS=/^((\w+:(\/{2,})?)|(\W))/i,Ld="Ctrl+K";function dk(a,{writer:t}){const e=t.createAttributeElement("a",{href:a},{priority:5});return t.setCustomProperty("link",!0,e),e}function uk(a){return function(t){return t.replace(NS,"").match(BS)}(a=String(a))?a:"#"}function zd(a,t){return!!a&&t.checkAttribute(a.name,"linkHref")}function hk(a,t){const e=(n=a,LS.test(n)?"mailto:":t);var n;const o=!!e&&!zS.test(a);return a&&o?e+a:a}function gk(a){window.open(a,"_blank","noopener")}class RS extends zt{constructor(t){super(t),this.manualDecorators=new Yn,this.automaticDecorators=new AS}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||xn(e.getSelectedBlocks());zd(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const o of this.manualDecorators)o.value=this._getDecoratorStateFromModel(o.id)}execute(t,e={}){const n=this.editor.model,o=n.document.selection,c=[],h=[];for(const m in e)e[m]?c.push(m):h.push(m);n.change(m=>{if(o.isCollapsed){const b=o.getFirstPosition();if(o.hasAttribute("linkHref")){const v=mr(b,"linkHref",o.getAttribute("linkHref"),n);m.setAttribute("linkHref",t,v),c.forEach(A=>{m.setAttribute(A,!0,v)}),h.forEach(A=>{m.removeAttribute(A,v)}),m.setSelection(m.createPositionAfter(v.end.nodeBefore))}else if(t!==""){const v=Oi(o.getAttributes());v.set("linkHref",t),c.forEach(y=>{v.set(y,!0)});const{end:A}=n.insertContent(m.createText(t,v),b);m.setSelection(A)}["linkHref",...c,...h].forEach(v=>{m.removeSelectionAttribute(v)})}else{const b=n.schema.getValidRanges(o.getRanges(),"linkHref"),v=[];for(const y of o.getSelectedBlocks())n.schema.checkAttribute(y,"linkHref")&&v.push(m.createRangeOn(y));const A=v.slice();for(const y of b)this._isRangeToUpdate(y,v)&&A.push(y);for(const y of A)m.setAttribute("linkHref",t,y),c.forEach(S=>{m.setAttribute(S,!0,y)}),h.forEach(S=>{m.removeAttribute(S,y)})}})}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,o=n.getSelectedElement();return zd(o,e.schema)?o.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}}class jS extends zt{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();zd(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,o=t.commands.get("link");e.change(c=>{const h=n.isCollapsed?[mr(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const m of h)if(c.removeAttribute("linkHref",m),o)for(const b of o.manualDecorators)c.removeAttribute(b.id,m)})}}class fk{constructor({id:t,label:e,attributes:n,classes:o,styles:c,defaultValue:h}){this.id=t,this.set("value"),this.defaultValue=h,this.label=e,this.attributes=n,this.classes=o,this.styles=c}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}Ct(fk,me);var pk=u(9773),FS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(pk.Z,FS),pk.Z.locals;const mk="automatic",VS=/^(https?:)?\/\//;class US extends dt{static get pluginName(){return"LinkEditing"}static get requires(){return[Qm,Ym,Ai]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:dk}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(n,o)=>dk(uk(n),o)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:n=>n.getAttribute("href")}}),t.commands.add("link",new RS(t)),t.commands.add("unlink",new jS(t));const e=function(n,o){const c={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return o.forEach(h=>(h.label&&c[h.label]&&(h.label=c[h.label]),h)),o}(t.t,function(n){const o=[];if(n)for(const[c,h]of Object.entries(n)){const m=Object.assign({},h,{id:`link${OS(c)}`});o.push(m)}return o}(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter(n=>n.mode===mk)),this._enableManualDecorators(e.filter(n=>n.mode==="manual")),t.plugins.get(Qm).registerAttribute("linkHref"),function(n,o,c,h){const m=n.editing.view,b=new Set;m.document.registerPostFixer(v=>{const A=n.model.document.selection;let y=!1;if(A.hasAttribute(o)){const S=mr(A.getFirstPosition(),o,A.getAttribute(o),n.model),M=n.editing.mapper.toViewRange(S);for(const O of M.getItems())O.is("element",c)&&!O.hasClass(h)&&(v.addClass(h,O),b.add(O),y=!0)}return y}),n.conversion.for("editingDowncast").add(v=>{function A(){m.change(y=>{for(const S of b.values())y.removeClass(h,S),b.delete(S)})}v.on("insert",A,{priority:"highest"}),v.on("remove",A,{priority:"highest"}),v.on("attribute",A,{priority:"highest"}),v.on("selection",A,{priority:"highest"})})}(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:mk,callback:o=>VS.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach(o=>{e.model.schema.extend("$text",{allowAttributes:o.id}),o=new fk(o),n.add(o),e.conversion.for("downcast").attributeToElement({model:o.id,view:(c,{writer:h})=>{if(c){const m=h.createAttributeElement("a",o.attributes,{priority:5});o.classes&&h.addClass(o.classes,m);for(const b in o.styles)h.setStyle(b,o.styles[b],m);return h.setCustomProperty("link",!0,m),m}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document,n=t.model.document;this.listenTo(e,"click",(o,c)=>{if(!(se.isMac?c.domEvent.metaKey:c.domEvent.ctrlKey))return;let h=c.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const m=h.getAttribute("href");m&&(o.stop(),c.preventDefault(),gk(m))},{context:"$capture"}),this.listenTo(e,"enter",(o,c)=>{const h=n.selection,m=h.getSelectedElement(),b=m?m.getAttribute("linkHref"):h.getAttribute("linkHref");b&&c.domEvent.altKey&&(o.stop(),gk(b))},{context:"a"})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(t,"insertContent",()=>{const n=e.anchor.nodeBefore,o=e.anchor.nodeAfter;e.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(o&&o.hasAttribute("linkHref")||t.change(c=>{Rd(c,jd(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,e=t.model;t.editing.view.addObserver(Pa);let n=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const o=e.document.selection;if(!o.isCollapsed||!o.hasAttribute("linkHref"))return;const c=o.getFirstPosition(),h=mr(c,"linkHref",o.getAttribute("linkHref"),e);(c.isTouching(h.start)||c.isTouching(h.end))&&e.change(m=>{Rd(m,jd(e.schema))})})}_enableTypingOverLink(){const t=this.editor,e=t.editing.view;let n,o;this.listenTo(e.document,"delete",()=>{o=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const c=t.model.document.selection;c.isCollapsed||(o?o=!1:bk(t)&&function(h){const m=h.document.selection,b=m.getFirstPosition(),v=m.getLastPosition(),A=b.nodeAfter;if(!A||!A.is("$text")||!A.hasAttribute("linkHref"))return!1;const y=v.textNode||v.nodeBefore;return A===y?!0:mr(b,"linkHref",A.getAttribute("linkHref"),h).containsRange(h.createRange(b,v),!0)}(t.model)&&(n=c.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(c,[h])=>{o=!1,bk(t)&&n&&(t.model.change(m=>{for(const[b,v]of n)m.setAttribute(b,v,h)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,e=t.model,n=e.document.selection,o=t.editing.view;let c=!1,h=!1;this.listenTo(o.document,"delete",(m,b)=>{h=b.domEvent.keyCode===Nt.backspace},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{c=!1;const m=n.getFirstPosition(),b=n.getAttribute("linkHref");if(!b)return;const v=mr(m,"linkHref",b,e);c=v.containsPosition(m)||v.end.isEqual(m)},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{h&&(h=!1,c||t.model.enqueueChange(m=>{Rd(m,jd(e.schema))}))},{priority:"low"})}}function Rd(a,t){a.removeSelectionAttribute("linkHref");for(const e of t)a.removeSelectionAttribute(e)}function bk(a){return a.model.change(t=>t.batch).isTyping}function jd(a){return a.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var kk=u(7754),HS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(kk.Z,HS),kk.Z.locals;class $S extends Ot{constructor(t,e){super(t);const n=t.t;this.focusTracker=new Qn,this.keystrokes=new Bi,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),qn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),qn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusables=new Eo,this._focusCycler=new hr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children}),nd(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>(t[e.name]=e.isOn,t),{})}render(){super.render(),id({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new dd(this.locale,ud);return e.label=t("Link URL"),e}_createButton(t,e,n,o){const c=new Ie(this.locale);return c.set({label:t,icon:e,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),o&&c.delegate("execute").to(this,o),c}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const o=new sd(this.locale);o.set({name:n.id,label:n.label,withText:!0}),o.bind("isOn").toMany([n,t],"value",(c,h)=>h===void 0&&c===void 0?n.defaultValue:c),o.on("execute",()=>{n.set("value",!o.isOn)}),e.add(o)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const n=new Ot;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(o=>({tag:"li",children:[o],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(n)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}var wk=u(2347),WS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(wk.Z,WS),wk.Z.locals;class GS extends Ot{constructor(t){super(t);const e=t.t;this.focusTracker=new Qn,this.keystrokes=new Bi,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("Edit link"),qn.pencil,"edit"),this.set("href"),this._focusables=new Eo,this._focusCycler=new hr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const o=new Ie(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.delegate("execute").to(this,n),o}_createPreviewButton(){const t=new Ie(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",o=>o&&uk(o)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",o=>o||n("This link has no URL")),t.bind("isEnabled").to(this,"href",o=>!!o),t.template.tag="a",t.template.eventListeners={},t}}const Ei="link-ui";class YS extends dt{static get requires(){return[Ia]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(Dx),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(Ia),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),t.conversion.for("editingDowncast").markerToHighlight({model:Ei,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Ei,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new GS(t.locale),n=t.commands.get("link"),o=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(c,h)=>{this._hideUI(),h()}),e.keystrokes.set(Ld,(c,h)=>{this._addFormView(),h()}),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),o=new $S(t.locale,e);return o.urlInputView.fieldView.bind("value").to(e,"value"),o.urlInputView.bind("isReadOnly").to(e,"isEnabled",c=>!c),o.saveButtonView.bind("isEnabled").to(e),this.listenTo(o,"submit",()=>{const{value:c}=o.urlInputView.fieldView.element,h=hk(c,n);t.execute("link",h,o.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(o,"cancel",()=>{this._closeFormView()}),o.keystrokes.set("Esc",(c,h)=>{this._closeFormView(),h()}),o}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(Ld,(o,c)=>{c(),e.isEnabled&&this._showUI(!0)}),t.ui.componentFactory.add("link",o=>{const c=new Ie(o);return c.isEnabled=!0,c.label=n("Link"),c.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',c.keystroke=Ld,c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(e,"isEnabled"),c.bind("isOn").to(e,"value",h=>!!h),this.listenTo(c,"execute",()=>this._showUI(!0)),c})}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(e,n)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),n())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,n)=>{this._isUIVisible&&(this._hideUI(),n())}),ed({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),o=h();const c=()=>{const m=this._getSelectedLinkElement(),b=h();n&&!m||!n&&b!==o?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=m,o=b};function h(){return e.selection.focus.getAncestors().reverse().find(m=>m.is("element"))}this.listenTo(t.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,n=t.document;let o=null;if(e.markers.has(Ei)){const c=Array.from(this.editor.editing.mapper.markerNameToElements(Ei)),h=t.createRange(t.createPositionBefore(c[0]),t.createPositionAfter(c[c.length-1]));o=t.domConverter.viewRangeToDom(h)}else o=()=>{const c=this._getSelectedLinkElement();return c?t.domConverter.mapViewToDom(c):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:o}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&Le(n))return Fd(e.getFirstPosition());{const o=e.getFirstRange().getTrimmed(),c=Fd(o.start),h=Fd(o.end);return c&&c==h&&t.createRangeIn(c).getTrimmed().isEqual(o)?c:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(Ei))e.updateMarker(Ei,{range:n});else if(n.start.isAtEnd){const o=n.start.getLastMatchingPosition(({item:c})=>!t.schema.isContent(c),{boundaries:n});e.addMarker(Ei,{usingOperation:!1,affectsData:!1,range:e.createRange(o,n.end)})}else e.addMarker(Ei,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Ei)&&t.change(e=>{e.removeMarker(Ei)})}}function Fd(a){return a.getAncestors().find(t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e})}const KS=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class QS extends dt{static get requires(){return[to]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,e=new _d(t.model,n=>{if(!function(c){return c.length>4&&c[c.length-1]===" "&&c[c.length-2]!==" "}(n))return;const o=vk(n.substr(0,n.length-1));return o?{url:o}:void 0});e.on("matched:data",(n,o)=>{const{batch:c,range:h,url:m}=o;if(!c.isTyping)return;const b=h.end.getShiftedBy(-1),v=b.getShiftedBy(-m.length),A=t.model.createRange(v,b);this._applyAutoLink(m,A)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",()=>{const o=e.document.selection.getFirstPosition();if(!o.parent.previousSibling)return;const c=e.createRangeIn(o.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(c)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",()=>{const o=e.document.selection.getFirstPosition(),c=e.createRange(e.createPositionAt(o.parent,0),o.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(c)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:o}=Km(t,e),c=vk(n);if(c){const h=e.createRange(o.end.getShiftedBy(-c.length),o.end);this._applyAutoLink(c,h)}}_applyAutoLink(t,e){const n=this.editor.model,o=this.editor.plugins.get("Delete");this.isEnabled&&function(c,h){return h.schema.checkAttributeInSelection(h.createSelection(c),"linkHref")}(e,n)&&n.enqueueChange(c=>{const h=this.editor.config.get("link.defaultProtocol"),m=hk(t,h);c.setAttribute("linkHref",m,e),n.enqueueChange(()=>{o.requestUndoOnBackspace()})})}}function vk(a){const t=KS.exec(a);return t?t[2]:null}class Ck extends zt{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.document,o=Array.from(n.selection.getSelectedBlocks()).filter(h=>Ak(h,e.schema)),c=t.forceValue!==void 0?!t.forceValue:this.value;e.change(h=>{if(c){let m=o[o.length-1].nextSibling,b=Number.POSITIVE_INFINITY,v=[];for(;m&&m.name=="listItem"&&m.getAttribute("listIndent")!==0;){const A=m.getAttribute("listIndent");A<b&&(b=A);const y=A-b;v.push({element:m,listIndent:y}),m=m.nextSibling}v=v.reverse();for(const A of v)h.setAttribute("listIndent",A.listIndent,A.element)}if(!c){let m=Number.POSITIVE_INFINITY;for(const b of o)b.is("element","listItem")&&b.getAttribute("listIndent")<m&&(m=b.getAttribute("listIndent"));m=m===0?1:m,_k(o,!0,m),_k(o,!1,m)}for(const m of o.reverse())c&&m.name=="listItem"?h.rename(m,"paragraph"):c||m.name=="listItem"?c||m.name!="listItem"||m.getAttribute("listType")==this.type||h.setAttribute("listType",this.type,m):(h.setAttributes({listType:this.type,listIndent:0},m),h.rename(m,"listItem"));this.fire("_executeCleanup",o)})}_getValue(){const t=xn(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=xn(t.getSelectedBlocks());return!!n&&Ak(n,e)}}function _k(a,t,e){const n=t?a[0]:a[a.length-1];if(n.is("element","listItem")){let o=n[t?"previousSibling":"nextSibling"],c=n.getAttribute("listIndent");for(;o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=e;)c>o.getAttribute("listIndent")&&(c=o.getAttribute("listIndent")),o.getAttribute("listIndent")==c&&a[t?"unshift":"push"](o),o=o[t?"previousSibling":"nextSibling"]}}function Ak(a,t){return t.checkChild(a.parent,"listItem")&&!t.isObject(a)}class yk extends zt{constructor(t,e){super(t),this._indentBy=e=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change(o=>{const c=n[n.length-1];let h=c.nextSibling;for(;h&&h.name=="listItem"&&h.getAttribute("listIndent")>c.getAttribute("listIndent");)n.push(h),h=h.nextSibling;this._indentBy<0&&(n=n.reverse());for(const m of n){const b=m.getAttribute("listIndent")+this._indentBy;b<0?o.rename(m,"paragraph"):o.setAttribute("listIndent",b,m)}this.fire("_executeCleanup",n)})}_checkEnabled(){const t=xn(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let o=t.previousSibling;for(;o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=e;){if(o.getAttribute("listIndent")==e)return o.getAttribute("listType")==n;o=o.previousSibling}return!1}return!0}}function ZS(a,t){const e=t.mapper,n=t.writer,o=a.getAttribute("listType")=="numbered"?"ol":"ul",c=function(m){const b=m.createContainerElement("li");return b.getFillerOffset=qS,b}(n),h=n.createContainerElement(o,null);return n.insert(n.createPositionAt(h,0),c),e.bindElements(a,c),c}function xk(a,t,e,n){const o=t.parent,c=e.mapper,h=e.writer;let m=c.toViewPosition(n.createPositionBefore(a));const b=Sk(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),v=a.previousSibling;if(b&&b.getAttribute("listIndent")==a.getAttribute("listIndent")){const A=c.toViewElement(b);m=h.breakContainer(h.createPositionAfter(A))}else if(v&&v.name=="listItem"){m=c.toViewPosition(n.createPositionAt(v,"end"));const A=c.findMappedViewAncestor(m),y=function(S){for(const M of S.getChildren())if(M.name=="ul"||M.name=="ol")return M;return null}(A);m=y?h.createPositionBefore(y):h.createPositionAt(A,"end")}else m=c.toViewPosition(n.createPositionBefore(a));if(m=Ek(m),h.insert(m,o),v&&v.name=="listItem"){const A=c.toViewElement(v),y=h.createRange(h.createPositionAt(A,0),m).getWalker({ignoreElementEnd:!0});for(const S of y)if(S.item.is("element","li")){const M=h.breakContainer(h.createPositionBefore(S.item)),O=S.item.parent,N=h.createPositionAt(t,"end");Xn(h,N.nodeBefore,N.nodeAfter),h.move(h.createRangeOn(O),N),y.position=M}}else{const A=o.nextSibling;if(A&&(A.is("element","ul")||A.is("element","ol"))){let y=null;for(const S of A.getChildren()){const M=c.toModelElement(S);if(!(M&&M.getAttribute("listIndent")>a.getAttribute("listIndent")))break;y=S}y&&(h.breakContainer(h.createPositionAfter(y)),h.move(h.createRangeOn(y.parent),h.createPositionAt(t,"end")))}}Xn(h,o,o.nextSibling),Xn(h,o.previousSibling,o)}function Xn(a,t,e){return!t||!e||t.name!="ul"&&t.name!="ol"||t.name!=e.name||t.getAttribute("class")!==e.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(t))}function Ek(a){return a.getLastMatchingPosition(t=>t.item.is("uiElement"))}function Sk(a,t){const e=!!t.sameIndent,n=!!t.smallerIndent,o=t.listIndent;let c=a;for(;c&&c.name=="listItem";){const h=c.getAttribute("listIndent");if(e&&o==h||n&&o>h)return c;c=t.direction==="forward"?c.nextSibling:c.previousSibling}return null}function Dk(a,t,e,n){a.ui.componentFactory.add(t,o=>{const c=a.commands.get(t),h=new Ie(o);return h.set({label:e,icon:n,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(c,"value","isEnabled"),h.on("execute",()=>{a.execute(t),a.editing.view.focus()}),h})}function qS(){const a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:pg.call(this)}function Mk(a){return(t,e,n)=>{const o=n.consumable;if(!o.test(e.item,"insert")||!o.test(e.item,"attribute:listType")||!o.test(e.item,"attribute:listIndent"))return;o.consume(e.item,"insert"),o.consume(e.item,"attribute:listType"),o.consume(e.item,"attribute:listIndent");const c=e.item;xk(c,ZS(c,n),n,a)}}function XS(a,t,e){if(!e.consumable.test(t.item,a.name))return;const n=e.mapper.toViewElement(t.item),o=e.writer;o.breakContainer(o.createPositionBefore(n)),o.breakContainer(o.createPositionAfter(n));const c=n.parent,h=t.attributeNewValue=="numbered"?"ol":"ul";o.rename(h,c)}function JS(a,t,e){e.consumable.consume(t.item,a.name);const n=e.mapper.toViewElement(t.item).parent,o=e.writer;Xn(o,n,n.nextSibling),Xn(o,n.previousSibling,n)}function Ik(a,t,e){if(t.item.name!="listItem"){let n=e.mapper.toViewPosition(t.range.start);const o=e.writer,c=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=o.breakContainer(n),n.parent.name=="li");){const h=n,m=o.createPositionAt(n.parent,"end");if(!h.isEqual(m)){const b=o.remove(o.createRange(h,m));c.push(b)}n=o.createPositionAfter(n.parent)}if(c.length>0){for(let h=0;h<c.length;h++){const m=n.nodeBefore;if(n=o.insert(n,c[h]).end,h>0){const b=Xn(o,m,m.nextSibling);b&&b.parent==m&&n.offset--}}Xn(o,n.nodeBefore,n.nodeAfter)}}}function t2(a,t,e){const n=e.mapper.toViewPosition(t.position),o=n.nodeBefore,c=n.nodeAfter;Xn(e.writer,o,c)}function e2(a,t,e){if(e.consumable.consume(t.viewItem,{name:!0})){const n=e.writer,o=n.createElement("listItem"),c=function(b){let v=0,A=b.parent;for(;A;){if(A.is("element","li"))v++;else{const y=A.previousSibling;y&&y.is("element","li")&&v++}A=A.parent}return v}(t.viewItem);n.setAttribute("listIndent",c,o);const h=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",h,o),!e.safeInsert(o,t.modelCursor))return;const m=function(b,v,A){const{writer:y,schema:S}=A;let M=y.createPositionAfter(b);for(const O of v)if(O.name=="ul"||O.name=="ol")M=A.convertItem(O,M).modelCursor;else{const N=A.convertItem(O,y.createPositionAt(b,"end")),L=N.modelRange.start.nodeAfter;L&&L.is("element")&&!S.checkChild(b,L.name)&&(b=N.modelCursor.parent.is("element","listItem")?N.modelCursor.parent:o2(N.modelCursor),M=y.createPositionAfter(b))}return M}(o,t.viewItem.getChildren(),e);t.modelRange=n.createRange(t.modelCursor,m),e.updateConversionResult(o,t)}}function Tk(a,t,e){if(e.consumable.test(t.viewItem,{name:!0})){const n=Array.from(t.viewItem.getChildren());for(const o of n)!(o.is("element","li")||vr(o))&&o._remove()}}function n2(a,t,e){if(e.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;const n=[...t.viewItem.getChildren()];let o=!1;for(const c of n)o&&!vr(c)&&c._remove(),vr(c)&&(o=!0)}}function Pk(a){return(t,e)=>{if(e.isPhantom)return;const n=e.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const o=e.mapper.toViewElement(n),c=o.getAncestors().find(vr),h=a.createPositionAt(o,0).getWalker();for(const m of h){if(m.type=="elementStart"&&m.item.is("element","li")){e.viewPosition=m.previousPosition;break}if(m.type=="elementEnd"&&m.item==c){e.viewPosition=m.nextPosition;break}}}}}function i2(a,[t,e]){let n,o=t.is("documentFragment")?t.getChild(0):t;if(n=e?this.createSelection(e):this.document.selection,o&&o.is("element","listItem")){const c=n.getFirstPosition();let h=null;if(c.parent.is("element","listItem")?h=c.parent:c.nodeBefore&&c.nodeBefore.is("element","listItem")&&(h=c.nodeBefore),h){const m=h.getAttribute("listIndent");if(m>0)for(;o&&o.is("element","listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+m),o=o.nextSibling}}}function o2(a){const t=new Li({startPosition:a});let e;do e=t.next();while(!e.value.item.is("element","listItem"));return e.value.item}function Ok(a,t,e,n,o,c){const h=Sk(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a,foo:"b"}),m=o.mapper,b=o.writer,v=h?h.getAttribute("listIndent"):null;let A;if(h)if(v==a){const y=m.toViewElement(h).parent;A=b.createPositionAfter(y)}else{const y=c.createPositionAt(h,"end");A=m.toViewPosition(y)}else A=e;A=Ek(A);for(const y of[...n.getChildren()])vr(y)&&(A=b.move(b.createRangeOn(y),A).end,Xn(b,y,y.nextSibling),Xn(b,y.previousSibling,y))}function vr(a){return a.is("element","ol")||a.is("element","ul")}class r2 extends dt{static get pluginName(){return"ListEditing"}static get requires(){return[Oa,to]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;var o;t.model.document.registerPostFixer(m=>function(b,v){const A=b.document.differ.getChanges(),y=new Map;let S=!1;for(const L of A)if(L.type=="insert"&&L.name=="listItem")M(L.position);else if(L.type=="insert"&&L.name!="listItem"){if(L.name!="$text"){const j=L.position.nodeAfter;j.hasAttribute("listIndent")&&(v.removeAttribute("listIndent",j),S=!0),j.hasAttribute("listType")&&(v.removeAttribute("listType",j),S=!0),j.hasAttribute("listStyle")&&(v.removeAttribute("listStyle",j),S=!0),j.hasAttribute("listReversed")&&(v.removeAttribute("listReversed",j),S=!0),j.hasAttribute("listStart")&&(v.removeAttribute("listStart",j),S=!0);for(const W of Array.from(b.createRangeIn(j)).filter(tt=>tt.item.is("element","listItem")))M(W.previousPosition)}M(L.position.getShiftedBy(L.length))}else L.type=="remove"&&L.name=="listItem"?M(L.position):(L.type=="attribute"&&L.attributeKey=="listIndent"||L.type=="attribute"&&L.attributeKey=="listType")&&M(L.range.start);for(const L of y.values())O(L),N(L);return S;function M(L){const j=L.nodeBefore;if(j&&j.is("element","listItem")){let W=j;if(y.has(W))return;for(let tt=W.previousSibling;tt&&tt.is("element","listItem");tt=W.previousSibling)if(W=tt,y.has(W))return;y.set(j,W)}else{const W=L.nodeAfter;W&&W.is("element","listItem")&&y.set(W,W)}}function O(L){let j=0,W=null;for(;L&&L.is("element","listItem");){const tt=L.getAttribute("listIndent");if(tt>j){let ft;W===null?(W=tt-j,ft=j):(W>tt&&(W=tt),ft=tt-W),v.setAttribute("listIndent",ft,L),S=!0}else W=null,j=L.getAttribute("listIndent")+1;L=L.nextSibling}}function N(L){let j=[],W=null;for(;L&&L.is("element","listItem");){const tt=L.getAttribute("listIndent");if(W&&W.getAttribute("listIndent")>tt&&(j=j.slice(0,tt+1)),tt!=0)if(j[tt]){const ft=j[tt];L.getAttribute("listType")!=ft&&(v.setAttribute("listType",ft,L),S=!0)}else j[tt]=L.getAttribute("listType");W=L,L=L.nextSibling}}}(t.model,m)),n.mapper.registerViewToModelLength("li",Vd),e.mapper.registerViewToModelLength("li",Vd),n.mapper.on("modelToViewPosition",Pk(n.view)),n.mapper.on("viewToModelPosition",(o=t.model,(m,b)=>{const v=b.viewPosition,A=v.parent,y=b.mapper;if(A.name=="ul"||A.name=="ol"){if(v.isAtEnd){const S=y.toModelElement(v.nodeBefore),M=y.getModelLength(v.nodeBefore);b.modelPosition=o.createPositionBefore(S).getShiftedBy(M)}else{const S=y.toModelElement(v.nodeAfter);b.modelPosition=o.createPositionBefore(S)}m.stop()}else if(A.name=="li"&&v.nodeBefore&&(v.nodeBefore.name=="ul"||v.nodeBefore.name=="ol")){const S=y.toModelElement(A);let M=1,O=v.nodeBefore;for(;O&&vr(O);)M+=y.getModelLength(O),O=O.previousSibling;b.modelPosition=o.createPositionBefore(S).getShiftedBy(M),m.stop()}})),e.mapper.on("modelToViewPosition",Pk(n.view)),t.conversion.for("editingDowncast").add(m=>{m.on("insert",Ik,{priority:"high"}),m.on("insert:listItem",Mk(t.model)),m.on("attribute:listType:listItem",XS,{priority:"high"}),m.on("attribute:listType:listItem",JS,{priority:"low"}),m.on("attribute:listIndent:listItem",function(b){return(v,A,y)=>{if(!y.consumable.consume(A.item,"attribute:listIndent"))return;const S=y.mapper.toViewElement(A.item),M=y.writer;M.breakContainer(M.createPositionBefore(S)),M.breakContainer(M.createPositionAfter(S));const O=S.parent,N=O.previousSibling,L=M.createRangeOn(O);M.remove(L),N&&N.nextSibling&&Xn(M,N,N.nextSibling),Ok(A.attributeOldValue+1,A.range.start,L.start,S,y,b),xk(A.item,S,y,b);for(const j of A.item.getChildren())y.consumable.consume(j,"insert")}}(t.model)),m.on("remove:listItem",function(b){return(v,A,y)=>{const S=y.mapper.toViewPosition(A.position).getLastMatchingPosition(W=>!W.item.is("element","li")).nodeAfter,M=y.writer;M.breakContainer(M.createPositionBefore(S)),M.breakContainer(M.createPositionAfter(S));const O=S.parent,N=O.previousSibling,L=M.createRangeOn(O),j=M.remove(L);N&&N.nextSibling&&Xn(M,N,N.nextSibling),Ok(y.mapper.toModelElement(S).getAttribute("listIndent")+1,A.position,L.start,S,y,b);for(const W of M.createRangeIn(j).getItems())y.mapper.unbindViewElement(W);v.stop()}}(t.model)),m.on("remove",t2,{priority:"low"})}),t.conversion.for("dataDowncast").add(m=>{m.on("insert",Ik,{priority:"high"}),m.on("insert:listItem",Mk(t.model))}),t.conversion.for("upcast").add(m=>{m.on("element:ul",Tk,{priority:"high"}),m.on("element:ol",Tk,{priority:"high"}),m.on("element:li",n2,{priority:"high"}),m.on("element:li",e2)}),t.model.on("insertContent",i2,{priority:"high"}),t.commands.add("numberedList",new Ck(t,"numbered")),t.commands.add("bulletedList",new Ck(t,"bulleted")),t.commands.add("indentList",new yk(t,"forward")),t.commands.add("outdentList",new yk(t,"backward"));const c=n.view.document;this.listenTo(c,"enter",(m,b)=>{const v=this.editor.model.document,A=v.selection.getLastPosition().parent;v.selection.isCollapsed&&A.name=="listItem"&&A.isEmpty&&(this.editor.execute("outdentList"),b.preventDefault(),m.stop())},{context:"li"}),this.listenTo(c,"delete",(m,b)=>{if(b.direction!=="backward")return;const v=this.editor.model.document.selection;if(!v.isCollapsed)return;const A=v.getFirstPosition();if(!A.isAtStart)return;const y=A.parent;y.name==="listItem"&&(y.previousSibling&&y.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),b.preventDefault(),m.stop()))},{context:"li"});const h=m=>(b,v)=>{this.editor.commands.get(m).isEnabled&&(this.editor.execute(m),v())};t.keystrokes.set("Tab",h("indentList")),t.keystrokes.set("Shift+Tab",h("outdentList"))}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function Vd(a){let t=1;for(const e of a.getChildren())if(e.name=="ul"||e.name=="ol")for(const n of e.getChildren())t+=Vd(n);return t}class s2 extends dt{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;Dk(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Dk(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function Nk(a,t){return n=>{n.on("attribute:url:media",e)};function e(n,o,c){if(!c.consumable.consume(o.item,n.name))return;const h=o.attributeNewValue,m=c.writer,b=c.mapper.toViewElement(o.item),v=[...b.getChildren()].find(y=>y.getCustomProperty("media-content"));m.remove(v);const A=a.getMediaViewElement(m,h,t);m.insert(m.createPositionAt(b,0),A)}}function Bk(a,t,e,n){return a.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(a,e,n),a.createSlot()])}function Lk(a){const t=a.getSelectedElement();return t&&t.is("element","media")?t:null}function zk(a,t,e){a.change(n=>{const o=n.createElement("media",{url:t});a.insertContent(o,e),n.setSelection(o,"on")})}class a2 extends zt{refresh(){const t=this.editor.model,e=t.document.selection,n=Lk(e);this.value=n?n.getAttribute("url"):null,this.isEnabled=function(o){const c=o.getSelectedElement();return!!c&&c.name==="media"}(e)||function(o,c){let h=cs(o,c).start.parent;return h.isEmpty&&!c.schema.isLimit(h)&&(h=h.parent),c.schema.checkChild(h,"media")}(e,t)}execute(t){const e=this.editor.model,n=e.document.selection,o=Lk(n);o?e.change(c=>{c.setAttribute("url",t,o)}):zk(e,t,cs(n,e))}}class l2{constructor(t,e){const n=e.providers,o=e.extraProviders||[],c=new Set(e.removeProviders),h=n.concat(o).filter(m=>{const b=m.name;return b?!c.has(b):(x("media-embed-no-provider-name",{provider:m}),!1)});this.locale=t,this.providerDefinitions=h}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new Rk(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html,o=tn(e.url);for(const c of o){const h=this._getUrlMatches(t,c);if(h)return new Rk(this.locale,t,h,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let o=t.replace(/^https?:\/\//,"");return n=o.match(e),n||(o=o.replace(/^www\./,""),n=o.match(e),n||null)}}class Rk{constructor(t,e,n,o){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=o}getViewElement(t,e){const n={};let o;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const c=this._getPreviewHtml(e);o=t.createRawElement("div",n,(h,m)=>{m.setContentOf(h,c)})}else this.url&&(n.url=this.url),o=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,o),o}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Ep,e=new Da;return t.text=this._t("Open media in new tab"),e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new jn({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var jk=u(7442),c2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(jk.Z,c2),jk.Z.locals;class Ua extends dt{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new l2(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,o=t.conversion,c=t.config.get("mediaEmbed.previewsInData"),h=t.config.get("mediaEmbed.elementName"),m=this.registry;t.commands.add("mediaEmbed",new a2(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),o.for("dataDowncast").elementToStructure({model:"media",view:(b,{writer:v})=>{const A=b.getAttribute("url");return Bk(v,m,A,{elementName:h,renderMediaPreview:A&&c})}}),o.for("dataDowncast").add(Nk(m,{elementName:h,renderMediaPreview:c})),o.for("editingDowncast").elementToStructure({model:"media",view:(b,{writer:v})=>{const A=b.getAttribute("url");return function(y,S,M){return S.setCustomProperty("media",!0,y),vd(y,S,{label:M})}(Bk(v,m,A,{elementName:h,renderForEditingView:!0}),v,n("media widget"))}}),o.for("editingDowncast").add(Nk(m,{elementName:h,renderForEditingView:!0})),o.for("upcast").elementToElement({view:b=>["oembed",h].includes(b.name)&&b.getAttribute("url")?{name:!0}:null,model:(b,{writer:v})=>{const A=b.getAttribute("url");if(m.hasMedia(A))return v.createElement("media",{url:A})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(b,{writer:v})=>{const A=b.getAttribute("data-oembed-url");if(m.hasMedia(A))return v.createElement("media",{url:A})}}).add(b=>{b.on("element:figure",function(v,A,y){if(!y.consumable.consume(A.viewItem,{name:!0,classes:"media"}))return;const{modelRange:S,modelCursor:M}=y.convertChildren(A.viewItem,A.modelCursor);A.modelRange=S,A.modelCursor=M,xn(S.getItems())||y.consumable.revert(A.viewItem,{name:!0,classes:"media"})})})}}const d2=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class u2 extends dt{static get requires(){return[Um,to,nb]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const n=e.selection.getFirstRange(),o=cn.fromPosition(n.start);o.stickiness="toPrevious";const c=cn.fromPosition(n.end);c.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(o,c),o.detach(),c.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(Be.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,o=n.plugins.get(Ua).registry,c=new _i(t,e),h=c.getWalker({ignoreElementEnd:!0});let m="";for(const b of h)b.item.is("$textProxy")&&(m+=b.item.data);if(m=m.trim(),!m.match(d2)||!o.hasMedia(m))return void c.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=cn.fromPosition(t),this._timeoutId=Be.window.setTimeout(()=>{n.model.change(b=>{let v;this._timeoutId=null,b.remove(c),c.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(v=this._positionToInsert),zk(n.model,m,v),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get("Delete").requestUndoOnBackspace()},100)):c.detach()}}var Fk=u(9292),h2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Fk.Z,h2),Fk.Z.locals;class g2 extends Ot{constructor(t,e){super(e);const n=e.t;this.focusTracker=new Qn,this.keystrokes=new Bi,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),qn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",o=>!!o),this.cancelButtonView=this._createButton(n("Cancel"),qn.cancel,"ck-button-cancel","cancel"),this._focusables=new Eo,this._focusCycler=new hr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),nd(this)}render(){super.render(),id({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(e,n)=>{n.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new dd(this.locale,ud),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),e}_createButton(t,e,n,o){const c=new Ie(this.locale);return c.set({label:t,icon:e,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),o&&c.delegate("execute").to(this,o),c}}class f2 extends dt{static get requires(){return[Ua]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(Ua).registry;t.ui.componentFactory.add("mediaEmbed",o=>{const c=So(o),h=new g2(function(m,b){return[v=>{if(!v.url.length)return m("The URL must not be empty.")},v=>{if(!b.hasMedia(v.url))return m("This media URL is not supported.")}]}(t.t,n),t.locale);return this._setUpDropdown(c,h,e,t),this._setUpForm(c,h,e),c})}_setUpDropdown(t,e,n){const o=this.editor,c=o.t,h=t.buttonView;function m(){o.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),h.set({label:c("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),h.on("open",()=>{e.disableCssTransitions(),e.url=n.value||"",e.urlInputView.fieldView.select(),e.focus(),e.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(o.execute("mediaEmbed",e.url),m())}),t.on("change:isOpen",()=>e.resetFormStatus()),t.on("cancel",()=>m())}_setUpForm(t,e,n){e.delegate("submit","cancel").to(t),e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",o=>!o)}}var Vk=u(4652),p2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(Vk.Z,p2),Vk.Z.locals;function m2(a,t){if(!a.childCount)return;const e=new fr(a.document),n=function(h,m){const b=m.createRangeIn(h),v=new wi({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),A=[];for(const y of b)if(y.type==="elementStart"&&v.match(y.item)){const S=k2(y.item);A.push({element:y.item,id:S.id,order:S.order,indent:S.indent})}return A}(a,e);if(!n.length)return;let o=null,c=1;n.forEach((h,m)=>{const b=function(O,N){if(!O)return!0;if(O.id!==N.id)return N.indent-O.indent!=1;const L=N.element.previousSibling;if(!L)return!0;return j=L,!(j.is("element","ol")||j.is("element","ul"));var j}(n[m-1],h),v=b?null:n[m-1],A=(S=h,(y=v)?S.indent-y.indent:S.indent-1);var y,S;if(b&&(o=null,c=1),!o||A!==0){const O=function(N,L){const j=new RegExp(`@list l${N.id}:level${N.indent}\\s*({[^}]*)`,"gi"),W=/mso-level-number-format:([^;]{0,100});/gi,tt=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,ft=j.exec(L);let At="decimal",ae="ol",qt=null;if(ft&&ft[1]){const mn=W.exec(ft[1]);if(mn&&mn[1]&&(At=mn[1].trim(),ae=At!=="bullet"&&At!=="image"?"ol":"ul"),At==="bullet"){const qe=function(Fn){const Jn=function(Vi){if(Vi.getChild(0).is("$text"))return null;for(const Ui of Vi.getChildren()){if(!Ui.is("element","span"))continue;const _r=Ui.getChild(0);return _r.is("$text")?_r:_r.getChild(0)}}(Fn);if(!Jn)return null;const ti=Jn._data;return ti==="o"?"circle":ti==="\xB7"?"disc":ti==="\xA7"?"square":null}(N.element);qe&&(At=qe)}else{const qe=tt.exec(ft[1]);qe&&qe[1]&&(qt=parseInt(qe[1]))}}return{type:ae,startIndex:qt,style:b2(At)}}(h,t);if(o){if(h.indent>c){const N=o.getChild(o.childCount-1),L=N.getChild(N.childCount-1);o=Uk(O,L,e),c+=1}else if(h.indent<c){const N=c-h.indent;o=function(L,j){const W=L.getAncestors({parentFirst:!0});let tt=null,ft=0;for(const At of W)if(At.name!=="ul"&&At.name!=="ol"||ft++,ft===j){tt=At;break}return tt}(o,N),c=parseInt(h.indent)}}else o=Uk(O,h.element,e);h.indent<=c&&(o.is("element",O.type)||(o=e.rename(O.type,o)))}const M=function(O,N){return function(L,j){const W=new wi({name:"span",styles:{"mso-list":"Ignore"}}),tt=j.createRangeIn(L);for(const ft of tt)ft.type==="elementStart"&&W.match(ft.item)&&j.remove(ft.item)}(O,N),N.rename("li",O)}(h.element,e);e.appendChild(M,o)})}function b2(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function Uk(a,t,e){const n=t.parent,o=e.createElement(a.type),c=n.getChildIndex(t)+1;return e.insertChild(c,o,n),a.style&&e.setStyle("list-style-type",a.style,o),a.startIndex&&a.startIndex>1&&e.setAttribute("start",a.startIndex,o),o}function k2(a){const t={},e=a.getStyle("mso-list");if(e){const n=e.match(/(^|\s{1,100})l(\d+)/i),o=e.match(/\s{0,100}lfo(\d+)/i),c=e.match(/\s{0,100}level(\d+)/i);n&&o&&c&&(t.id=n[2],t.order=o[1],t.indent=c[1])}return t}const w2=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class v2{constructor(t){this.document=t}isActive(t){return w2.test(t)}execute(t){const e=new fr(this.document),{body:n}=t._parsedData;(function(o,c){for(const h of o.getChildren())if(h.is("element","b")&&h.getStyle("font-weight")==="normal"){const m=o.getChildIndex(h);c.remove(h),c.insertChild(m,h.getChildren(),o)}})(n,e),function(o,c){for(const h of c.createRangeIn(o)){const m=h.item;if(m.is("element","li")){const b=m.getChild(0);b&&b.is("element","p")&&c.unwrapElement(b)}}}(n,e),t.content=n}}function C2(a,t){if(!a.childCount)return;const e=new fr,n=function(c,h){const m=h.createRangeIn(c),b=new wi({name:/v:(.+)/}),v=[];for(const A of m){if(A.type!="elementStart")continue;const y=A.item,S=y.previousSibling&&y.previousSibling.name||null;b.match(y)&&y.getAttribute("o:gfxdata")&&S!=="v:shapetype"&&v.push(A.item.getAttribute("id"))}return v}(a,e);(function(c,h,m){const b=m.createRangeIn(h),v=new wi({name:"img"}),A=[];for(const y of b)if(v.match(y.item)){const S=y.item,M=S.getAttribute("v:shapes")?S.getAttribute("v:shapes").split(" "):[];M.length&&M.every(O=>c.indexOf(O)>-1)?A.push(S):S.getAttribute("src")||A.push(S)}for(const y of A)m.remove(y)})(n,a,e),function(c,h){const m=h.createRangeIn(c),b=new wi({name:/v:(.+)/}),v=[];for(const A of m)A.type=="elementStart"&&b.match(A.item)&&v.push(A.item);for(const A of v)h.remove(A)}(a,e);const o=function(c,h){const m=h.createRangeIn(c),b=new wi({name:"img"}),v=[];for(const A of m)b.match(A.item)&&A.item.getAttribute("src").startsWith("file://")&&v.push(A.item);return v}(a,e);o.length&&function(c,h,m){if(c.length===h.length)for(let b=0;b<c.length;b++){const v=`data:${h[b].type};base64,${_2(h[b].hex)}`;m.setAttribute("src",v,c[b])}}(o,function(c){if(!c)return[];const h=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,m=new RegExp("(?:("+h.source+"))([\\da-fA-F\\s]+)\\}","g"),b=c.match(m),v=[];if(b)for(const A of b){let y=!1;A.includes("\\pngblip")?y="image/png":A.includes("\\jpegblip")&&(y="image/jpeg"),y&&v.push({hex:A.replace(h,"").replace(/[^\da-fA-F]/g,""),type:y})}return v}(t),e)}function _2(a){return btoa(a.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}const A2=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,y2=/xmlns:o="urn:schemas-microsoft-com/i;class x2{constructor(t){this.document=t}isActive(t){return A2.test(t)||y2.test(t)}execute(t){const{body:e,stylesString:n}=t._parsedData;m2(e,n),C2(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function Hk(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length===1?" ":Array(e.length+1).join("\xA0 ").substr(0,e.length))}function E2(a,t){const e=new DOMParser,n=function(b){return Hk(Hk(b)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(b){const v="</body>",A="</html>",y=b.indexOf(v);if(y<0)return b;const S=b.indexOf(A,y+v.length);return b.substring(0,y+v.length)+(S>=0?b.substring(S):"")}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),o=e.parseFromString(n,"text/html");(function(b){b.querySelectorAll("span[style*=spacerun]").forEach(v=>{const A=v.innerText.length||0;v.innerHTML=Array(A+1).join("\xA0 ").substr(0,A)})})(o);const c=o.body.innerHTML,h=function(b,v){const A=new qr(v),y=new ba(A,{renderingMode:"data"}),S=b.createDocumentFragment(),M=b.body.childNodes;for(;M.length>0;)S.appendChild(M[0]);return y.domToView(S,{skipComments:!0})}(o,t),m=function(b){const v=[],A=[],y=Array.from(b.getElementsByTagName("style"));for(const S of y)S.sheet&&S.sheet.cssRules&&S.sheet.cssRules.length&&(v.push(S.sheet),A.push(S.innerHTML));return{styles:v,stylesString:A.join(" ")}}(o);return{body:h,bodyString:c,styles:m.styles,stylesString:m.stylesString}}function je(a,t,e,n,o=1){t>o?n.setAttribute(a,t,e):n.removeAttribute(a,e)}function Io(a,t,e={}){const n=a.createElement("tableCell",e);return a.insertElement("paragraph",n),a.insert(n,t),n}function Ud(a,t){const e=t.parent.parent,n=parseInt(e.getAttribute("headingColumns")||0),{column:o}=a.getCellLocation(t);return!!n&&o<n}function S2(){return a=>{a.on("element:table",(t,e,n)=>{const o=e.viewItem;if(!n.consumable.test(o,{name:!0}))return;const{rows:c,headingRows:h,headingColumns:m}=function(A){const y={headingRows:0,headingColumns:0},S=[],M=[];let O;for(const N of Array.from(A.getChildren()))if(N.name==="tbody"||N.name==="thead"||N.name==="tfoot"){N.name!=="thead"||O||(O=N);const L=Array.from(N.getChildren()).filter(j=>j.is("element","tr"));for(const j of L)if(j.parent.name==="thead"&&j.parent===O)y.headingRows++,S.push(j);else{M.push(j);const W=D2(j);W>y.headingColumns&&(y.headingColumns=W)}}return y.rows=[...S,...M],y}(o),b={};m&&(b.headingColumns=m),h&&(b.headingRows=h);const v=n.writer.createElement("table",b);if(n.safeInsert(v,e.modelCursor)){if(n.consumable.consume(o,{name:!0}),c.forEach(A=>n.convertItem(A,n.writer.createPositionAt(v,"end"))),n.convertChildren(o,n.writer.createPositionAt(v,"end")),v.isEmpty){const A=n.writer.createElement("tableRow");n.writer.insert(A,n.writer.createPositionAt(v,"end")),Io(n.writer,n.writer.createPositionAt(A,"end"))}n.updateConversionResult(v,e)}})}}function $k(a){return t=>{t.on(`element:${a}`,(e,n,o)=>{if(n.modelRange&&n.viewItem.isEmpty){const c=n.modelRange.start.nodeAfter,h=o.writer.createPositionAt(c,0);o.writer.insertElement("paragraph",h)}},{priority:"low"})}}function D2(a){let t=0,e=0;const n=Array.from(a.getChildren()).filter(o=>o.name==="th"||o.name==="td");for(;e<n.length&&n[e].name==="th";){const o=n[e];t+=parseInt(o.getAttribute("colspan")||1),e++}return t}class ne{constructor(t,e={}){this._table=t,this._startRow=e.row!==void 0?e.row:e.startRow||0,this._endRow=e.row!==void 0?e.row:e.endRow,this._startColumn=e.column!==void 0?e.column:e.startColumn||0,this._endColumn=e.column!==void 0?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const o=t.getChild(this._cellIndex);if(!o)return this._advanceToNextRow();const c=parseInt(o.getAttribute("colspan")||1),h=parseInt(o.getAttribute("rowspan")||1);(c>1||h>1)&&this._recordSpans(o,h,c),this._shouldSkipSlot()||(e=this._formatOutValue(o)),this._nextCellAtColumn=this._column+c}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new M2(this,t,e,n)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,n=this._column<this._startColumn,o=this._endColumn!==void 0&&this._column>this._endColumn;return t||e||n||o}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const o={cell:t,row:this._row,column:this._column};for(let c=this._row;c<this._row+e;c++)for(let h=this._column;h<this._column+n;h++)c==this._row&&h==this._column||this._markSpannedCell(c,h,o)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}class M2{constructor(t,e,n,o){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=o,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Wk(a,t={}){return(e,{writer:n})=>{const o=e.getAttribute("headingRows")||0,c=[];o>0&&c.push(n.createContainerElement("thead",null,n.createSlot(m=>m.is("element","tableRow")&&m.index<o))),o<a.getRows(e)&&c.push(n.createContainerElement("tbody",null,n.createSlot(m=>m.is("element","tableRow")&&m.index>=o)));const h=n.createContainerElement("figure",{class:"table"},[n.createContainerElement("table",null,c),n.createSlot(m=>!m.is("element","tableRow"))]);return t.asWidget?function(m,b){return b.setCustomProperty("table",!0,m),vd(m,b,{hasSelectionHandle:!0})}(h,n):h}}function Gk(a={}){return(t,{writer:e})=>{const n=t.parent,o=n.parent,c=o.getChildIndex(n),h=new ne(o,{row:c}),m=o.getAttribute("headingRows")||0,b=o.getAttribute("headingColumns")||0;for(const v of h)if(v.cell==t){const A=v.row<m||v.column<b?"th":"td";return a.asWidget?Sm(e.createEditableElement(A),e):e.createContainerElement(A)}}}function Yk(a={}){return(t,{writer:e,consumable:n,mapper:o})=>{if(t.parent.is("element","tableCell")&&Kk(t))return a.asWidget?e.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(n.consume(t,"insert"),void o.bindElements(t,o.toViewElement(t.parent)))}}function Kk(a){return a.parent.childCount==1&&![...a.getAttributeKeys()].length}class I2 extends zt{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=function(o,c){const h=o.getFirstPosition().parent,m=h===h.root?h:h.parent;return c.checkChild(m,"table")}(e,n)}execute(t={}){const e=this.editor.model,n=e.document.selection,o=this.editor.plugins.get("TableUtils"),c=this.editor.config.get("table"),h=cs(n,e),m=c.defaultHeadings.rows,b=c.defaultHeadings.columns;t.headingRows===void 0&&m&&(t.headingRows=m),t.headingColumns===void 0&&b&&(t.headingColumns=b),e.change(v=>{const A=o.createTable(v,t);e.insertContent(A,h),v.setSelection(v.createPositionAt(A.getNodeByPath([0,0,0]),0))})}}class Qk extends zt{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o=this.order==="above",c=n.getSelectionAffectedTableCells(e),h=n.getRowIndexes(c),m=o?h.first:h.last,b=c[0].findAncestor("table");n.insertRows(b,{at:o?m:m+1,copyStructureFromAbove:!o})}}class Zk extends zt{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o=this.order==="left",c=n.getSelectionAffectedTableCells(e),h=n.getColumnIndexes(c),m=o?h.first:h.last,b=c[0].findAncestor("table");n.insertColumns(b,{columns:1,at:o?m:m+1})}}class qk extends zt{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function Xk(a,t,e){const{startRow:n,startColumn:o,endRow:c,endColumn:h}=t,m=e.createElement("table"),b=c-n+1;for(let A=0;A<b;A++)e.insertElement("tableRow",m,"end");const v=[...new ne(a,{startRow:n,endRow:c,startColumn:o,endColumn:h,includeAllSlots:!0})];for(const{row:A,column:y,cell:S,isAnchor:M,cellAnchorRow:O,cellAnchorColumn:N}of v){const L=A-n,j=m.getChild(L);if(M){const W=e.cloneElement(S);e.append(W,j),iw(W,A,y,c,h,e)}else(O<n||N<o)&&Io(e,e.createPositionAt(j,"end"))}return function(A,y,S,M,O){const N=parseInt(y.getAttribute("headingRows")||0);N>0&&je("headingRows",N-S,A,O,0);const L=parseInt(y.getAttribute("headingColumns")||0);L>0&&je("headingColumns",L-M,A,O,0)}(m,a,n,o,e),m}function Jk(a,t,e=0){const n=[],o=new ne(a,{startRow:e,endRow:t-1});for(const c of o){const{row:h,cellHeight:m}=c,b=h+m-1;h<t&&t<=b&&n.push(c)}return n}function tw(a,t,e){const n=a.parent,o=n.parent,c=n.index,h=t-c,m={},b=parseInt(a.getAttribute("rowspan"))-h;b>1&&(m.rowspan=b);const v=parseInt(a.getAttribute("colspan")||1);v>1&&(m.colspan=v);const A=c+h,y=[...new ne(o,{startRow:c,endRow:A,includeAllSlots:!0})];let S,M=null;for(const O of y){const{row:N,column:L,cell:j}=O;j===a&&S===void 0&&(S=L),S!==void 0&&S===L&&N===A&&(M=Io(e,O.getPositionBefore(),m))}return je("rowspan",h,a,e),M}function ew(a,t){const e=[],n=new ne(a);for(const o of n){const{column:c,cellWidth:h}=o,m=c+h-1;c<t&&t<=m&&e.push(o)}return e}function nw(a,t,e,n){const o=e-t,c={},h=parseInt(a.getAttribute("colspan"))-o;h>1&&(c.colspan=h);const m=parseInt(a.getAttribute("rowspan")||1);m>1&&(c.rowspan=m);const b=Io(n,n.createPositionAfter(a),c);return je("colspan",o,a,n),b}function iw(a,t,e,n,o,c){const h=parseInt(a.getAttribute("colspan")||1),m=parseInt(a.getAttribute("rowspan")||1);e+h-1>o&&je("colspan",o-e+1,a,c,1),t+m-1>n&&je("rowspan",n-t+1,a,c,1)}function Hd(a,t){const e=t.getColumns(a),n=new Array(e).fill(0);for(const{column:c}of new ne(a))n[c]++;const o=n.reduce((c,h,m)=>h?c:[...c,m],[]);if(o.length>0){const c=o[o.length-1];return t.removeColumns(a,{at:c}),!0}return!1}function $d(a,t){const e=[],n=t.getRows(a);for(let o=0;o<n;o++)a.getChild(o).isEmpty&&e.push(o);if(e.length>0){const o=e[e.length-1];return t.removeRows(a,{at:o}),!0}return!1}function Wd(a,t){Hd(a,t)||$d(a,t)}function ow(a,t){const e=Array.from(new ne(a,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(e.every(({cellHeight:o})=>o===1))return t.lastRow;const n=e[0].cellHeight-1;return t.lastRow+n}function rw(a,t){const e=Array.from(new ne(a,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(e.every(({cellWidth:o})=>o===1))return t.lastColumn;const n=e[0].cellWidth-1;return t.lastColumn+n}class Ha extends zt{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],o=this.value,c=this.direction;t.change(h=>{const m=c=="right"||c=="down",b=m?n:o,v=m?o:n,A=v.parent;(function(N,L,j){sw(N)||(sw(L)&&j.remove(j.createRangeIn(L)),j.move(j.createRangeIn(N),j.createPositionAt(L,"end"))),j.remove(N)})(v,b,h);const y=this.isHorizontal?"colspan":"rowspan",S=parseInt(n.getAttribute(y)||1),M=parseInt(o.getAttribute(y)||1);h.setAttribute(y,S+M,b),h.setSelection(h.createRangeIn(b));const O=this.editor.plugins.get("TableUtils");Wd(A.findAncestor("table"),O)})}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),n=e.getTableCellsContainingSelection(t.selection)[0];if(!n)return;const o=this.isHorizontal?function(m,b,v){const A=m.parent.parent,y=b=="right"?m.nextSibling:m.previousSibling,S=(A.getAttribute("headingColumns")||0)>0;if(!y)return;const M=b=="right"?m:y,O=b=="right"?y:m,{column:N}=v.getCellLocation(M),{column:L}=v.getCellLocation(O),j=parseInt(M.getAttribute("colspan")||1),W=Ud(v,M),tt=Ud(v,O);if(!(S&&W!=tt))return N+j===L?y:void 0}(n,this.direction,e):function(m,b,v){const A=m.parent,y=A.parent,S=y.getChildIndex(A);if(b=="down"&&S===v.getRows(y)-1||b=="up"&&S===0)return;const M=parseInt(m.getAttribute("rowspan")||1),O=y.getAttribute("headingRows")||0,N=b=="down"&&S+M===O,L=b=="up"&&S===O;if(O&&(N||L))return;const j=parseInt(m.getAttribute("rowspan")||1),W=b=="down"?S+j:S,tt=[...new ne(y,{endRow:W})],ft=tt.find(ae=>ae.cell===m).column,At=tt.find(({row:ae,cellHeight:qt,column:mn})=>mn===ft&&(b=="down"?ae===W:W===ae+qt));return At&&At.cell}(n,this.direction,e);if(!o)return;const c=this.isHorizontal?"rowspan":"colspan",h=parseInt(n.getAttribute(c)||1);return parseInt(o.getAttribute(c)||1)===h?o:void 0}}function sw(a){return a.childCount==1&&a.getChild(0).is("element","paragraph")&&a.getChild(0).isEmpty}class T2 extends zt{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const o=n.findAncestor("table"),c=this.editor.plugins.get("TableUtils").getRows(o)-1,h=t.getRowIndexes(e),m=h.first===0&&h.last===c;this.isEnabled=!m}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(n),c=n[0],h=c.findAncestor("table"),m=e.getCellLocation(c).column;t.change(b=>{const v=o.last-o.first+1;e.removeRows(h,{at:o.first,rows:v});const A=function(y,S,M,O){const N=y.getChild(Math.min(S,O-1));let L=N.getChild(0),j=0;for(const W of N.getChildren()){if(j>M)return L;L=W,j+=parseInt(W.getAttribute("colspan")||1)}return L}(h,o.first,m,e.getRows(h));b.setSelection(b.createPositionAt(A,0))})}}class P2 extends zt{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const o=n.findAncestor("table"),c=t.getColumns(o),{first:h,last:m}=t.getColumnIndexes(e);this.isEnabled=m-h<c-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,n]=function(b,v){const A=v.getSelectionAffectedTableCells(b),y=A[0],S=A.pop(),M=[y,S];return y.isBefore(S)?M:M.reverse()}(this.editor.model.document.selection,t),o=e.parent.parent,c=[...new ne(o)],h={first:c.find(b=>b.cell===e).column,last:c.find(b=>b.cell===n).column},m=function(b,v,A,y){return parseInt(A.getAttribute("colspan")||1)>1?A:v.previousSibling||A.nextSibling?A.nextSibling||v.previousSibling:y.first?b.reverse().find(({column:S})=>S<y.first).cell:b.reverse().find(({column:S})=>S>y.last).cell}(c,e,n,h);this.editor.model.change(b=>{const v=h.last-h.first+1;this.editor.plugins.get("TableUtils").removeColumns(o,{at:h.first,columns:v}),b.setSelection(b.createPositionAt(m,0))})}}class O2 extends zt{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(c=>this._isInHeading(c,c.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=e.getSelectionAffectedTableCells(n.document.selection),c=o[0].findAncestor("table"),{first:h,last:m}=e.getRowIndexes(o),b=this.value?h:m+1,v=c.getAttribute("headingRows")||0;n.change(A=>{if(b){const y=Jk(c,b,b>v?v:0);for(const{cell:S}of y)tw(S,b,A)}je("headingRows",b,c,A,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}class N2 extends zt{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(c=>Ud(e,c))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=e.getSelectionAffectedTableCells(n.document.selection),c=o[0].findAncestor("table"),{first:h,last:m}=e.getColumnIndexes(o),b=this.value?h:m+1;n.change(v=>{if(b){const A=ew(c,b);for(const{cell:y,column:S}of A)nw(y,S,b,v)}je("headingColumns",b,c,v,0)})}}class dn extends dt{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,n=e.parent,o=n.getChildIndex(e),c=new ne(n,{row:o});for(const{cell:h,row:m,column:b}of c)if(h===t)return{row:m,column:b}}createTable(t,e){const n=t.createElement("table"),o=parseInt(e.rows)||2,c=parseInt(e.columns)||2;return Gd(t,n,0,o,c),e.headingRows&&je("headingRows",Math.min(e.headingRows,o),n,t,0),e.headingColumns&&je("headingColumns",Math.min(e.headingColumns,c),n,t,0),n}insertRows(t,e={}){const n=this.editor.model,o=e.at||0,c=e.rows||1,h=e.copyStructureFromAbove!==void 0,m=e.copyStructureFromAbove?o-1:o,b=this.getRows(t),v=this.getColumns(t);if(o>b)throw new w("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change(A=>{const y=t.getAttribute("headingRows")||0;if(y>o&&je("headingRows",y+c,t,A,0),!h&&(o===0||o===b))return void Gd(A,t,o,c,v);const S=h?Math.max(o,m):o,M=new ne(t,{endRow:S}),O=new Array(v).fill(1);for(const{row:N,column:L,cellHeight:j,cellWidth:W,cell:tt}of M){const ft=N+j-1,At=N<=m&&m<=ft;N<o&&o<=ft?(A.setAttribute("rowspan",j+c,tt),O[L]=-W):h&&At&&(O[L]=W)}for(let N=0;N<c;N++){const L=A.createElement("tableRow");A.insert(L,t,o);for(let j=0;j<O.length;j++){const W=O[j],tt=A.createPositionAt(L,"end");W>0&&Io(A,tt,W>1?{colspan:W}:null),j+=Math.abs(W)-1}}})}insertColumns(t,e={}){const n=this.editor.model,o=e.at||0,c=e.columns||1;n.change(h=>{const m=t.getAttribute("headingColumns");o<m&&h.setAttribute("headingColumns",m+c,t);const b=this.getColumns(t);if(o===0||b===o){for(const A of t.getChildren())A.is("element","tableRow")&&Cr(c,h,h.createPositionAt(A,o?"end":0));return}const v=new ne(t,{column:o,includeAllSlots:!0});for(const A of v){const{row:y,cell:S,cellAnchorColumn:M,cellAnchorRow:O,cellWidth:N,cellHeight:L}=A;if(M<o){h.setAttribute("colspan",N+c,S);const j=O+L-1;for(let W=y;W<=j;W++)v.skipRow(W)}else Cr(c,h,A.getPositionBefore())}})}removeRows(t,e){const n=this.editor.model,o=e.rows||1,c=this.getRows(t),h=e.at,m=h+o-1;if(m>c-1)throw new w("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change(b=>{const{cellsToMove:v,cellsToTrim:A}=function(y,S,M){const O=new Map,N=[];for(const{row:L,column:j,cellHeight:W,cell:tt}of new ne(y,{endRow:M})){const ft=L+W-1;if(L>=S&&L<=M&&ft>M){const At=W-(M-L+1);O.set(j,{cell:tt,rowspan:At})}if(L<S&&ft>=S){let At;At=ft>=M?M-S+1:ft-S+1,N.push({cell:tt,rowspan:W-At})}}return{cellsToMove:O,cellsToTrim:N}}(t,h,m);v.size&&function(y,S,M,O){const N=[...new ne(y,{includeAllSlots:!0,row:S})],L=y.getChild(S);let j;for(const{column:W,cell:tt,isAnchor:ft}of N)if(M.has(W)){const{cell:At,rowspan:ae}=M.get(W),qt=j?O.createPositionAfter(j):O.createPositionAt(L,0);O.move(O.createRangeOn(At),qt),je("rowspan",ae,At,O),j=At}else ft&&(j=tt)}(t,m+1,v,b);for(let y=m;y>=h;y--)b.remove(t.getChild(y));for(const{rowspan:y,cell:S}of A)je("rowspan",y,S,b);(function(y,S,M,O){const N=y.getAttribute("headingRows")||0;S<N&&je("headingRows",M<N?N-(M-S+1):S,y,O,0)})(t,h,m,b),Hd(t,this)||$d(t,this)})}removeColumns(t,e){const n=this.editor.model,o=e.at,c=e.columns||1,h=e.at+c-1;n.change(m=>{(function(b,v,A){const y=b.getAttribute("headingColumns")||0;if(y&&v.first<y){const S=Math.min(y-1,v.last)-v.first+1;A.setAttribute("headingColumns",y-S,b)}})(t,{first:o,last:h},m);for(let b=h;b>=o;b--)for(const{cell:v,column:A,cellWidth:y}of[...new ne(t)])A<=b&&y>1&&A+y>b?je("colspan",y-1,v,m):A===b&&m.remove(v);$d(t,this)||Hd(t,this)})}splitCellVertically(t,e=2){const n=this.editor.model,o=t.parent.parent,c=parseInt(t.getAttribute("rowspan")||1),h=parseInt(t.getAttribute("colspan")||1);n.change(m=>{if(h>1){const{newCellsSpan:b,updatedSpan:v}=aw(h,e);je("colspan",v,t,m);const A={};b>1&&(A.colspan=b),c>1&&(A.rowspan=c),Cr(h>e?e-1:h-1,m,m.createPositionAfter(t),A)}if(h<e){const b=e-h,v=[...new ne(o)],{column:A}=v.find(({cell:O})=>O===t),y=v.filter(({cell:O,cellWidth:N,column:L})=>O!==t&&L===A||L<A&&L+N>A);for(const{cell:O,cellWidth:N}of y)m.setAttribute("colspan",N+b,O);const S={};c>1&&(S.rowspan=c),Cr(b,m,m.createPositionAfter(t),S);const M=o.getAttribute("headingColumns")||0;M>A&&je("headingColumns",M+b,o,m)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,o=t.parent,c=o.parent,h=c.getChildIndex(o),m=parseInt(t.getAttribute("rowspan")||1),b=parseInt(t.getAttribute("colspan")||1);n.change(v=>{if(m>1){const A=[...new ne(c,{startRow:h,endRow:h+m-1,includeAllSlots:!0})],{newCellsSpan:y,updatedSpan:S}=aw(m,e);je("rowspan",S,t,v);const{column:M}=A.find(({cell:N})=>N===t),O={};y>1&&(O.rowspan=y),b>1&&(O.colspan=b);for(const N of A){const{column:L,row:j}=N,W=L===M,tt=(j+h+S)%y==0;j>=h+S&&W&&tt&&Cr(1,v,N.getPositionBefore(),O)}}if(m<e){const A=e-m,y=[...new ne(c,{startRow:0,endRow:h})];for(const{cell:O,cellHeight:N,row:L}of y)if(O!==t&&L+N>h){const j=N+A;v.setAttribute("rowspan",j,O)}const S={};b>1&&(S.colspan=b),Gd(v,c,h+1,A,1,S);const M=c.getAttribute("headingRows")||0;M>h&&je("headingRows",M+A,c,v)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((e,n)=>e+parseInt(n.getAttribute("colspan")||1),0)}getRows(t){return Array.from(t.getChildren()).reduce((e,n)=>n.is("element","tableRow")?e+1:e,0)}createTableWalker(t,e={}){return new ne(t,e)}getSelectedTableCells(t){const e=[];for(const n of this.sortRanges(t.getRanges())){const o=n.getContainedElement();o&&o.is("element","tableCell")&&e.push(o)}return e}getTableCellsContainingSelection(t){const e=[];for(const n of t.getRanges()){const o=n.start.findAncestor("tableCell");o&&e.push(o)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(n=>n.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),n=[...new ne(e)].filter(o=>t.includes(o.cell)).map(o=>o.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,n=new Set;let o=0;for(const h of t){const{row:m,column:b}=this.getCellLocation(h),v=parseInt(h.getAttribute("rowspan")||1),A=parseInt(h.getAttribute("colspan")||1);e.add(m),n.add(b),v>1&&e.add(m+v-1),A>1&&n.add(b+A-1),o+=v*A}return function(h,m){const b=Array.from(h.values()),v=Array.from(m.values()),A=Math.max(...b),y=Math.min(...b),S=Math.max(...v),M=Math.min(...v);return(A-y+1)*(S-M+1)}(e,n)==o}sortRanges(t){return Array.from(t).sort(B2)}_getFirstLastIndexesObject(t){const e=t.sort((n,o)=>n-o);return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),n=this.getRowIndexes(t),o=parseInt(e.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(n,o))return!1;const c=parseInt(e.getAttribute("headingColumns")||0),h=this.getColumnIndexes(t);return this._areIndexesInSameSection(h,c)}_areIndexesInSameSection({first:t,last:e},n){return t<n==e<n}}function Gd(a,t,e,n,o,c={}){for(let h=0;h<n;h++){const m=a.createElement("tableRow");a.insert(m,t,e),Cr(o,a,a.createPositionAt(m,"end"),c)}}function Cr(a,t,e,n={}){for(let o=0;o<a;o++)Io(t,e,n)}function aw(a,t){if(a<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(a/t);return{newCellsSpan:e,updatedSpan:a-e*t+e}}function B2(a,t){const e=a.start,n=t.start;return e.isBefore(n)?-1:1}class L2 extends zt{refresh(){const t=this.editor.plugins.get(dn),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e,this.editor.plugins.get(dn))}execute(){const t=this.editor.model,e=this.editor.plugins.get(dn);t.change(n=>{const o=e.getSelectedTableCells(t.document.selection),c=o.shift(),{mergeWidth:h,mergeHeight:m}=function(b,v,A){let y=0,S=0;for(const N of v){const{row:L,column:j}=A.getCellLocation(N);y=cw(N,j,y,"colspan"),S=cw(N,L,S,"rowspan")}const{row:M,column:O}=A.getCellLocation(b);return{mergeWidth:y-O,mergeHeight:S-M}}(c,o,e);je("colspan",h,c,n),je("rowspan",m,c,n);for(const b of o)z2(b,c,n);Wd(c.findAncestor("table"),e),n.setSelection(c,"in")})}}function z2(a,t,e){lw(a)||(lw(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(a),e.createPositionAt(t,"end"))),e.remove(a)}function lw(a){return a.childCount==1&&a.getChild(0).is("element","paragraph")&&a.getChild(0).isEmpty}function cw(a,t,e,n){const o=parseInt(a.getAttribute(n)||1);return Math.max(e,t+o)}class R2 extends zt{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(n),c=n[0].findAncestor("table"),h=[];for(let m=o.first;m<=o.last;m++)for(const b of c.getChild(m).getChildren())h.push(t.createRangeOn(b));t.change(m=>{m.setSelection(h)})}}class j2 extends zt{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),o=n[0],c=n.pop(),h=o.findAncestor("table"),m=t.getCellLocation(o),b=t.getCellLocation(c),v=Math.min(m.column,b.column),A=Math.max(m.column,b.column),y=[];for(const S of new ne(h,{startColumn:v,endColumn:A}))y.push(e.createRangeOn(S.cell));e.change(S=>{S.setSelection(y)})}}function F2(a){a.document.registerPostFixer(t=>function(e,n){const o=n.document.differ.getChanges();let c=!1;const h=new Set;for(const m of o){let b;m.name=="table"&&m.type=="insert"&&(b=m.position.nodeAfter),m.name!="tableRow"&&m.name!="tableCell"||(b=m.position.findAncestor("table")),H2(m)&&(b=m.range.start.findAncestor("table")),b&&!h.has(b)&&(c=V2(b,e)||c,c=U2(b,e)||c,h.add(b))}return c}(t,a))}function V2(a,t){let e=!1;const n=function(o){const c=parseInt(o.getAttribute("headingRows")||0),h=Array.from(o.getChildren()).reduce((b,v)=>v.is("element","tableRow")?b+1:b,0),m=[];for(const{row:b,cell:v,cellHeight:A}of new ne(o)){if(A<2)continue;const y=b<c?c:h;if(b+A>y){const S=y-b;m.push({cell:v,rowspan:S})}}return m}(a);if(n.length){e=!0;for(const o of n)je("rowspan",o.rowspan,o.cell,t,1)}return e}function U2(a,t){let e=!1;const n=function(m){const b=new Array(m.childCount).fill(0);for(const{rowIndex:v}of new ne(m,{includeAllSlots:!0}))b[v]++;return b}(a),o=[];for(const[m,b]of n.entries())!b&&a.getChild(m).is("element","tableRow")&&o.push(m);if(o.length){e=!0;for(const m of o.reverse())t.remove(a.getChild(m)),n.splice(m,1)}const c=n.filter((m,b)=>a.getChild(b).is("element","tableRow")),h=c[0];if(!c.every(m=>m===h)){const m=c.reduce((b,v)=>v>b?v:b,0);for(const[b,v]of c.entries()){const A=m-v;if(A){for(let y=0;y<A;y++)Io(t,t.createPositionAt(a.getChild(b),"end"));e=!0}}}return e}function H2(a){const t=a.type==="attribute",e=a.attributeKey;return t&&(e==="headingRows"||e==="colspan"||e==="rowspan")}function $2(a){a.document.registerPostFixer(t=>function(e,n){const o=n.document.differ.getChanges();let c=!1;for(const h of o)h.type=="insert"&&h.name=="table"&&(c=W2(h.position.nodeAfter,e)||c),h.type=="insert"&&h.name=="tableRow"&&(c=dw(h.position.nodeAfter,e)||c),h.type=="insert"&&h.name=="tableCell"&&(c=Yd(h.position.nodeAfter,e)||c),G2(h)&&(c=Yd(h.position.parent,e)||c);return c}(t,a))}function W2(a,t){let e=!1;for(const n of a.getChildren())n.is("element","tableRow")&&(e=dw(n,t)||e);return e}function dw(a,t){let e=!1;for(const n of a.getChildren())e=Yd(n,t)||e;return e}function Yd(a,t){if(a.childCount==0)return t.insertElement("paragraph",a),!0;const e=Array.from(a.getChildren()).filter(n=>n.is("$text"));for(const n of e)t.wrap(t.createRangeOn(n),"paragraph");return!!e.length}function G2(a){return!(!a.position||!a.position.parent.is("element","tableCell"))&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function Y2(a,t){if(!a.is("element","paragraph"))return!1;const e=t.toViewElement(a);return!!e&&Kk(a)!==e.is("element","span")}var uw=u(3881),K2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(uw.Z,K2),uw.Z.locals;class Q2 extends dt{static get pluginName(){return"TableEditing"}static get requires(){return[dn]}init(){const t=this.editor,e=t.model,n=e.schema,o=t.conversion,c=t.plugins.get(dn);n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowChildren:"$block",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),o.for("upcast").add(h=>{h.on("element:figure",(m,b,v)=>{if(!v.consumable.test(b.viewItem,{name:!0,classes:"table"}))return;const A=function(S){for(const M of S.getChildren())if(M.is("element","table"))return M}(b.viewItem);if(!A||!v.consumable.test(A,{name:!0}))return;v.consumable.consume(b.viewItem,{name:!0,classes:"table"});const y=xn(v.convertItem(A,b.modelCursor).modelRange.getItems());y?(v.convertChildren(b.viewItem,v.writer.createPositionAt(y,"end")),v.updateConversionResult(y,b)):v.consumable.revert(b.viewItem,{name:!0,classes:"table"})})}),o.for("upcast").add(S2()),o.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Wk(c,{asWidget:!0})}),o.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Wk(c)}),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("upcast").add(h=>{h.on("element:tr",(m,b)=>{b.viewItem.isEmpty&&b.modelCursor.index==0&&m.stop()},{priority:"high"})}),o.for("downcast").elementToElement({model:"tableRow",view:(h,{writer:m})=>h.isEmpty?m.createEmptyElement("tr"):m.createContainerElement("tr")}),o.for("upcast").elementToElement({model:"tableCell",view:"td"}),o.for("upcast").elementToElement({model:"tableCell",view:"th"}),o.for("upcast").add($k("td")),o.for("upcast").add($k("th")),o.for("editingDowncast").elementToElement({model:"tableCell",view:Gk({asWidget:!0})}),o.for("dataDowncast").elementToElement({model:"tableCell",view:Gk()}),o.for("editingDowncast").elementToElement({model:"paragraph",view:Yk({asWidget:!0}),converterPriority:"high"}),o.for("dataDowncast").elementToElement({model:"paragraph",view:Yk(),converterPriority:"high"}),o.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),o.for("upcast").attributeToAttribute({model:{key:"colspan",value:hw("colspan")},view:"colspan"}),o.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("upcast").attributeToAttribute({model:{key:"rowspan",value:hw("rowspan")},view:"rowspan"}),t.data.mapper.on("modelToViewPosition",(h,m)=>{const b=m.modelPosition.parent,v=m.modelPosition.nodeBefore;if(!b.is("element","tableCell")||!v||!v.is("element","paragraph"))return;const A=m.mapper.toViewElement(v),y=m.mapper.toViewElement(b);A===y&&(m.viewPosition=m.mapper.findPositionIn(y,v.maxOffset))}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new I2(t)),t.commands.add("insertTableRowAbove",new Qk(t,{order:"above"})),t.commands.add("insertTableRowBelow",new Qk(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new Zk(t,{order:"left"})),t.commands.add("insertTableColumnRight",new Zk(t,{order:"right"})),t.commands.add("removeTableRow",new T2(t)),t.commands.add("removeTableColumn",new P2(t)),t.commands.add("splitTableCellVertically",new qk(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new qk(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new L2(t)),t.commands.add("mergeTableCellRight",new Ha(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Ha(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Ha(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Ha(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new N2(t)),t.commands.add("setTableRowHeader",new O2(t)),t.commands.add("selectTableRow",new R2(t)),t.commands.add("selectTableColumn",new j2(t)),F2(e),$2(e),this.listenTo(e.document,"change:data",()=>{(function(h,m){const b=h.document.differ;for(const v of b.getChanges()){let A,y=!1;if(v.type=="attribute"){const N=v.range.start.nodeAfter;if(!N||!N.is("element","table")||v.attributeKey!="headingRows"&&v.attributeKey!="headingColumns")continue;A=N,y=v.attributeKey=="headingRows"}else v.name!="tableRow"&&v.name!="tableCell"||(A=v.position.findAncestor("table"),y=v.name=="tableRow");if(!A)continue;const S=A.getAttribute("headingRows")||0,M=A.getAttribute("headingColumns")||0,O=new ne(A);for(const N of O){const L=N.row<S||N.column<M?"th":"td",j=m.mapper.toViewElement(N.cell);j&&j.is("element")&&j.name!=L&&m.reconvertItem(y?N.cell.parent:N.cell)}}})(e,t.editing),function(h,m){const b=h.document.differ,v=new Set;for(const A of b.getChanges()){const y=A.type=="attribute"?A.range.start.parent:A.position.parent;y.is("element","tableCell")&&v.add(y)}for(const A of v.values()){const y=Array.from(A.getChildren()).filter(S=>Y2(S,m.mapper));for(const S of y)m.reconvertItem(S)}}(e,t.editing)})}}function hw(a){return t=>{const e=parseInt(t.getAttribute(a));return Number.isNaN(e)||e<=0?null:e}}var gw=u(1613),Z2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(gw.Z,Z2),gw.Z.locals;class q2 extends Ot{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,o)=>`${o} \xD7 ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(n=>{n.preventDefault()}),click:e.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,o)=>{const{row:c,column:h}=o.target.dataset;this.set({rows:parseInt(c),columns:parseInt(h)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,o)=>{const c=Math.floor(o/10)<t&&o%10<e;n.set("isOn",c)})}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10),o=e%10;t.push(new X2(this.locale,n+1,o+1))}return this.createCollection(t)}}class X2 extends Ot{constructor(t,e,n){super(t);const o=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",o.if("isOn","ck-on")],"data-row":e,"data-column":n}})}}class J2 extends dt{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,n=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",o=>{const c=t.commands.get("insertTable"),h=So(o);let m;return h.bind("isEnabled").to(c),h.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("Insert table"),tooltip:!0}),h.on("change:isOpen",()=>{m||(m=new q2(o),h.panelView.children.add(m),m.delegate("execute").to(h),h.buttonView.on("open",()=>{m.rows=0,m.columns=0}),h.on("execute",()=>{t.execute("insertTable",{rows:m.rows,columns:m.columns}),t.editing.view.focus()}))}),h}),t.ui.componentFactory.add("tableColumn",o=>{const c=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',c,o)}),t.ui.componentFactory.add("tableRow",o=>{const c=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',c,o)}),t.ui.componentFactory.add("mergeTableCells",o=>{const c=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',c,o)})}_prepareDropdown(t,e,n,o){const c=this.editor,h=So(o),m=this._fillDropdownWithListOptions(h,n);return h.buttonView.set({label:t,icon:e,tooltip:!0}),h.bind("isEnabled").toMany(m,"isEnabled",(...b)=>b.some(v=>v)),this.listenTo(h,"execute",b=>{c.execute(b.source.commandName),c.editing.view.focus()}),h}_prepareMergeSplitButtonDropdown(t,e,n,o){const c=this.editor,h=So(o,Op),m="mergeTableCells",b=c.commands.get(m),v=this._fillDropdownWithListOptions(h,n);return h.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),h.bind("isEnabled").toMany([b,...v],"isEnabled",(...A)=>A.some(y=>y)),this.listenTo(h.buttonView,"execute",()=>{c.execute(m),c.editing.view.focus()}),this.listenTo(h,"execute",A=>{c.execute(A.source.commandName),c.editing.view.focus()}),h}_fillDropdownWithListOptions(t,e){const n=this.editor,o=[],c=new Yn;for(const h of e)tD(h,n,o,c);return Wp(t,c,n.ui.componentFactory),o}}function tD(a,t,e,n){const o=a.model=new gd(a.model),{commandName:c,bindIsOn:h}=a.model;if(a.type==="button"||a.type==="switchbutton"){const m=t.commands.get(c);e.push(m),o.set({commandName:c}),o.bind("isEnabled").to(m),h&&o.bind("isOn").to(m,"value")}o.set({withText:!0}),n.add(a)}var fw=u(6945),eD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(fw.Z,eD),fw.Z.locals;class To extends dt{static get pluginName(){return"TableSelection"}static get requires(){return[dn,dn]}init(){const t=this.editor.model;this.listenTo(t,"deleteContent",(e,n)=>this._handleDeleteContent(e,n),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(dn),e=this.editor.model.document.selection,n=t.getSelectedTableCells(e);return n.length==0?null:n}getSelectionAsFragment(){const t=this.editor.plugins.get(dn),e=this.getSelectedTableCells();return e?this.editor.model.change(n=>{const o=n.createDocumentFragment(),{first:c,last:h}=t.getColumnIndexes(e),{first:m,last:b}=t.getRowIndexes(e),v=e[0].findAncestor("table");let A=b,y=h;if(t.isSelectionRectangular(e)){const M={firstColumn:c,lastColumn:h,firstRow:m,lastRow:b};A=ow(v,M),y=rw(v,M)}const S=Xk(v,{startRow:m,startColumn:c,endRow:A,endColumn:y},n);return n.insert(S,o,0),o}):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change(o=>{o.setSelection(n.cells.map(c=>o.createRangeOn(c)),{backward:n.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=xn(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(n=>n.on("selection",(o,c,h)=>{const m=h.writer;(function(A){for(const y of e)A.removeClass("ck-editor__editable_selected",y);e.clear()})(m);const b=this.getSelectedTableCells();if(!b)return;for(const A of b){const y=h.mapper.toViewElement(A);m.addClass("ck-editor__editable_selected",y),e.add(y)}const v=h.mapper.toViewElement(b[b.length-1]);m.setSelection(v,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(n=>{const o=n.createPositionAt(e[0],0),c=t.model.schema.getNearestSelectionRange(o);n.setSelection(c)})}})}_handleDeleteContent(t,e){const n=this.editor.plugins.get(dn),[o,c]=e,h=this.editor.model,m=!c||c.direction=="backward",b=n.getSelectedTableCells(o);b.length&&(t.stop(),h.change(v=>{const A=b[m?b.length-1:0];h.change(S=>{for(const M of b)h.deleteContent(S.createSelection(M,"in"))});const y=h.schema.getNearestSelectionRange(v.createPositionAt(A,0));o.is("documentSelection")?v.setSelection(y):o.setTo(y)}))}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),o=n.getCellLocation(t),c=n.getCellLocation(e),h=Math.min(o.row,c.row),m=Math.max(o.row,c.row),b=Math.min(o.column,c.column),v=Math.max(o.column,c.column),A=new Array(m-h+1).fill(null).map(()=>[]),y={startRow:h,endRow:m,startColumn:b,endColumn:v};for(const{row:O,cell:N}of new ne(t.findAncestor("table"),y))A[O-h].push(N);const S=c.row<o.row,M=c.column<o.column;return S&&A.reverse(),M&&A.forEach(O=>O.reverse()),{cells:A.flat(),backward:S||M}}}class nD extends dt{static get pluginName(){return"TableClipboard"}static get requires(){return[To,dn]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(n,o)=>this._onCopyCut(n,o)),this.listenTo(e,"cut",(n,o)=>this._onCopyCut(n,o)),this.listenTo(t.model,"insertContent",(n,o)=>this._onInsertContent(n,...o),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const n=this.editor.plugins.get(To);if(!n.getSelectedTableCells()||t.name=="cut"&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const o=this.editor.data,c=this.editor.editing.view.document,h=o.toView(n.getSelectionAsFragment());c.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:h,method:t.name})}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const o=this.editor.model,c=this.editor.plugins.get(dn);let h=pw(e,o);if(!h)return;const m=c.getSelectionAffectedTableCells(o.document.selection);m.length?(t.stop(),o.change(b=>{const v={width:c.getColumns(h),height:c.getRows(h)},A=function(L,j,W,tt){const ft=L[0].findAncestor("table"),At=tt.getColumnIndexes(L),ae=tt.getRowIndexes(L),qt={firstColumn:At.first,lastColumn:At.last,firstRow:ae.first,lastRow:ae.last},mn=L.length===1;return mn&&(qt.lastRow+=j.height-1,qt.lastColumn+=j.width-1,function(qe,Fn,Jn,ti){const Vi=ti.getColumns(qe),Ui=ti.getRows(qe);Jn>Vi&&ti.insertColumns(qe,{at:Vi,columns:Jn-Vi}),Fn>Ui&&ti.insertRows(qe,{at:Ui,rows:Fn-Ui})}(ft,qt.lastRow+1,qt.lastColumn+1,tt)),mn||!tt.isSelectionRectangular(L)?function(qe,Fn,Jn){const{firstRow:ti,lastRow:Vi,firstColumn:Ui,lastColumn:_r}=Fn,_w={first:ti,last:Vi},Aw={first:Ui,last:_r};Qd(qe,Ui,_w,Jn),Qd(qe,_r+1,_w,Jn),Kd(qe,ti,Aw,Jn),Kd(qe,Vi+1,Aw,Jn,ti)}(ft,qt,W):(qt.lastRow=ow(ft,qt),qt.lastColumn=rw(ft,qt)),qt}(m,v,b,c),y=A.lastRow-A.firstRow+1,S=A.lastColumn-A.firstColumn+1,M={startRow:0,startColumn:0,endRow:Math.min(y,v.height)-1,endColumn:Math.min(S,v.width)-1};h=Xk(h,M,b);const O=m[0].findAncestor("table"),N=this._replaceSelectedCellsWithPasted(h,v,O,A,b);if(this.editor.plugins.get("TableSelection").isEnabled){const L=c.sortRanges(N.map(j=>b.createRangeOn(j)));b.setSelection(L)}else b.setSelection(N[0],0)})):Wd(h,c)}_replaceSelectedCellsWithPasted(t,e,n,o,c){const{width:h,height:m}=e,b=function(L,j,W){const tt=new Array(W).fill(null).map(()=>new Array(j).fill(null));for(const{column:ft,row:At,cell:ae}of new ne(L))tt[At][ft]=ae;return tt}(t,h,m),v=[...new ne(n,{startRow:o.firstRow,endRow:o.lastRow,startColumn:o.firstColumn,endColumn:o.lastColumn,includeAllSlots:!0})],A=[];let y;for(const L of v){const{row:j,column:W}=L;W===o.firstColumn&&(y=L.getPositionBefore());const tt=j-o.firstRow,ft=W-o.firstColumn,At=b[tt%m][ft%h],ae=At?c.cloneElement(At):null,qt=this._replaceTableSlotCell(L,ae,y,c);qt&&(iw(qt,j,W,o.lastRow,o.lastColumn,c),A.push(qt),y=c.createPositionAfter(qt))}const S=parseInt(n.getAttribute("headingRows")||0),M=parseInt(n.getAttribute("headingColumns")||0),O=o.firstRow<S&&S<=o.lastRow,N=o.firstColumn<M&&M<=o.lastColumn;if(O){const L=Kd(n,S,{first:o.firstColumn,last:o.lastColumn},c,o.firstRow);A.push(...L)}if(N){const L=Qd(n,M,{first:o.firstRow,last:o.lastRow},c);A.push(...L)}return A}_replaceTableSlotCell(t,e,n,o){const{cell:c,isAnchor:h}=t;return h&&o.remove(c),e?(o.insert(e,n),e):null}getTableIfOnlyTableInContent(t,e){return pw(t,e)}}function pw(a,t){if(!a.is("documentFragment")&&!a.is("element"))return null;if(a.is("element","table"))return a;if(a.childCount==1&&a.getChild(0).is("element","table"))return a.getChild(0);const e=t.createRangeIn(a);for(const n of e.getItems())if(n.is("element","table")){const o=t.createRange(e.start,t.createPositionBefore(n));if(t.hasContent(o,{ignoreWhitespaces:!0}))return null;const c=t.createRange(t.createPositionAfter(n),e.end);return t.hasContent(c,{ignoreWhitespaces:!0})?null:n}return null}function Kd(a,t,e,n,o=0){if(!(t<1))return Jk(a,t,o).filter(({column:c,cellWidth:h})=>mw(c,h,e)).map(({cell:c})=>tw(c,t,n))}function Qd(a,t,e,n){if(!(t<1))return ew(a,t).filter(({row:o,cellHeight:c})=>mw(o,c,e)).map(({cell:o,column:c})=>nw(o,c,t,n))}function mw(a,t,e){const n=a+t-1,{first:o,last:c}=e;return a>=o&&a<=c||a<o&&n>=o}class iD extends dt{static get pluginName(){return"TableKeyboard"}static get requires(){return[To,dn]}init(){const t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(...e)=>this._handleTabOnSelectedTable(...e),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"arrowKey",(...e)=>this._onArrowKey(...e),{context:"table"})}_handleTabOnSelectedTable(t,e){const n=this.editor,o=n.model.document.selection.getSelectedElement();o&&o.is("element","table")&&(e(),n.model.change(c=>{c.setSelection(c.createRangeIn(o.getChild(0).getChild(0)))}))}_getTabHandler(t){const e=this.editor,n=this.editor.plugins.get(dn);return(o,c)=>{const h=e.model.document.selection;let m=n.getTableCellsContainingSelection(h)[0];if(m||(m=this.editor.plugins.get("TableSelection").getFocusCell()),!m)return;c();const b=m.parent,v=b.parent,A=v.getChildIndex(b),y=b.getChildIndex(m),S=y===0;if(!t&&S&&A===0)return void e.model.change(L=>{L.setSelection(L.createRangeOn(v))});const M=y===b.childCount-1,O=A===n.getRows(v)-1;if(t&&O&&M&&(e.execute("insertTableRowBelow"),A===n.getRows(v)-1))return void e.model.change(L=>{L.setSelection(L.createRangeOn(v))});let N;if(t&&M)N=v.getChild(A+1).getChild(0);else if(!t&&S){const L=v.getChild(A-1);N=L.getChild(L.childCount-1)}else N=b.getChild(y+(t?1:-1));e.model.change(L=>{L.setSelection(L.createRangeIn(N))})}}_onArrowKey(t,e){const n=this.editor,o=Pc(e.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(o,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.plugins.get(dn),o=this.editor.model,c=o.document.selection,h=["right","down"].includes(t),m=n.getSelectedTableCells(c);if(m.length){let v;return v=e?this.editor.plugins.get("TableSelection").getFocusCell():h?m[m.length-1]:m[0],this._navigateFromCellInDirection(v,t,e),!0}const b=c.focus.findAncestor("tableCell");if(!b)return!1;if(!c.isCollapsed)if(e){if(c.isBackward==h&&!c.containsEntireContent(b))return!1}else{const v=c.getSelectedElement();if(!v||!o.schema.isObject(v))return!1}return!!this._isSelectionAtCellEdge(c,b,h)&&(this._navigateFromCellInDirection(b,t,e),!0)}_isSelectionAtCellEdge(t,e,n){const o=this.editor.model,c=this.editor.model.schema,h=n?t.getLastPosition():t.getFirstPosition();if(!c.getLimitElement(h).is("element","tableCell"))return o.createPositionAt(e,n?"end":0).isTouching(h);const m=o.createSelection(h);return o.modifySelection(m,{direction:n?"forward":"backward"}),h.isEqual(m.focus)}_navigateFromCellInDirection(t,e,n=!1){const o=this.editor.model,c=t.findAncestor("table"),h=[...new ne(c,{includeAllSlots:!0})],{row:m,column:b}=h[h.length-1],v=h.find(({cell:N})=>N==t);let{row:A,column:y}=v;switch(e){case"left":y--;break;case"up":A--;break;case"right":y+=v.cellWidth;break;case"down":A+=v.cellHeight}if(A<0||A>m||y<0&&A<=0||y>b&&A>=m)return void o.change(N=>{N.setSelection(N.createRangeOn(c))});y<0?(y=n?0:b,A--):y>b&&(y=n?b:0,A++);const S=h.find(N=>N.row==A&&N.column==y).cell,M=["right","down"].includes(e),O=this.editor.plugins.get("TableSelection");if(n&&O.isEnabled){const N=O.getAnchorCell()||t;O.setCellSelection(N,S)}else{const N=o.createPositionAt(S,M?0:"end");o.change(L=>{L.setSelection(N)})}}}class oD extends Ji{constructor(t){super(t),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class rD extends dt{static get pluginName(){return"TableMouse"}static get requires(){return[To,dn]}init(){this.editor.editing.view.addObserver(oD),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(dn);let n=!1;const o=t.plugins.get(To);this.listenTo(t.editing.view.document,"mousedown",(c,h)=>{const m=t.model.document.selection;if(!this.isEnabled||!o.isEnabled||!h.domEvent.shiftKey)return;const b=o.getAnchorCell()||e.getTableCellsContainingSelection(m)[0];if(!b)return;const v=this._getModelTableCellFromDomEvent(h);v&&bw(b,v)&&(n=!0,o.setCellSelection(b,v),h.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(t.editing.view.document,"selectionChange",c=>{n&&c.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,o=!1,c=!1;const h=t.plugins.get(To);this.listenTo(t.editing.view.document,"mousedown",(m,b)=>{this.isEnabled&&h.isEnabled&&(b.domEvent.shiftKey||b.domEvent.ctrlKey||b.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(b)))}),this.listenTo(t.editing.view.document,"mousemove",(m,b)=>{if(!b.domEvent.buttons||!e)return;const v=this._getModelTableCellFromDomEvent(b);v&&bw(e,v)&&(n=v,o||n==e||(o=!0)),o&&(c=!0,h.setCellSelection(e,n),b.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{o=!1,c=!1,e=null,n=null}),this.listenTo(t.editing.view.document,"selectionChange",m=>{c&&m.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,n=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function bw(a,t){return a.parent.parent==t.parent.parent}var kw=u(6306),sD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(kw.Z,sD),kw.Z.locals;function aD(a){const t=a.getSelectedElement();return t&&ww(t)?t:null}function lD(a){let t=a.getFirstPosition().parent;for(;t;){if(t.is("element")&&ww(t))return t;t=t.parent}return null}function ww(a){return!!a.getCustomProperty("table")&&Le(a)}const Zd={autoRefresh:!0},vw=36e5;class $a{constructor(t,e=Zd){if(!t)throw new w("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh=typeof t=="function"?t:()=>{return n=t,new Promise((o,c)=>{const h=new XMLHttpRequest;h.open("GET",n),h.addEventListener("load",()=>{const m=h.status,b=h.response;return m<200||m>299?c(new w("token-cannot-download-new-token",null)):o(b)}),h.addEventListener("error",()=>c(new Error("Network Error"))),h.addEventListener("abort",()=>c(new Error("Abort"))),h.send()});var n},this._options=Object.assign({},Zd,e)}init(){return new Promise((t,e)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(e)})}refreshToken(){return this._refresh().then(t=>{this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e=typeof t=="string",n=!/^".*"$/.test(t),o=e&&t.split(".").length===3;if(!n||!o)throw new w("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));return e?Math.floor((1e3*e-Date.now())/2):vw}catch{return vw}}static create(t,e=Zd){return new $a(t,e).init()}}Ct($a,me);const cD=$a,qd=/^data:(\S*?);base64,/;class Cw{constructor(t,e,n){if(!t)throw new w("fileuploader-missing-file",null);if(!e)throw new w("fileuploader-missing-token",null);if(!n)throw new w("fileuploader-missing-api-address",null);this.file=function(o){if(typeof o!="string")return!1;const c=o.match(qd);return!(!c||!c.length)}(t)?function(o,c=512){try{const h=o.match(qd)[1],m=atob(o.replace(qd,"")),b=[];for(let v=0;v<m.length;v+=c){const A=m.slice(v,v+c),y=new Array(A.length);for(let S=0;S<A.length;S++)y[S]=A.charCodeAt(S);b.push(new Uint8Array(y))}return new Blob(b,{type:h})}catch{throw new w("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(o){return()=>t.fire("error",o)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",o=>{o.lengthComputable&&this.fire("progress",{total:o.total,uploaded:o.loaded})}),e.addEventListener("load",()=>{const o=e.status,c=e.response;if(o<200||o>299)return this.fire("error",c.message||c.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,o)=>{e.addEventListener("load",()=>{const c=e.status,h=e.response;return c<200||c>299?h.message?o(new w("fileuploader-uploading-data-failed",this,{message:h.message})):o(h.error):n(h)}),e.addEventListener("error",()=>o(new Error("Network Error"))),e.addEventListener("abort",()=>o(new Error("Abort"))),e.send(t)})}}Ct(Cw,R);class dD{constructor(t,e){if(!t)throw new w("uploadgateway-missing-token",null);if(!e)throw new w("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new Cw(t,this._token,this._apiAddress)}}class uD extends Qr{static get pluginName(){return"CloudServicesCore"}createToken(t,e){return new cD(t,e)}createUploadGateway(t,e){return new dD(t,e)}}class Xd extends bd{}Xd.builtinPlugins=[class extends dt{static get requires(){return[Um,Oa,iE,Xx,sE,nb]}static get pluginName(){return"Essentials"}},class extends dt{static get requires(){return[yi]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const a=this.editor.config.get("ckfinder.uploadUrl");a&&(this.editor.plugins.get(yi).createUploadAdapter=t=>new AE(t,a,this.editor.t))}},class extends dt{static get requires(){return[to]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&eo(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&eo(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&eo(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&eo(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const t=za(this.editor,"bold");br(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),br(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(a.get("italic")){const t=za(this.editor,"italic");br(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),br(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(a.get("code")){const t=za(this.editor,"code");br(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(a.get("strikethrough")){const t=za(this.editor,"strikethrough");br(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const e=t[7],n=new RegExp(`^(#{${e}})\\s$`);eo(this.editor,this,n,()=>{if(!a.isEnabled||a.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&eo(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,t=a.model.document.selection;a.commands.get("codeBlock")&&eo(a,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&eo(this.editor,this,/^---$/,"horizontalLine")}},class extends dt{static get requires(){return[yE,xE]}static get pluginName(){return"Bold"}},class extends dt{static get requires(){return[EE,SE]}static get pluginName(){return"Italic"}},class extends dt{static get requires(){return[ME,TE]}static get pluginName(){return"BlockQuote"}},class extends dt{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",NE,PE]}},class extends Qr{static get pluginName(){return"CloudServices"}static get requires(){return[uD]}init(){const a=this.context.config.get("cloudServices")||{};for(const t in a)this[t]=a[t];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(a){if(this._tokens.has(a))return Promise.resolve(this.getTokenFor(a));const t=this.context.plugins.get("CloudServicesCore").createToken(a);return this._tokens.set(a,t),t.init()}getTokenFor(a){const t=this._tokens.get(a);if(!t)throw new w("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const a of this._tokens.values())a.destroy()}},class extends dt{static get requires(){return[BE,"ImageUpload"]}init(){const a=this.editor;a.plugins.has("ImageBlockEditing")||a.plugins.has("ImageInlineEditing")||x("easy-image-image-feature-missing",a)}static get pluginName(){return"EasyImage"}},class extends dt{static get requires(){return[FE,UE]}static get pluginName(){return"Heading"}},class extends dt{static get requires(){return[eS,iS]}static get pluginName(){return"Image"}},class extends dt{static get requires(){return[rS,sS]}static get pluginName(){return"ImageCaption"}},class extends dt{static get requires(){return[Vb,uS]}static get pluginName(){return"ImageStyle"}},class extends dt{static get requires(){return[ja,xi]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,t=a.t,e=a.plugins.get(ja),n=a.plugins.get("ImageUtils");var o;e.register("image",{ariaLabel:t("Image toolbar"),items:(o=a.config.get("image.toolbar")||[],o.map(c=>J(c)?c.name:c)),getRelatedElement:c=>n.getClosestSelectedImageWidget(c)})}},class extends dt{static get pluginName(){return"ImageUpload"}static get requires(){return[wS,gS,bS]}},class extends dt{static get pluginName(){return"Indent"}static get requires(){return[CS,_S]}},class extends dt{static get requires(){return[US,YS,QS]}static get pluginName(){return"Link"}},class extends dt{static get requires(){return[r2,s2]}static get pluginName(){return"List"}},class extends dt{static get requires(){return[Ua,f2,u2,ds]}static get pluginName(){return"MediaEmbed"}},us,class extends dt{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ai]}init(){const a=this.editor,t=a.editing.view.document,e=[];e.push(new x2(t)),e.push(new v2(t)),a.plugins.get("ClipboardPipeline").on("inputTransformation",(n,o)=>{if(o._isTransformedWithPasteFromOffice)return;const c=o.dataTransfer.getData("text/html"),h=e.find(m=>m.isActive(c));h&&(o._parsedData=E2(c,t.stylesProcessor),h.execute(o),o._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends dt{static get requires(){return[Q2,J2,To,rD,iD,nD,ds]}static get pluginName(){return"Table"}},class extends dt{static get requires(){return[ja]}static get pluginName(){return"TableToolbar"}afterInit(){const a=this.editor,t=a.t,e=a.plugins.get(ja),n=a.config.get("table.contentToolbar"),o=a.config.get("table.tableToolbar");n&&e.register("tableContent",{ariaLabel:t("Table toolbar"),items:n,getRelatedElement:lD}),o&&e.register("table",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:aD})}},class extends dt{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:dE}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,t=a.model,e=a.plugins.get("Delete"),n=function(c){const h=c.extra||[],m=c.remove||[],b=v=>!m.includes(v);return function(v){const A=new Set;for(const y of v)if(qm[y])for(const S of qm[y])A.add(S);else A.add(y);return Array.from(A)}(c.include.concat(h).filter(b)).filter(b).map(v=>cE[v]||v).filter(v=>typeof v=="object").map(v=>({from:uE(v.from),to:hE(v.to)}))}(a.config.get("typing.transformations")),o=new _d(a.model,c=>{for(const h of n)if(h.from.test(c))return{normalizedTransformation:h}});o.on("matched:data",(c,h)=>{if(!h.batch.isTyping)return;const{from:m,to:b}=h.normalizedTransformation,v=m.exec(h.text),A=b(v.slice(1)),y=h.range;let S=v.index;t.enqueueChange(M=>{for(let O=1;O<v.length;O++){const N=v[O],L=A[O-1];if(L==null){S+=N.length;continue}const j=y.start.getShiftedBy(S),W=t.createRange(j,j.getShiftedBy(N.length)),tt=gE(j);t.insertContent(M.createText(L,tt),W),S+=L.length}t.enqueueChange(()=>{e.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}],Xd.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),g=g.default})()})})(Du,Du.exports);const Ll=Hu(Du.exports);const a5={components:{ckeditor:Bl.component},props:{product:{type:Object,default:()=>{}}},data:()=>({editor:Ll,editorConfig:{height:200}}),mounted(){},methods:{onReady(r){r.isReadOnly=!0},save(){axios.post("/api/products/update/",{product_id:this.product.id,english_name:this.product.english_name,english_description:this.product.english_description}).then(r=>{this.$emit("close")})}}},l5={class:"fixed top-0 left-0 w-full h-screen flex items-center justify-center"},c5={class:"relative w-full lg:w-2/3 bg-white rounded-md shadow py-12 px-6 z-20"},d5={class:"flex"},u5={class:"w-1/2 mr-3"},h5=["value"],g5={class:"w-1/2 ml-3"},f5={class:"w-full lg:w-1/3 ml-auto flex justify-between mt-10"};function p5(r,i,s,l,u,g){const d=oe("ckeditor");return et(),st("div",l5,[T("div",{class:"absolute left-0 top-0 w-full h-screen bg-gray-900 opacity-50 z-10",onClick:i[0]||(i[0]=f=>r.$emit("close"))}),T("div",c5,[T("div",d5,[T("div",u5,[T("input",{id:"products-category-search",type:"text",class:"w-full group px-3 py-2 text-sm font-normal rounded-md border-gray-500 bg-transparent mb-6",readonly:"",value:s.product.name},null,8,h5),wn(d,{editor:r.editor,modelValue:s.product.description,"onUpdate:modelValue":i[1]||(i[1]=f=>s.product.description=f),config:r.editorConfig,onReady:g.onReady},null,8,["editor","modelValue","config","onReady"])]),T("div",g5,[Qt(T("input",{"onUpdate:modelValue":i[2]||(i[2]=f=>s.product.english_name=f),id:"products-category-search",type:"text",class:"w-full group px-3 py-2 text-sm font-normal rounded-md border-gray-500 bg-transparent mb-6"},null,512),[[Zt,s.product.english_name]]),wn(d,{editor:r.editor,modelValue:s.product.english_description,"onUpdate:modelValue":i[3]||(i[3]=f=>s.product.english_description=f),config:r.editorConfig},null,8,["editor","modelValue","config"])])]),T("div",f5,[T("div",{class:"w-2/5 text-center text-gray-600 border border-gray-200 px-6 py-2 text-sm font-normal rounded-md hover:bg-gray-200 hover:text-white cursor-pointer",onClick:i[4]||(i[4]=f=>r.$emit("close"))}," Cancel "),T("div",{class:"w-2/5 text-center text-white border border-primary-lighter bg-primary-lighter px-6 py-2 text-sm font-normal rounded-md hover:bg-primary-light cursor-pointer",onClick:i[5]||(i[5]=(...f)=>g.save&&g.save(...f))}," Save ")])])])}const m5=ue(a5,[["render",p5]]);const b5={components:{ProductTranslationModal:m5},data:()=>({search:"",products:[],activeProduct:{},showModal:!1}),mounted(){axios.get("/api/products/all").then(r=>{this.products=r.data.data})},methods:{hasName(r){return r&&r.length},hasDesc(r){return r&&r.length},openProductModal(r){this.activeProduct=r,this.showModal=!0},searchProduct(){this.search.length>3&&axios.post("/api/products/search",{s:this.search,type:"json"}).then(r=>{this.products=r.data})}}},zl=r=>(Hs("data-v-c8e98ed4"),r=r(),$s(),r),k5={class:"mt-6"},w5={class:"flex items-center mb-10"},v5=zl(()=>T("div",{class:"font-medium mr-3"}," Search for product: ",-1)),C5={class:"relative w-1/3"},_5=zl(()=>T("div",{class:"text-gray-500 absolute left-0 top-0 mt-2 ml-2"},[T("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),A5=["onClick"],y5={class:"w-10 mr-2"},x5={class:"font-medium"},E5={class:"ml-auto"},S5=zl(()=>T("span",{class:"text-gray-600"},"EN name: ",-1)),D5={class:"ml-2"},M5=zl(()=>T("span",{class:"text-gray-600"},"EN desc: ",-1));function I5(r,i,s,l,u,g){const d=oe("ProductTranslationModal");return et(),st("div",k5,[T("div",w5,[v5,T("div",C5,[Qt(T("input",{"onUpdate:modelValue":i[0]||(i[0]=f=>r.search=f),type:"text",id:"products-category-search",name:"search",placeholder:"Type to search...",class:"w-full group px-3 pl-10 py-2 text-sm font-normal rounded-md border-gray-500 bg-transparent",onInput:i[1]||(i[1]=(...f)=>g.searchProduct&&g.searchProduct(...f))},null,544),[[Zt,r.search]]),_5])]),(et(!0),st(le,null,_e(r.products,(f,p)=>(et(),st("div",{key:f.id,class:"flex items-center py-2 px-2 border-t border-b border-gray-100 hover:bg-gray-50 cursor-pointer",onClick:k=>g.openProductModal(f)},[T("div",y5,ce(p)+".",1),T("div",x5,ce(f.name),1),T("div",E5,[S5,T("span",{class:Nr(["font-medium",[g.hasName(f.english_name)?"text-green-500":"text-red-500"]])},ce(g.hasName(f.english_name)?"Yes":"No"),3)]),T("div",D5,[M5,T("span",{class:Nr(["font-medium",[g.hasDesc(f.english_description)?"text-green-500":"text-red-500"]])},ce(g.hasDesc(f.english_description)?"Yes":"No"),3)])],8,A5))),128)),r.showModal?(et(),Pn(d,{key:0,product:r.activeProduct,onClose:i[2]||(i[2]=f=>r.showModal=!1)},null,8,["product"])):Ee("",!0)])}const T5=ue(b5,[["render",I5],["__scopeId","data-v-c8e98ed4"]]),P5={data:()=>({staff:[]}),mounted(){axios.get("/api/staff").then(r=>{this.staff=r.data,r.data.length===0&&this.addStaff()})},methods:{addStaff(){this.staff.push({name:"",email:"",phone:"",role:""})},save(){this.staff=this.staff.filter(r=>{if(r.name!=="")return r}),axios.post("/api/staff",this.staff).then(r=>{this.$emit("saved"),this.staff=r.data})},deleteStaffMember(r,i){i!==void 0&&axios.delete("/api/staff/"+i),this.staff.splice(r,1)}}},O5={class:"mt-6"},N5={class:""},B5=["for"],L5=["onUpdate:modelValue","id"],z5={class:""},R5=["for"],j5=["onUpdate:modelValue","id"],F5={class:""},V5=["for"],U5=["onUpdate:modelValue","id"],H5={class:"flex items-end"},$5={class:"w-full"},W5=["for"],G5=["onUpdate:modelValue","id"],Y5=["onClick"],K5=["src"],Q5={class:"flex justify-between"};function Z5(r,i,s,l,u,g){return et(),st("div",O5,[(et(!0),st(le,null,_e(r.staff,(d,f)=>(et(),st("div",{key:f,class:"single-variant py-5 border-t border-gray-200 grid grid-cols-2 gap-3"},[T("div",N5,[T("label",{for:"name-"+f,class:"block text-sm font-medium text-gray-700"},"Name",8,B5),Qt(T("input",{"onUpdate:modelValue":p=>d.name=p,type:"text",id:"name-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,L5),[[Zt,d.name]])]),T("div",z5,[T("label",{for:"email-"+f,class:"block text-sm font-medium text-gray-700"},"Email",8,R5),Qt(T("input",{"onUpdate:modelValue":p=>d.email=p,type:"text",id:"email-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,j5),[[Zt,d.email]])]),T("div",F5,[T("label",{for:"role-"+f,class:"block text-sm font-medium text-gray-700"},"Role",8,V5),Qt(T("input",{"onUpdate:modelValue":p=>d.role=p,type:"text",id:"role-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,U5),[[Zt,d.role]])]),T("div",H5,[T("div",$5,[T("label",{for:"phone-"+f,class:"block text-sm font-medium text-gray-700"},"Phone",8,W5),Qt(T("input",{"onUpdate:modelValue":p=>d.phone=p,type:"text",id:"phone-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,G5),[[Zt,d.phone]])]),T("div",{class:"px-3 ml-5 mb-3 cursor-pointer",onClick:p=>g.deleteStaffMember(f,d.id)},[T("img",{src:"/images/trash.svg",width:"24",height:"24",alt:"delete"},null,8,K5)],8,Y5)])]))),128)),T("div",Q5,[T("div",{tabindex:"0",class:"w-48 mr-3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe((...d)=>g.addStaff&&g.addStaff(...d),["enter"])),onClick:i[1]||(i[1]=(...d)=>g.addStaff&&g.addStaff(...d))}," Add staff member ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[2]||(i[2]=Qe((...d)=>g.save&&g.save(...d),["enter"])),onClick:i[3]||(i[3]=(...d)=>g.save&&g.save(...d))}," Save ",32)])])}const q5=ue(P5,[["render",Z5]]),X5={data:()=>({locations:[]}),mounted(){axios.get("/api/locations").then(r=>{this.locations=r.data}),this.locations.length===0&&this.addLocation()},methods:{addLocation(){this.locations.push({})},save(){this.locations=this.locations.filter(r=>{if(r.name!=="")return r}),axios.post("/api/locations",this.locations).then(r=>{this.$emit("saved"),this.locations=r.data})},deleteLocation(r,i){i!==void 0&&axios.delete("/api/locations/"+i),this.locations.splice(r,1)}}},J5={class:"mt-6"},tP={class:"grid grid-cols-3 gap-3"},eP={class:""},nP=["for"],iP=["onUpdate:modelValue","id"],oP={class:""},rP=["for"],sP=["onUpdate:modelValue","id"],aP={class:""},lP=["for"],cP=["onUpdate:modelValue","id"],dP={class:""},uP=["for"],hP=["onUpdate:modelValue","id"],gP={class:""},fP=["for"],pP=["onUpdate:modelValue","id"],mP={class:""},bP=["for"],kP=["onUpdate:modelValue","id"],wP={class:""},vP=["for"],CP=["onUpdate:modelValue","id"],_P={class:""},AP=["for"],yP=["onUpdate:modelValue","id"],xP={class:""},EP=["onClick"],SP=["src"],DP={class:"flex justify-between"};function MP(r,i,s,l,u,g){return et(),st("div",J5,[(et(!0),st(le,null,_e(r.locations,(d,f)=>(et(),st("div",{key:f,class:"single-variant py-5 border-t border-gray-200"},[T("div",tP,[T("div",eP,[T("label",{for:"name-"+f,class:"block text-sm font-medium text-gray-700"},"Name",8,nP),Qt(T("input",{"onUpdate:modelValue":p=>d.name=p,type:"text",id:"name-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,iP),[[Zt,d.name]])]),T("div",oP,[T("label",{for:"address-"+f,class:"block text-sm font-medium text-gray-700"},"Address",8,rP),Qt(T("input",{"onUpdate:modelValue":p=>d.address=p,type:"text",id:"address-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,sP),[[Zt,d.address]])]),T("div",aP,[T("label",{for:"city-"+f,class:"block text-sm font-medium text-gray-700"},"City",8,lP),Qt(T("input",{"onUpdate:modelValue":p=>d.city=p,type:"text",id:"city-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,cP),[[Zt,d.city]])]),T("div",dP,[T("label",{for:"zip-"+f,class:"block text-sm font-medium text-gray-700"},"Zip",8,uP),Qt(T("input",{"onUpdate:modelValue":p=>d.zip=p,type:"text",id:"zip-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,hP),[[Zt,d.zip]])]),T("div",gP,[T("label",{for:"state-"+f,class:"block text-sm font-medium text-gray-700"},"State",8,fP),Qt(T("input",{"onUpdate:modelValue":p=>d.state=p,type:"text",id:"state-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,pP),[[Zt,d.state]])]),T("div",mP,[T("label",{for:"country-"+f,class:"block text-sm font-medium text-gray-700"},"Country",8,bP),Qt(T("input",{"onUpdate:modelValue":p=>d.country=p,type:"text",id:"country-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,kP),[[Zt,d.country]])]),T("div",wP,[T("label",{for:"phone-"+f,class:"block text-sm font-medium text-gray-700"},"Phone",8,vP),Qt(T("input",{"onUpdate:modelValue":p=>d.phone=p,type:"text",id:"phone-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,CP),[[Zt,d.phone]])]),T("div",_P,[T("label",{for:"email-"+f,class:"block text-sm font-medium text-gray-700"},"Email",8,AP),Qt(T("input",{"onUpdate:modelValue":p=>d.email=p,type:"text",id:"email-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,yP),[[Zt,d.email]])]),T("div",xP,[T("div",{class:"px-3 mt-8 ml-3 cursor-pointer",onClick:p=>g.deleteLocation(f,d.id)},[T("img",{src:"/images/trash.svg",width:"24",height:"24",alt:"delete"},null,8,SP)],8,EP)])])]))),128)),T("div",DP,[T("div",{tabindex:"0",class:"w-48 mr-3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe((...d)=>g.addLocation&&g.addLocation(...d),["enter"])),onClick:i[1]||(i[1]=(...d)=>g.addLocation&&g.addLocation(...d))}," Add location ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[2]||(i[2]=Qe((...d)=>g.save&&g.save(...d),["enter"])),onClick:i[3]||(i[3]=(...d)=>g.save&&g.save(...d))}," Save ",32)])])}const IP=ue(X5,[["render",MP]]),TP={data:()=>({config:[]}),mounted(){axios.get("/api/config").then(r=>{this.config=r.data})},methods:{parseLabel(r){return r.replaceAll("_"," ")},save(){axios.post("/api/configs",this.config).then(r=>{this.$emit("saved")})}}},PP={class:"mt-6"},OP=["for"],NP=["onUpdate:modelValue","id"],BP={class:"flex justify-end"};function LP(r,i,s,l,u,g){return et(),st("div",PP,[(et(!0),st(le,null,_e(r.config,(d,f)=>(et(),st("div",{class:"",key:f},[T("label",{for:"config-"+f,class:"block text-sm font-medium text-gray-700 capitalize"},ce(g.parseLabel(d.key)),9,OP),Qt(T("input",{"onUpdate:modelValue":p=>d.value=p,id:"config-"+f,type:"text",class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,NP),[[Zt,d.value]])]))),128)),T("div",BP,[T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe((...d)=>g.save&&g.save(...d),["enter"])),onClick:i[1]||(i[1]=(...d)=>g.save&&g.save(...d))}," Save ",32)])])}const zP=ue(TP,[["render",LP]]);var z0={exports:{}};(function(r,i){(function(s,l,u){r.exports=u(),r.exports.default=u()})("slugify",Tr,function(){var s=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),l=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function u(g,d){if(typeof g!="string")throw new Error("slugify: string argument expected");d=typeof d=="string"?{replacement:d}:d||{};var f=l[d.locale]||{},p=d.replacement===void 0?"-":d.replacement,k=d.trim===void 0?!0:d.trim,C=g.normalize().split("").reduce(function(w,x){var E=f[x]||s[x]||x;return E===p&&(E=" "),w+E.replace(d.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return d.strict&&(C=C.replace(/[^A-Za-z0-9\s]/g,"")),k&&(C=C.trim()),C=C.replace(/\s+/g,p),d.lower&&(C=C.toLowerCase()),C}return u.extend=function(g){Object.assign(s,g)},u})})(z0);const RP=z0.exports,jP={components:{ckeditor:Bl.component},data:()=>({pages:[],editor:Ll,editorConfig:{height:200}}),mounted(){axios.get("/api/pages").then(r=>{this.pages=r.data})},methods:{addPage(){this.pages.push({})},createSlug(r){const i={lower:!0,trim:!0,locale:"en"};this.pages[r].slug=RP(this.pages[r].title,i)},save(){this.pages.filter(r=>r.title),axios.post("/api/pages",this.pages).then(r=>{this.$emit("saved")})}}},FP={class:"mt-6"},VP={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},UP=["for"],HP=["onUpdate:modelValue","id","onChange"],$P=["for"],WP=["onUpdate:modelValue","id"],GP=["for"],YP={class:"flex justify-between"};function KP(r,i,s,l,u,g){const d=oe("ckeditor");return et(),st("div",FP,[(et(!0),st(le,null,_e(r.pages,(f,p)=>(et(),st("div",{class:"border-b border-gray-200 pb-6 mb-6",key:p},[T("div",VP,[T("div",null,[T("label",{for:"title-"+p,class:"block text-sm font-medium text-gray-700"},"Title",8,UP),Qt(T("input",{"onUpdate:modelValue":k=>f.title=k,type:"text",id:"title-"+p,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",onChange:k=>g.createSlug(p)},null,40,HP),[[Zt,f.title]])]),T("div",null,[T("label",{for:"slug-"+p,class:"block text-sm font-medium text-gray-700"},"Slug (auto generating)",8,$P),Qt(T("input",{"onUpdate:modelValue":k=>f.slug=k,type:"text",id:"slug-"+p,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",readonly:""},null,8,WP),[[Zt,f.slug]])])]),T("label",{for:"content-"+p,class:"block text-sm font-medium text-gray-700 mt-6 mb-1"},"Page content",8,GP),wn(d,{editor:r.editor,modelValue:f.content,"onUpdate:modelValue":k=>f.content=k,config:r.editorConfig},null,8,["editor","modelValue","onUpdate:modelValue","config"])]))),128)),T("div",YP,[T("div",{tabindex:"0",class:"w-48 mr-3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe((...f)=>g.addPage&&g.addPage(...f),["enter"])),onClick:i[1]||(i[1]=(...f)=>g.addPage&&g.addPage(...f))}," Add page ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[2]||(i[2]=Qe((...f)=>g.save&&g.save(...f),["enter"])),onClick:i[3]||(i[3]=(...f)=>g.save&&g.save(...f))}," Save ",32)])])}const QP=ue(jP,[["render",KP]]);const ZP={components:{ckeditor:Bl.component},data:()=>({showModal:!1,search:"",editor:Ll,editorConfig:{height:200},newsletter:{},products:[],addedProducts:[]}),watch:{search(r){r.length>3&&this.searchProducts(),r.length||(this.products=[])}},mounted(){axios.get("/api/newsletter").then(r=>{this.newsletter.id=r.data.data.id,this.newsletter.title=r.data.data.title,this.newsletter.content=r.data.data.content,this.addedProducts=r.data.data.products})},methods:{openModal(){this.showModal=!0,document.body.style.overflow="hidden"},closeModal(){this.showModal=!1,document.body.style.overflow=""},addProduct(r){this.addedProducts.push(r)},removeProduct(r){this.addedProducts=this.addedProducts.filter(i=>i.id!==r)},isAdded(r){return this.addedProducts.find(i=>i.id===r.id)},searchProducts(){axios.post("/api/products/search",{s:this.search,rawsearch:!0}).then(r=>{this.products=r.data.data})},save(){this.newsletter.products=JSON.stringify(this.addedProducts.map(r=>r.id)),axios.post("/api/newsletter",this.newsletter).then(r=>{this.$emit("saved")})},deleteNewsletter(){axios.delete("/api/newsletter/"+this.newsletter.id),location.reload()}}},Rl=r=>(Hs("data-v-88ac58ac"),r=r(),$s(),r),qP={class:""},XP={class:"mb-4"},JP=Rl(()=>T("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Newsletter title",-1)),tO={class:"mb-4"},eO=Rl(()=>T("label",{for:"content",class:"block text-sm font-medium text-gray-700 mt-6 mb-1"},"Newsletter content",-1)),nO={class:"mb-4"},iO=Rl(()=>T("label",{for:"content",class:"block text-sm font-medium text-gray-700 mt-6 mb-1"},"Selected products",-1)),oO={class:"grid grid-cols-2 sm:grid-cols-3 gap-5 mt-2"},rO={class:"font-medium text-sm text-gray-800"},sO=["onClick"],aO=Pl('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#C70000" viewBox="0 0 256 256" data-v-88ac58ac><rect width="256" height="256" fill="none" data-v-88ac58ac></rect><line x1="216" y1="56" x2="40" y2="56" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-88ac58ac></line><line x1="104" y1="104" x2="104" y2="168" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-88ac58ac></line><line x1="152" y1="104" x2="152" y2="168" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-88ac58ac></line><path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-88ac58ac></path><path d="M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-88ac58ac></path></svg>',1),lO=[aO],cO={class:"flex justify-between"},dO={key:0,class:"fixed left-0 top-0 w-full h-screen flex items-center justify-center z-10"},uO={class:"relative bg-white rounded-md w-full sm:w-1/2 p-12 z-20 search-product-modal-body"},hO=Rl(()=>T("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"#000000",viewBox:"0 0 256 256"},[T("rect",{width:"256",height:"256",fill:"none"}),T("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"14"}),T("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"14"})],-1)),gO=[hO],fO={class:"mt-6 overflow-scroll h-80p"},pO={class:"w-14 font-medium"},mO={class:"mr-auto"},bO={key:0,class:"w-16 text-center py-1 bg-green-600 text-white rounded-md text-xs uppercase font-medium tracking-wider"},kO=["onClick"];function wO(r,i,s,l,u,g){const d=oe("ckeditor");return et(),st("div",qP,[T("div",XP,[JP,Qt(T("input",{"onUpdate:modelValue":i[0]||(i[0]=f=>r.newsletter.title=f),type:"text",id:"title",class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[Zt,r.newsletter.title]])]),T("div",tO,[eO,wn(d,{editor:r.editor,modelValue:r.newsletter.content,"onUpdate:modelValue":i[1]||(i[1]=f=>r.newsletter.content=f),config:r.editorConfig},null,8,["editor","modelValue","config"])]),T("div",nO,[iO,T("div",oO,[(et(!0),st(le,null,_e(r.addedProducts,f=>(et(),st("div",{class:"relative rounded-md border border-gray-200 px-6 py-3 grid grid-cols-1 sm:grid-cols-2 justify-between items-center",key:f.id},[T("div",{class:"w-20 h-20 bg-contain bg-center bg-no-repeat rounded-md",style:Ho(`background-image: url('/${f.featured_image?f.featured_image.file_path:"images/product-placeholder.png"}');`)},null,4),T("h4",rO,ce(f.name),1),T("div",{class:"absolute top-0 right-0 py-2 px-3 cursor-pointer",onClick:p=>g.removeProduct(f.id)},lO,8,sO)]))),128))])]),T("div",cO,[T("div",{tabindex:"0",class:"w-48 mr-3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[2]||(i[2]=Qe((...f)=>g.openModal&&g.openModal(...f),["enter"])),onClick:i[3]||(i[3]=(...f)=>g.openModal&&g.openModal(...f))}," Add product ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-red-500 border border-red-500 px-6 py-2 mt-5 text-sm font-normal ml-auto rounded-md hover:bg-red-500 hover:text-white cursor-pointer",onKeydown:i[4]||(i[4]=Qe((...f)=>g.deleteNewsletter&&g.deleteNewsletter(...f),["enter"])),onClick:i[5]||(i[5]=(...f)=>g.deleteNewsletter&&g.deleteNewsletter(...f))}," Delete ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 ml-4 text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[6]||(i[6]=Qe((...f)=>g.save&&g.save(...f),["enter"])),onClick:i[7]||(i[7]=(...f)=>g.save&&g.save(...f))}," Save ",32)]),r.showModal?(et(),st("div",dO,[T("div",{class:"absolute left-0 top-0 bg-black opacity-50 w-full h-screen z-10",onClick:i[8]||(i[8]=(...f)=>g.closeModal&&g.closeModal(...f))}),T("div",uO,[T("div",{class:"absolute top-0 right-0 inline-block z-20 p-3 cursor-pointer",onClick:i[9]||(i[9]=(...f)=>g.closeModal&&g.closeModal(...f))},gO),T("div",null,[Qt(T("input",{"onUpdate:modelValue":i[10]||(i[10]=f=>r.search=f),type:"text",id:"search",class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Search for a product ..."},null,512),[[Zt,r.search]])]),T("div",fO,[(et(!0),st(le,null,_e(r.products,f=>(et(),st("div",{class:"flex items-center justify-between border-b border-gray-200 text-sm py-1",key:f.id},[T("div",pO,ce(f.id),1),T("div",mO,ce(f.name),1),g.isAdded(f)?(et(),st("div",bO,"Added")):(et(),st("div",{key:1,class:"w-16 text-center py-1 bg-primary-light text-white rounded-md text-xs uppercase font-medium tracking-wider cursor-pointer",onClick:p=>{g.addProduct(f)}},"Add",8,kO))]))),128))])])])):Ee("",!0)])}const vO=ue(ZP,[["render",wO],["__scopeId","data-v-88ac58ac"]]);const CO={data:()=>({id:null,showModal:!1,search:"",products:[],addedProducts:[]}),watch:{search(r){r.length>3&&this.searchProducts(),r.length||(this.products=[])}},mounted(){axios.get("/api/config/homepage_products").then(r=>{if(r.data.length){let i=r.data.at(-1);this.id=i.id,axios.post("/api/products/search",{ids:i.value,rawsearch:!0}).then(s=>{this.addedProducts=s.data.data})}})},methods:{openModal(){this.showModal=!0,document.body.style.overflow="hidden"},closeModal(){this.showModal=!1,document.body.style.overflow=""},addProduct(r){this.addedProducts.push(r)},removeProduct(r){this.addedProducts=this.addedProducts.filter(i=>i.id!==r)},isAdded(r){return this.addedProducts.find(i=>i.id===r.id)},searchProducts(){axios.post("/api/products/search",{s:this.search,rawsearch:!0}).then(r=>{this.products=r.data.data})},save(){axios.post("/api/config",{id:this.id,key:"homepage_products",value:JSON.stringify(this.addedProducts.map(r=>r.id))}).then(r=>{this.$emit("saved")})}}},R0=r=>(Hs("data-v-b7a4b5c8"),r=r(),$s(),r),_O={class:""},AO={class:"mb-4"},yO=R0(()=>T("label",{for:"content",class:"block text-sm font-medium text-gray-700 mt-6 mb-1"},"Selected products",-1)),xO={class:"grid grid-cols-2 sm:grid-cols-3 gap-5 mt-2"},EO={class:"font-medium text-sm text-gray-800"},SO=["onClick"],DO=Pl('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#C70000" viewBox="0 0 256 256" data-v-b7a4b5c8><rect width="256" height="256" fill="none" data-v-b7a4b5c8></rect><line x1="216" y1="56" x2="40" y2="56" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-b7a4b5c8></line><line x1="104" y1="104" x2="104" y2="168" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-b7a4b5c8></line><line x1="152" y1="104" x2="152" y2="168" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-b7a4b5c8></line><path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-b7a4b5c8></path><path d="M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56" fill="none" stroke="#C70000" stroke-linecap="round" stroke-linejoin="round" stroke-width="14" data-v-b7a4b5c8></path></svg>',1),MO=[DO],IO={class:"flex justify-between"},TO={key:0,class:"fixed left-0 top-0 w-full h-screen flex items-center justify-center z-10"},PO={class:"relative bg-white rounded-md w-full sm:w-1/2 p-12 z-20 search-product-modal-body"},OO=R0(()=>T("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"#000000",viewBox:"0 0 256 256"},[T("rect",{width:"256",height:"256",fill:"none"}),T("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"14"}),T("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"14"})],-1)),NO=[OO],BO={class:"mt-6 overflow-scroll h-80p"},LO={class:"w-14 font-medium"},zO={class:"mr-auto"},RO={key:0,class:"w-16 text-center py-1 bg-green-600 text-white rounded-md text-xs uppercase font-medium tracking-wider"},jO=["onClick"];function FO(r,i,s,l,u,g){return et(),st("div",_O,[T("div",AO,[yO,T("div",xO,[(et(!0),st(le,null,_e(r.addedProducts,d=>(et(),st("div",{class:"relative rounded-md border border-gray-200 px-6 py-3 grid grid-cols-1 sm:grid-cols-2 justify-between items-center",key:d.id},[T("div",{class:"w-20 h-20 bg-contain bg-center bg-no-repeat rounded-md",style:Ho(`background-image: url('/${d.featured_image?d.featured_image.file_path:"images/product-placeholder.png"}');`)},null,4),T("h4",EO,ce(d.name),1),T("div",{class:"absolute top-0 right-0 py-2 px-3 cursor-pointer",onClick:f=>g.removeProduct(d.id)},MO,8,SO)]))),128))])]),T("div",IO,[T("div",{tabindex:"0",class:"w-48 mr-3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe((...d)=>g.openModal&&g.openModal(...d),["enter"])),onClick:i[1]||(i[1]=(...d)=>g.openModal&&g.openModal(...d))}," Add product ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 ml-auto text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[2]||(i[2]=Qe((...d)=>g.save&&g.save(...d),["enter"])),onClick:i[3]||(i[3]=(...d)=>g.save&&g.save(...d))}," Save ",32)]),r.showModal?(et(),st("div",TO,[T("div",{class:"absolute left-0 top-0 bg-black opacity-50 w-full h-screen z-10",onClick:i[4]||(i[4]=(...d)=>g.closeModal&&g.closeModal(...d))}),T("div",PO,[T("div",{class:"absolute top-0 right-0 inline-block z-20 p-3 cursor-pointer",onClick:i[5]||(i[5]=(...d)=>g.closeModal&&g.closeModal(...d))},NO),T("div",null,[Qt(T("input",{"onUpdate:modelValue":i[6]||(i[6]=d=>r.search=d),type:"text",id:"search",class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Search for a product ..."},null,512),[[Zt,r.search]])]),T("div",BO,[(et(!0),st(le,null,_e(r.products,d=>(et(),st("div",{class:"flex items-center justify-between border-b border-gray-200 text-sm py-1",key:d.id},[T("div",LO,ce(d.id),1),T("div",zO,ce(d.name),1),g.isAdded(d)?(et(),st("div",RO,"Added")):(et(),st("div",{key:1,class:"w-16 text-center py-1 bg-primary-light text-white rounded-md text-xs uppercase font-medium tracking-wider cursor-pointer",onClick:f=>{g.addProduct(d)}},"Add",8,jO))]))),128))])])])):Ee("",!0)])}const VO=ue(CO,[["render",FO],["__scopeId","data-v-b7a4b5c8"]]);const UO={name:"Colors",data:()=>({colors:[]}),mounted(){axios.get("/api/colors").then(r=>{this.colors=r.data,this.addNewColor()}).catch(()=>{this.addNewColor()})},methods:{addNewColor(){this.colors.push({id:0,name:"",name_en:"",hex:"#ffffff"})},deleteColor(r){axios.delete("/api/colors/"+r).then(i=>{this.colors=i.data,this.addNewColor()})},save(){this.colors=this.colors.filter(r=>{if(r.name!=="")return r}),axios.post("/api/colors",this.colors).then(r=>{this.colors=r.data,this.$emit("saved"),this.addNewColor()})}}},HO={class:"w-1/3 px-3 ml-3"},$O=["for"],WO=["onUpdate:modelValue","id"],GO={class:"w-1/3 px-3 ml-3"},YO=["for"],KO=["onUpdate:modelValue","id"],QO={class:"px-3 ml-3"},ZO=["for"],qO=["onUpdate:modelValue"],XO=["onClick"],JO=["src"],tN={class:"flex justify-between"};function eN(r,i,s,l,u,g){return et(),st("div",null,[(et(!0),st(le,null,_e(r.colors,(d,f)=>(et(),st("div",{key:f,class:"single-variant py-5 border-t border-gray-200 flex items-end"},[T("div",HO,[T("label",{for:"name-"+f,class:"block text-sm font-medium text-gray-700"},"Name",8,$O),Qt(T("input",{"onUpdate:modelValue":p=>d.name=p,type:"text",id:"name-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,WO),[[Zt,d.name]])]),T("div",GO,[T("label",{for:"name-"+f,class:"block text-sm font-medium text-gray-700"},"Name English",8,YO),Qt(T("input",{"onUpdate:modelValue":p=>d.name_en=p,type:"text",id:"name-"+f,class:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,8,KO),[[Zt,d.name_en]])]),T("div",QO,[T("label",{for:"color-"+f,class:"block text-sm font-medium text-gray-700"},"Color",8,ZO),Qt(T("input",{"onUpdate:modelValue":p=>d.hex=p,type:"color",class:"mt-1 rounded-full overflow-hidden"},null,8,qO),[[Zt,d.hex]])]),d.id?(et(),st("div",{key:0,class:"px-3 ml-3 mb-2 cursor-pointer",onClick:p=>g.deleteColor(d.id)},[T("img",{src:"/images/trash.svg",width:"24",height:"24",alt:"delete"},null,8,JO)],8,XO)):Ee("",!0)]))),128)),T("div",tN,[T("div",{tabindex:"0",class:"w-48 mr-3 text-center text-gray-600 border border-gray-400 bg-transparent px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-gray-500 hover:text-white cursor-pointer",onKeydown:i[0]||(i[0]=Qe((...d)=>r.addNewIcon&&r.addNewIcon(...d),["enter"])),onClick:i[1]||(i[1]=(...d)=>r.addNewIcon&&r.addNewIcon(...d))}," Add new color ",32),T("div",{tabindex:"0",class:"w-32 select-none text-center text-white border border-primary-light bg-primary-light px-6 py-2 mt-5 text-sm font-normal rounded-md hover:bg-primary-lighter hover:text-white cursor-pointer",onKeydown:i[2]||(i[2]=Qe((...d)=>g.save&&g.save(...d),["enter"])),onClick:i[3]||(i[3]=(...d)=>g.save&&g.save(...d))}," Save ",32)])])}const nN=ue(UO,[["render",eN],["__scopeId","data-v-89256bca"]]),iN={components:{ProductIcons:s5,ProductTranslation:T5,Staff:q5,Locations:IP,Config:zP,TermsPages:QP,Newsletter:vO,HomepageProducts:VO,Colors:nN},data:()=>({page:0}),computed:{settingsTitle(){return this.page===1?"Product Icons":this.page===2?"Product Translation":this.page===3?"Staff Members":this.page===4?"Locations":this.page===5?"Config":this.page===6?"Terms Pages":this.page===7?"Newsletter Offer":this.page===8?"Homepage Products":this.page===9?"Colors":"Select settings page from the left menu"}},mounted(){location.pathname.includes("product-icons")&&(this.page=1),location.pathname.includes("product-translation")&&(this.page=2),location.pathname.includes("staff")&&(this.page=3),location.pathname.includes("locations")&&(this.page=4),location.pathname.includes("config")&&(this.page=5),location.pathname.includes("pages")&&(this.page=6),location.pathname.includes("newsletter")&&(this.page=7),location.pathname.includes("homepage-products")&&(this.page=8),location.pathname.includes("colors")&&(this.page=9)},methods:{saved(){document.body.insertAdjacentHTML("beforeend",`
          <div class="success-alert fixed right-0 top-0 mt-10 m-10 shadow bg-green-100 border-l-4 border-green-400 text-green-700 px-4 py-3 rounded" role="alert">
            <strong class="font-bold">Success!</strong>
            <span class="block sm:inline">Your settings are saved.</span>
          </div>
        `),setTimeout(()=>{document.querySelector(".success-alert").remove()},4e3)}}},oN={class:""},rN={class:"text-lg font-medium mb-5"};function sN(r,i,s,l,u,g){const d=oe("ProductIcons"),f=oe("ProductTranslation"),p=oe("Staff"),k=oe("Locations"),C=oe("Config"),w=oe("TermsPages"),x=oe("Newsletter"),E=oe("HomepageProducts"),D=oe("Colors");return et(),st("div",oN,[T("h1",rN,ce(g.settingsTitle),1),r.page===1?(et(),Pn(d,{key:0,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===2?(et(),Pn(f,{key:1,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===3?(et(),Pn(p,{key:2,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===4?(et(),Pn(k,{key:3,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===5?(et(),Pn(C,{key:4,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===6?(et(),Pn(w,{key:5,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===7?(et(),Pn(x,{key:6,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===8?(et(),Pn(E,{key:7,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0),r.page===9?(et(),Pn(D,{key:8,onSaved:g.saved},null,8,["onSaved"])):Ee("",!0)])}const aN=ue(iN,[["render",sN]]);/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Hi(){}const lN=function(){let r=0;return function(){return r++}}();function Wt(r){return r===null||typeof r>"u"}function Ce(r){if(Array.isArray&&Array.isArray(r))return!0;const i=Object.prototype.toString.call(r);return i.slice(0,7)==="[object"&&i.slice(-6)==="Array]"}function Ft(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}const Ge=r=>(typeof r=="number"||r instanceof Number)&&isFinite(+r);function ii(r,i){return Ge(r)?r:i}function Pt(r,i){return typeof r>"u"?i:r}const cN=(r,i)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:r/i,j0=(r,i)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*i:+r;function ve(r,i,s){if(r&&typeof r.call=="function")return r.apply(s,i)}function ie(r,i,s,l){let u,g,d;if(Ce(r))if(g=r.length,l)for(u=g-1;u>=0;u--)i.call(s,r[u],u);else for(u=0;u<g;u++)i.call(s,r[u],u);else if(Ft(r))for(d=Object.keys(r),g=d.length,u=0;u<g;u++)i.call(s,r[d[u]],d[u])}function vl(r,i){let s,l,u,g;if(!r||!i||r.length!==i.length)return!1;for(s=0,l=r.length;s<l;++s)if(u=r[s],g=i[s],u.datasetIndex!==g.datasetIndex||u.index!==g.index)return!1;return!0}function Cl(r){if(Ce(r))return r.map(Cl);if(Ft(r)){const i=Object.create(null),s=Object.keys(r),l=s.length;let u=0;for(;u<l;++u)i[s[u]]=Cl(r[s[u]]);return i}return r}function F0(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function dN(r,i,s,l){if(!F0(r))return;const u=i[r],g=s[r];Ft(u)&&Ft(g)?Rs(u,g,l):i[r]=Cl(g)}function Rs(r,i,s){const l=Ce(i)?i:[i],u=l.length;if(!Ft(r))return r;s=s||{};const g=s.merger||dN;for(let d=0;d<u;++d){if(i=l[d],!Ft(i))continue;const f=Object.keys(i);for(let p=0,k=f.length;p<k;++p)g(f[p],r,i,s)}return r}function Os(r,i){return Rs(r,i,{merger:uN})}function uN(r,i,s){if(!F0(r))return;const l=i[r],u=s[r];Ft(l)&&Ft(u)?Os(l,u):Object.prototype.hasOwnProperty.call(i,r)||(i[r]=Cl(u))}const jw={"":r=>r,x:r=>r.x,y:r=>r.y};function co(r,i){return(jw[i]||(jw[i]=hN(i)))(r)}function hN(r){const i=gN(r);return s=>{for(const l of i){if(l==="")break;s=s&&s[l]}return s}}function gN(r){const i=r.split("."),s=[];let l="";for(const u of i)l+=u,l.endsWith("\\")?l=l.slice(0,-1)+".":(s.push(l),l="");return s}function Ku(r){return r.charAt(0).toUpperCase()+r.slice(1)}const si=r=>typeof r<"u",uo=r=>typeof r=="function",Fw=(r,i)=>{if(r.size!==i.size)return!1;for(const s of r)if(!i.has(s))return!1;return!0};function fN(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Oe=Math.PI,de=2*Oe,pN=de+Oe,_l=Number.POSITIVE_INFINITY,mN=Oe/180,He=Oe/2,ps=Oe/4,Vw=Oe*2/3,oi=Math.log10,Ii=Math.sign;function Uw(r){const i=Math.round(r);r=Ns(r,i,r/1e3)?i:r;const s=Math.pow(10,Math.floor(oi(r))),l=r/s;return(l<=1?1:l<=2?2:l<=5?5:10)*s}function bN(r){const i=[],s=Math.sqrt(r);let l;for(l=1;l<s;l++)r%l===0&&(i.push(l),i.push(r/l));return s===(s|0)&&i.push(s),i.sort((u,g)=>u-g).pop(),i}function zr(r){return!isNaN(parseFloat(r))&&isFinite(r)}function Ns(r,i,s){return Math.abs(r-i)<s}function kN(r,i){const s=Math.round(r);return s-i<=r&&s+i>=r}function V0(r,i,s){let l,u,g;for(l=0,u=r.length;l<u;l++)g=r[l][s],isNaN(g)||(i.min=Math.min(i.min,g),i.max=Math.max(i.max,g))}function fi(r){return r*(Oe/180)}function Qu(r){return r*(180/Oe)}function Hw(r){if(!Ge(r))return;let i=1,s=0;for(;Math.round(r*i)/i!==r;)i*=10,s++;return s}function U0(r,i){const s=i.x-r.x,l=i.y-r.y,u=Math.sqrt(s*s+l*l);let g=Math.atan2(l,s);return g<-.5*Oe&&(g+=de),{angle:g,distance:u}}function Mu(r,i){return Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2))}function wN(r,i){return(r-i+pN)%de-Oe}function Hn(r){return(r%de+de)%de}function js(r,i,s,l){const u=Hn(r),g=Hn(i),d=Hn(s),f=Hn(g-u),p=Hn(d-u),k=Hn(u-g),C=Hn(u-d);return u===g||u===d||l&&g===d||f>p&&k<C}function on(r,i,s){return Math.max(i,Math.min(s,r))}function vN(r){return on(r,-32768,32767)}function Yi(r,i,s,l=1e-6){return r>=Math.min(i,s)-l&&r<=Math.max(i,s)+l}function Zu(r,i,s){s=s||(d=>r[d]<i);let l=r.length-1,u=0,g;for(;l-u>1;)g=u+l>>1,s(g)?u=g:l=g;return{lo:u,hi:l}}const Ki=(r,i,s,l)=>Zu(r,s,l?u=>r[u][i]<=s:u=>r[u][i]<s),CN=(r,i,s)=>Zu(r,s,l=>r[l][i]>=s);function _N(r,i,s){let l=0,u=r.length;for(;l<u&&r[l]<i;)l++;for(;u>l&&r[u-1]>s;)u--;return l>0||u<r.length?r.slice(l,u):r}const H0=["push","pop","shift","splice","unshift"];function AN(r,i){if(r._chartjs){r._chartjs.listeners.push(i);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),H0.forEach(s=>{const l="_onData"+Ku(s),u=r[s];Object.defineProperty(r,s,{configurable:!0,enumerable:!1,value(...g){const d=u.apply(this,g);return r._chartjs.listeners.forEach(f=>{typeof f[l]=="function"&&f[l](...g)}),d}})})}function $w(r,i){const s=r._chartjs;if(!s)return;const l=s.listeners,u=l.indexOf(i);u!==-1&&l.splice(u,1),!(l.length>0)&&(H0.forEach(g=>{delete r[g]}),delete r._chartjs)}function $0(r){const i=new Set;let s,l;for(s=0,l=r.length;s<l;++s)i.add(r[s]);return i.size===l?r:Array.from(i)}const W0=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function G0(r,i,s){const l=s||(d=>Array.prototype.slice.call(d));let u=!1,g=[];return function(...d){g=l(d),u||(u=!0,W0.call(window,()=>{u=!1,r.apply(i,g)}))}}function yN(r,i){let s;return function(...l){return i?(clearTimeout(s),s=setTimeout(r,i,l)):r.apply(this,l),i}}const qu=r=>r==="start"?"left":r==="end"?"right":"center",kn=(r,i,s)=>r==="start"?i:r==="end"?s:(i+s)/2,xN=(r,i,s,l)=>r===(l?"left":"right")?s:r==="center"?(i+s)/2:i;function Y0(r,i,s){const l=i.length;let u=0,g=l;if(r._sorted){const{iScale:d,_parsed:f}=r,p=d.axis,{min:k,max:C,minDefined:w,maxDefined:x}=d.getUserBounds();w&&(u=on(Math.min(Ki(f,d.axis,k).lo,s?l:Ki(i,p,d.getPixelForValue(k)).lo),0,l-1)),x?g=on(Math.max(Ki(f,d.axis,C,!0).hi+1,s?0:Ki(i,p,d.getPixelForValue(C),!0).hi+1),u,l)-u:g=l-u}return{start:u,count:g}}function K0(r){const{xScale:i,yScale:s,_scaleRanges:l}=r,u={xmin:i.min,xmax:i.max,ymin:s.min,ymax:s.max};if(!l)return r._scaleRanges=u,!0;const g=l.xmin!==i.min||l.xmax!==i.max||l.ymin!==s.min||l.ymax!==s.max;return Object.assign(l,u),g}const qa=r=>r===0||r===1,Ww=(r,i,s)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-i)*de/s)),Gw=(r,i,s)=>Math.pow(2,-10*r)*Math.sin((r-i)*de/s)+1,Bs={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*He)+1,easeOutSine:r=>Math.sin(r*He),easeInOutSine:r=>-.5*(Math.cos(Oe*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>qa(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>qa(r)?r:Ww(r,.075,.3),easeOutElastic:r=>qa(r)?r:Gw(r,.075,.3),easeInOutElastic(r){return qa(r)?r:r<.5?.5*Ww(r*2,.1125,.45):.5+.5*Gw(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let i=1.70158;return(r/=.5)<1?.5*(r*r*(((i*=1.525)+1)*r-i)):.5*((r-=2)*r*(((i*=1.525)+1)*r+i)+2)},easeInBounce:r=>1-Bs.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Bs.easeInBounce(r*2)*.5:Bs.easeOutBounce(r*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Ys(r){return r+.5|0}const so=(r,i,s)=>Math.max(Math.min(r,s),i);function xs(r){return so(Ys(r*2.55),0,255)}function lo(r){return so(Ys(r*255),0,255)}function Gi(r){return so(Ys(r/2.55)/100,0,1)}function Yw(r){return so(Ys(r*100),0,100)}const ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Iu=[..."0123456789ABCDEF"],EN=r=>Iu[r&15],SN=r=>Iu[(r&240)>>4]+Iu[r&15],Xa=r=>(r&240)>>4===(r&15),DN=r=>Xa(r.r)&&Xa(r.g)&&Xa(r.b)&&Xa(r.a);function MN(r){var i=r.length,s;return r[0]==="#"&&(i===4||i===5?s={r:255&ni[r[1]]*17,g:255&ni[r[2]]*17,b:255&ni[r[3]]*17,a:i===5?ni[r[4]]*17:255}:(i===7||i===9)&&(s={r:ni[r[1]]<<4|ni[r[2]],g:ni[r[3]]<<4|ni[r[4]],b:ni[r[5]]<<4|ni[r[6]],a:i===9?ni[r[7]]<<4|ni[r[8]]:255})),s}const IN=(r,i)=>r<255?i(r):"";function TN(r){var i=DN(r)?EN:SN;return r?"#"+i(r.r)+i(r.g)+i(r.b)+IN(r.a,i):void 0}const PN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Q0(r,i,s){const l=i*Math.min(s,1-s),u=(g,d=(g+r/30)%12)=>s-l*Math.max(Math.min(d-3,9-d,1),-1);return[u(0),u(8),u(4)]}function ON(r,i,s){const l=(u,g=(u+r/60)%6)=>s-s*i*Math.max(Math.min(g,4-g,1),0);return[l(5),l(3),l(1)]}function NN(r,i,s){const l=Q0(r,1,.5);let u;for(i+s>1&&(u=1/(i+s),i*=u,s*=u),u=0;u<3;u++)l[u]*=1-i-s,l[u]+=i;return l}function BN(r,i,s,l,u){return r===u?(i-s)/l+(i<s?6:0):i===u?(s-r)/l+2:(r-i)/l+4}function Xu(r){const s=r.r/255,l=r.g/255,u=r.b/255,g=Math.max(s,l,u),d=Math.min(s,l,u),f=(g+d)/2;let p,k,C;return g!==d&&(C=g-d,k=f>.5?C/(2-g-d):C/(g+d),p=BN(s,l,u,C,g),p=p*60+.5),[p|0,k||0,f]}function Ju(r,i,s,l){return(Array.isArray(i)?r(i[0],i[1],i[2]):r(i,s,l)).map(lo)}function th(r,i,s){return Ju(Q0,r,i,s)}function LN(r,i,s){return Ju(NN,r,i,s)}function zN(r,i,s){return Ju(ON,r,i,s)}function Z0(r){return(r%360+360)%360}function RN(r){const i=PN.exec(r);let s=255,l;if(!i)return;i[5]!==l&&(s=i[6]?xs(+i[5]):lo(+i[5]));const u=Z0(+i[2]),g=+i[3]/100,d=+i[4]/100;return i[1]==="hwb"?l=LN(u,g,d):i[1]==="hsv"?l=zN(u,g,d):l=th(u,g,d),{r:l[0],g:l[1],b:l[2],a:s}}function jN(r,i){var s=Xu(r);s[0]=Z0(s[0]+i),s=th(s),r.r=s[0],r.g=s[1],r.b=s[2]}function FN(r){if(!r)return;const i=Xu(r),s=i[0],l=Yw(i[1]),u=Yw(i[2]);return r.a<255?`hsla(${s}, ${l}%, ${u}%, ${Gi(r.a)})`:`hsl(${s}, ${l}%, ${u}%)`}const Kw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Qw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VN(){const r={},i=Object.keys(Qw),s=Object.keys(Kw);let l,u,g,d,f;for(l=0;l<i.length;l++){for(d=f=i[l],u=0;u<s.length;u++)g=s[u],f=f.replace(g,Kw[g]);g=parseInt(Qw[d],16),r[f]=[g>>16&255,g>>8&255,g&255]}return r}let Ja;function UN(r){Ja||(Ja=VN(),Ja.transparent=[0,0,0,0]);const i=Ja[r.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:i.length===4?i[3]:255}}const HN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $N(r){const i=HN.exec(r);let s=255,l,u,g;if(!!i){if(i[7]!==l){const d=+i[7];s=i[8]?xs(d):so(d*255,0,255)}return l=+i[1],u=+i[3],g=+i[5],l=255&(i[2]?xs(l):so(l,0,255)),u=255&(i[4]?xs(u):so(u,0,255)),g=255&(i[6]?xs(g):so(g,0,255)),{r:l,g:u,b:g,a:s}}}function WN(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Gi(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const cu=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Er=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function GN(r,i,s){const l=Er(Gi(r.r)),u=Er(Gi(r.g)),g=Er(Gi(r.b));return{r:lo(cu(l+s*(Er(Gi(i.r))-l))),g:lo(cu(u+s*(Er(Gi(i.g))-u))),b:lo(cu(g+s*(Er(Gi(i.b))-g))),a:r.a+s*(i.a-r.a)}}function tl(r,i,s){if(r){let l=Xu(r);l[i]=Math.max(0,Math.min(l[i]+l[i]*s,i===0?360:1)),l=th(l),r.r=l[0],r.g=l[1],r.b=l[2]}}function q0(r,i){return r&&Object.assign(i||{},r)}function Zw(r){var i={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(i={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(i.a=lo(r[3]))):(i=q0(r,{r:0,g:0,b:0,a:1}),i.a=lo(i.a)),i}function YN(r){return r.charAt(0)==="r"?$N(r):RN(r)}class Al{constructor(i){if(i instanceof Al)return i;const s=typeof i;let l;s==="object"?l=Zw(i):s==="string"&&(l=MN(i)||UN(i)||YN(i)),this._rgb=l,this._valid=!!l}get valid(){return this._valid}get rgb(){var i=q0(this._rgb);return i&&(i.a=Gi(i.a)),i}set rgb(i){this._rgb=Zw(i)}rgbString(){return this._valid?WN(this._rgb):void 0}hexString(){return this._valid?TN(this._rgb):void 0}hslString(){return this._valid?FN(this._rgb):void 0}mix(i,s){if(i){const l=this.rgb,u=i.rgb;let g;const d=s===g?.5:s,f=2*d-1,p=l.a-u.a,k=((f*p===-1?f:(f+p)/(1+f*p))+1)/2;g=1-k,l.r=255&k*l.r+g*u.r+.5,l.g=255&k*l.g+g*u.g+.5,l.b=255&k*l.b+g*u.b+.5,l.a=d*l.a+(1-d)*u.a,this.rgb=l}return this}interpolate(i,s){return i&&(this._rgb=GN(this._rgb,i._rgb,s)),this}clone(){return new Al(this.rgb)}alpha(i){return this._rgb.a=lo(i),this}clearer(i){const s=this._rgb;return s.a*=1-i,this}greyscale(){const i=this._rgb,s=Ys(i.r*.3+i.g*.59+i.b*.11);return i.r=i.g=i.b=s,this}opaquer(i){const s=this._rgb;return s.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return tl(this._rgb,2,i),this}darken(i){return tl(this._rgb,2,-i),this}saturate(i){return tl(this._rgb,1,i),this}desaturate(i){return tl(this._rgb,1,-i),this}rotate(i){return jN(this._rgb,i),this}}function X0(r){return new Al(r)}function J0(r){if(r&&typeof r=="object"){const i=r.toString();return i==="[object CanvasPattern]"||i==="[object CanvasGradient]"}return!1}function qw(r){return J0(r)?r:X0(r)}function du(r){return J0(r)?r:X0(r).saturate(.5).darken(.1).hexString()}const Wo=Object.create(null),Tu=Object.create(null);function Ls(r,i){if(!i)return r;const s=i.split(".");for(let l=0,u=s.length;l<u;++l){const g=s[l];r=r[g]||(r[g]=Object.create(null))}return r}function uu(r,i,s){return typeof i=="string"?Rs(Ls(r,i),s):Rs(Ls(r,""),i)}class KN{constructor(i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>du(l.backgroundColor),this.hoverBorderColor=(s,l)=>du(l.borderColor),this.hoverColor=(s,l)=>du(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i)}set(i,s){return uu(this,i,s)}get(i){return Ls(this,i)}describe(i,s){return uu(Tu,i,s)}override(i,s){return uu(Wo,i,s)}route(i,s,l,u){const g=Ls(this,i),d=Ls(this,l),f="_"+s;Object.defineProperties(g,{[f]:{value:g[s],writable:!0},[s]:{enumerable:!0,get(){const p=this[f],k=d[u];return Ft(p)?Object.assign({},k,p):Pt(p,k)},set(p){this[f]=p}}})}}var Vt=new KN({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function QN(r){return!r||Wt(r.size)||Wt(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function yl(r,i,s,l,u){let g=i[u];return g||(g=i[u]=r.measureText(u).width,s.push(u)),g>l&&(l=g),l}function ZN(r,i,s,l){l=l||{};let u=l.data=l.data||{},g=l.garbageCollect=l.garbageCollect||[];l.font!==i&&(u=l.data={},g=l.garbageCollect=[],l.font=i),r.save(),r.font=i;let d=0;const f=s.length;let p,k,C,w,x;for(p=0;p<f;p++)if(w=s[p],w!=null&&Ce(w)!==!0)d=yl(r,u,g,d,w);else if(Ce(w))for(k=0,C=w.length;k<C;k++)x=w[k],x!=null&&!Ce(x)&&(d=yl(r,u,g,d,x));r.restore();const E=g.length/2;if(E>s.length){for(p=0;p<E;p++)delete u[g[p]];g.splice(0,E)}return d}function No(r,i,s){const l=r.currentDevicePixelRatio,u=s!==0?Math.max(s/2,.5):0;return Math.round((i-u)*l)/l+u}function Xw(r,i){i=i||r.getContext("2d"),i.save(),i.resetTransform(),i.clearRect(0,0,r.width,r.height),i.restore()}function Pu(r,i,s,l){tC(r,i,s,l,null)}function tC(r,i,s,l,u){let g,d,f,p,k,C;const w=i.pointStyle,x=i.rotation,E=i.radius;let D=(x||0)*mN;if(w&&typeof w=="object"&&(g=w.toString(),g==="[object HTMLImageElement]"||g==="[object HTMLCanvasElement]")){r.save(),r.translate(s,l),r.rotate(D),r.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),r.restore();return}if(!(isNaN(E)||E<=0)){switch(r.beginPath(),w){default:u?r.ellipse(s,l,u/2,E,0,0,de):r.arc(s,l,E,0,de),r.closePath();break;case"triangle":r.moveTo(s+Math.sin(D)*E,l-Math.cos(D)*E),D+=Vw,r.lineTo(s+Math.sin(D)*E,l-Math.cos(D)*E),D+=Vw,r.lineTo(s+Math.sin(D)*E,l-Math.cos(D)*E),r.closePath();break;case"rectRounded":k=E*.516,p=E-k,d=Math.cos(D+ps)*p,f=Math.sin(D+ps)*p,r.arc(s-d,l-f,k,D-Oe,D-He),r.arc(s+f,l-d,k,D-He,D),r.arc(s+d,l+f,k,D,D+He),r.arc(s-f,l+d,k,D+He,D+Oe),r.closePath();break;case"rect":if(!x){p=Math.SQRT1_2*E,C=u?u/2:p,r.rect(s-C,l-p,2*C,2*p);break}D+=ps;case"rectRot":d=Math.cos(D)*E,f=Math.sin(D)*E,r.moveTo(s-d,l-f),r.lineTo(s+f,l-d),r.lineTo(s+d,l+f),r.lineTo(s-f,l+d),r.closePath();break;case"crossRot":D+=ps;case"cross":d=Math.cos(D)*E,f=Math.sin(D)*E,r.moveTo(s-d,l-f),r.lineTo(s+d,l+f),r.moveTo(s+f,l-d),r.lineTo(s-f,l+d);break;case"star":d=Math.cos(D)*E,f=Math.sin(D)*E,r.moveTo(s-d,l-f),r.lineTo(s+d,l+f),r.moveTo(s+f,l-d),r.lineTo(s-f,l+d),D+=ps,d=Math.cos(D)*E,f=Math.sin(D)*E,r.moveTo(s-d,l-f),r.lineTo(s+d,l+f),r.moveTo(s+f,l-d),r.lineTo(s-f,l+d);break;case"line":d=u?u/2:Math.cos(D)*E,f=Math.sin(D)*E,r.moveTo(s-d,l-f),r.lineTo(s+d,l+f);break;case"dash":r.moveTo(s,l),r.lineTo(s+Math.cos(D)*E,l+Math.sin(D)*E);break}r.fill(),i.borderWidth>0&&r.stroke()}}function Fs(r,i,s){return s=s||.5,!i||r&&r.x>i.left-s&&r.x<i.right+s&&r.y>i.top-s&&r.y<i.bottom+s}function jl(r,i){r.save(),r.beginPath(),r.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),r.clip()}function Fl(r){r.restore()}function qN(r,i,s,l,u){if(!i)return r.lineTo(s.x,s.y);if(u==="middle"){const g=(i.x+s.x)/2;r.lineTo(g,i.y),r.lineTo(g,s.y)}else u==="after"!=!!l?r.lineTo(i.x,s.y):r.lineTo(s.x,i.y);r.lineTo(s.x,s.y)}function XN(r,i,s,l){if(!i)return r.lineTo(s.x,s.y);r.bezierCurveTo(l?i.cp1x:i.cp2x,l?i.cp1y:i.cp2y,l?s.cp2x:s.cp1x,l?s.cp2y:s.cp1y,s.x,s.y)}function Go(r,i,s,l,u,g={}){const d=Ce(i)?i:[i],f=g.strokeWidth>0&&g.strokeColor!=="";let p,k;for(r.save(),r.font=u.string,JN(r,g),p=0;p<d.length;++p)k=d[p],f&&(g.strokeColor&&(r.strokeStyle=g.strokeColor),Wt(g.strokeWidth)||(r.lineWidth=g.strokeWidth),r.strokeText(k,s,l,g.maxWidth)),r.fillText(k,s,l,g.maxWidth),tB(r,s,l,k,g),l+=u.lineHeight;r.restore()}function JN(r,i){i.translation&&r.translate(i.translation[0],i.translation[1]),Wt(i.rotation)||r.rotate(i.rotation),i.color&&(r.fillStyle=i.color),i.textAlign&&(r.textAlign=i.textAlign),i.textBaseline&&(r.textBaseline=i.textBaseline)}function tB(r,i,s,l,u){if(u.strikethrough||u.underline){const g=r.measureText(l),d=i-g.actualBoundingBoxLeft,f=i+g.actualBoundingBoxRight,p=s-g.actualBoundingBoxAscent,k=s+g.actualBoundingBoxDescent,C=u.strikethrough?(p+k)/2:k;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=u.decorationWidth||2,r.moveTo(d,C),r.lineTo(f,C),r.stroke()}}function Vs(r,i){const{x:s,y:l,w:u,h:g,radius:d}=i;r.arc(s+d.topLeft,l+d.topLeft,d.topLeft,-He,Oe,!0),r.lineTo(s,l+g-d.bottomLeft),r.arc(s+d.bottomLeft,l+g-d.bottomLeft,d.bottomLeft,Oe,He,!0),r.lineTo(s+u-d.bottomRight,l+g),r.arc(s+u-d.bottomRight,l+g-d.bottomRight,d.bottomRight,He,0,!0),r.lineTo(s+u,l+d.topRight),r.arc(s+u-d.topRight,l+d.topRight,d.topRight,0,-He,!0),r.lineTo(s+d.topLeft,l)}const eB=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),nB=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function iB(r,i){const s=(""+r).match(eB);if(!s||s[1]==="normal")return i*1.2;switch(r=+s[2],s[3]){case"px":return r;case"%":r/=100;break}return i*r}const oB=r=>+r||0;function eh(r,i){const s={},l=Ft(i),u=l?Object.keys(i):i,g=Ft(r)?l?d=>Pt(r[d],r[i[d]]):d=>r[d]:()=>r;for(const d of u)s[d]=oB(g(d));return s}function eC(r){return eh(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Vo(r){return eh(r,["topLeft","topRight","bottomLeft","bottomRight"])}function _n(r){const i=eC(r);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Xe(r,i){r=r||{},i=i||Vt.font;let s=Pt(r.size,i.size);typeof s=="string"&&(s=parseInt(s,10));let l=Pt(r.style,i.style);l&&!(""+l).match(nB)&&(console.warn('Invalid font style specified: "'+l+'"'),l="");const u={family:Pt(r.family,i.family),lineHeight:iB(Pt(r.lineHeight,i.lineHeight),s),size:s,style:l,weight:Pt(r.weight,i.weight),string:""};return u.string=QN(u),u}function Es(r,i,s,l){let u=!0,g,d,f;for(g=0,d=r.length;g<d;++g)if(f=r[g],f!==void 0&&(i!==void 0&&typeof f=="function"&&(f=f(i),u=!1),s!==void 0&&Ce(f)&&(f=f[s%f.length],u=!1),f!==void 0))return l&&!u&&(l.cacheable=!1),f}function rB(r,i,s){const{min:l,max:u}=r,g=j0(i,(u-l)/2),d=(f,p)=>s&&f===0?0:f+p;return{min:d(l,-Math.abs(g)),max:d(u,g)}}function ho(r,i){return Object.assign(Object.create(r),i)}function nh(r,i=[""],s=r,l,u=()=>r[0]){si(l)||(l=rC("_fallback",r));const g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:s,_fallback:l,_getTarget:u,override:d=>nh([d,...r],i,s,l)};return new Proxy(g,{deleteProperty(d,f){return delete d[f],delete d._keys,delete r[0][f],!0},get(d,f){return iC(d,f,()=>gB(f,i,r,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(d,f){return tv(d).includes(f)},ownKeys(d){return tv(d)},set(d,f,p){const k=d._storage||(d._storage=u());return d[f]=k[f]=p,delete d._keys,!0}})}function Rr(r,i,s,l){const u={_cacheable:!1,_proxy:r,_context:i,_subProxy:s,_stack:new Set,_descriptors:nC(r,l),setContext:g=>Rr(r,g,s,l),override:g=>Rr(r.override(g),i,s,l)};return new Proxy(u,{deleteProperty(g,d){return delete g[d],delete r[d],!0},get(g,d,f){return iC(g,d,()=>aB(g,d,f))},getOwnPropertyDescriptor(g,d){return g._descriptors.allKeys?Reflect.has(r,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,d)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(g,d){return Reflect.has(r,d)},ownKeys(){return Reflect.ownKeys(r)},set(g,d,f){return r[d]=f,delete g[d],!0}})}function nC(r,i={scriptable:!0,indexable:!0}){const{_scriptable:s=i.scriptable,_indexable:l=i.indexable,_allKeys:u=i.allKeys}=r;return{allKeys:u,scriptable:s,indexable:l,isScriptable:uo(s)?s:()=>s,isIndexable:uo(l)?l:()=>l}}const sB=(r,i)=>r?r+Ku(i):i,ih=(r,i)=>Ft(i)&&r!=="adapters"&&(Object.getPrototypeOf(i)===null||i.constructor===Object);function iC(r,i,s){if(Object.prototype.hasOwnProperty.call(r,i))return r[i];const l=s();return r[i]=l,l}function aB(r,i,s){const{_proxy:l,_context:u,_subProxy:g,_descriptors:d}=r;let f=l[i];return uo(f)&&d.isScriptable(i)&&(f=lB(i,f,r,s)),Ce(f)&&f.length&&(f=cB(i,f,r,d.isIndexable)),ih(i,f)&&(f=Rr(f,u,g&&g[i],d)),f}function lB(r,i,s,l){const{_proxy:u,_context:g,_subProxy:d,_stack:f}=s;if(f.has(r))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+r);return f.add(r),i=i(g,d||l),f.delete(r),ih(r,i)&&(i=oh(u._scopes,u,r,i)),i}function cB(r,i,s,l){const{_proxy:u,_context:g,_subProxy:d,_descriptors:f}=s;if(si(g.index)&&l(r))i=i[g.index%i.length];else if(Ft(i[0])){const p=i,k=u._scopes.filter(C=>C!==p);i=[];for(const C of p){const w=oh(k,u,r,C);i.push(Rr(w,g,d&&d[r],f))}}return i}function oC(r,i,s){return uo(r)?r(i,s):r}const dB=(r,i)=>r===!0?i:typeof r=="string"?co(i,r):void 0;function uB(r,i,s,l,u){for(const g of i){const d=dB(s,g);if(d){r.add(d);const f=oC(d._fallback,s,u);if(si(f)&&f!==s&&f!==l)return f}else if(d===!1&&si(l)&&s!==l)return null}return!1}function oh(r,i,s,l){const u=i._rootScopes,g=oC(i._fallback,s,l),d=[...r,...u],f=new Set;f.add(l);let p=Jw(f,d,s,g||s,l);return p===null||si(g)&&g!==s&&(p=Jw(f,d,g,p,l),p===null)?!1:nh(Array.from(f),[""],u,g,()=>hB(i,s,l))}function Jw(r,i,s,l,u){for(;s;)s=uB(r,i,s,l,u);return s}function hB(r,i,s){const l=r._getTarget();i in l||(l[i]={});const u=l[i];return Ce(u)&&Ft(s)?s:u}function gB(r,i,s,l){let u;for(const g of i)if(u=rC(sB(g,r),s),si(u))return ih(r,u)?oh(s,l,r,u):u}function rC(r,i){for(const s of i){if(!s)continue;const l=s[r];if(si(l))return l}}function tv(r){let i=r._keys;return i||(i=r._keys=fB(r._scopes)),i}function fB(r){const i=new Set;for(const s of r)for(const l of Object.keys(s).filter(u=>!u.startsWith("_")))i.add(l);return Array.from(i)}function sC(r,i,s,l){const{iScale:u}=r,{key:g="r"}=this._parsing,d=new Array(l);let f,p,k,C;for(f=0,p=l;f<p;++f)k=f+s,C=i[k],d[f]={r:u.parse(co(C,g),k)};return d}const pB=Number.EPSILON||1e-14,jr=(r,i)=>i<r.length&&!r[i].skip&&r[i],aC=r=>r==="x"?"y":"x";function mB(r,i,s,l){const u=r.skip?i:r,g=i,d=s.skip?i:s,f=Mu(g,u),p=Mu(d,g);let k=f/(f+p),C=p/(f+p);k=isNaN(k)?0:k,C=isNaN(C)?0:C;const w=l*k,x=l*C;return{previous:{x:g.x-w*(d.x-u.x),y:g.y-w*(d.y-u.y)},next:{x:g.x+x*(d.x-u.x),y:g.y+x*(d.y-u.y)}}}function bB(r,i,s){const l=r.length;let u,g,d,f,p,k=jr(r,0);for(let C=0;C<l-1;++C)if(p=k,k=jr(r,C+1),!(!p||!k)){if(Ns(i[C],0,pB)){s[C]=s[C+1]=0;continue}u=s[C]/i[C],g=s[C+1]/i[C],f=Math.pow(u,2)+Math.pow(g,2),!(f<=9)&&(d=3/Math.sqrt(f),s[C]=u*d*i[C],s[C+1]=g*d*i[C])}}function kB(r,i,s="x"){const l=aC(s),u=r.length;let g,d,f,p=jr(r,0);for(let k=0;k<u;++k){if(d=f,f=p,p=jr(r,k+1),!f)continue;const C=f[s],w=f[l];d&&(g=(C-d[s])/3,f[`cp1${s}`]=C-g,f[`cp1${l}`]=w-g*i[k]),p&&(g=(p[s]-C)/3,f[`cp2${s}`]=C+g,f[`cp2${l}`]=w+g*i[k])}}function wB(r,i="x"){const s=aC(i),l=r.length,u=Array(l).fill(0),g=Array(l);let d,f,p,k=jr(r,0);for(d=0;d<l;++d)if(f=p,p=k,k=jr(r,d+1),!!p){if(k){const C=k[i]-p[i];u[d]=C!==0?(k[s]-p[s])/C:0}g[d]=f?k?Ii(u[d-1])!==Ii(u[d])?0:(u[d-1]+u[d])/2:u[d-1]:u[d]}bB(r,u,g),kB(r,g,i)}function el(r,i,s){return Math.max(Math.min(r,s),i)}function vB(r,i){let s,l,u,g,d,f=Fs(r[0],i);for(s=0,l=r.length;s<l;++s)d=g,g=f,f=s<l-1&&Fs(r[s+1],i),g&&(u=r[s],d&&(u.cp1x=el(u.cp1x,i.left,i.right),u.cp1y=el(u.cp1y,i.top,i.bottom)),f&&(u.cp2x=el(u.cp2x,i.left,i.right),u.cp2y=el(u.cp2y,i.top,i.bottom)))}function CB(r,i,s,l,u){let g,d,f,p;if(i.spanGaps&&(r=r.filter(k=>!k.skip)),i.cubicInterpolationMode==="monotone")wB(r,u);else{let k=l?r[r.length-1]:r[0];for(g=0,d=r.length;g<d;++g)f=r[g],p=mB(k,f,r[Math.min(g+1,d-(l?0:1))%d],i.tension),f.cp1x=p.previous.x,f.cp1y=p.previous.y,f.cp2x=p.next.x,f.cp2y=p.next.y,k=f}i.capBezierPoints&&vB(r,s)}function lC(){return typeof window<"u"&&typeof document<"u"}function rh(r){let i=r.parentNode;return i&&i.toString()==="[object ShadowRoot]"&&(i=i.host),i}function xl(r,i,s){let l;return typeof r=="string"?(l=parseInt(r,10),r.indexOf("%")!==-1&&(l=l/100*i.parentNode[s])):l=r,l}const Vl=r=>window.getComputedStyle(r,null);function _B(r,i){return Vl(r).getPropertyValue(i)}const AB=["top","right","bottom","left"];function Uo(r,i,s){const l={};s=s?"-"+s:"";for(let u=0;u<4;u++){const g=AB[u];l[g]=parseFloat(r[i+"-"+g+s])||0}return l.width=l.left+l.right,l.height=l.top+l.bottom,l}const yB=(r,i,s)=>(r>0||i>0)&&(!s||!s.shadowRoot);function xB(r,i){const s=r.touches,l=s&&s.length?s[0]:r,{offsetX:u,offsetY:g}=l;let d=!1,f,p;if(yB(u,g,r.target))f=u,p=g;else{const k=i.getBoundingClientRect();f=l.clientX-k.left,p=l.clientY-k.top,d=!0}return{x:f,y:p,box:d}}function Ro(r,i){if("native"in r)return r;const{canvas:s,currentDevicePixelRatio:l}=i,u=Vl(s),g=u.boxSizing==="border-box",d=Uo(u,"padding"),f=Uo(u,"border","width"),{x:p,y:k,box:C}=xB(r,s),w=d.left+(C&&f.left),x=d.top+(C&&f.top);let{width:E,height:D}=i;return g&&(E-=d.width+f.width,D-=d.height+f.height),{x:Math.round((p-w)/E*s.width/l),y:Math.round((k-x)/D*s.height/l)}}function EB(r,i,s){let l,u;if(i===void 0||s===void 0){const g=rh(r);if(!g)i=r.clientWidth,s=r.clientHeight;else{const d=g.getBoundingClientRect(),f=Vl(g),p=Uo(f,"border","width"),k=Uo(f,"padding");i=d.width-k.width-p.width,s=d.height-k.height-p.height,l=xl(f.maxWidth,g,"clientWidth"),u=xl(f.maxHeight,g,"clientHeight")}}return{width:i,height:s,maxWidth:l||_l,maxHeight:u||_l}}const hu=r=>Math.round(r*10)/10;function SB(r,i,s,l){const u=Vl(r),g=Uo(u,"margin"),d=xl(u.maxWidth,r,"clientWidth")||_l,f=xl(u.maxHeight,r,"clientHeight")||_l,p=EB(r,i,s);let{width:k,height:C}=p;if(u.boxSizing==="content-box"){const w=Uo(u,"border","width"),x=Uo(u,"padding");k-=x.width+w.width,C-=x.height+w.height}return k=Math.max(0,k-g.width),C=Math.max(0,l?Math.floor(k/l):C-g.height),k=hu(Math.min(k,d,p.maxWidth)),C=hu(Math.min(C,f,p.maxHeight)),k&&!C&&(C=hu(k/2)),{width:k,height:C}}function ev(r,i,s){const l=i||1,u=Math.floor(r.height*l),g=Math.floor(r.width*l);r.height=u/l,r.width=g/l;const d=r.canvas;return d.style&&(s||!d.style.height&&!d.style.width)&&(d.style.height=`${r.height}px`,d.style.width=`${r.width}px`),r.currentDevicePixelRatio!==l||d.height!==u||d.width!==g?(r.currentDevicePixelRatio=l,d.height=u,d.width=g,r.ctx.setTransform(l,0,0,l,0,0),!0):!1}const DB=function(){let r=!1;try{const i={get passive(){return r=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return r}();function nv(r,i){const s=_B(r,i),l=s&&s.match(/^(\d+)(\.\d+)?px$/);return l?+l[1]:void 0}function jo(r,i,s,l){return{x:r.x+s*(i.x-r.x),y:r.y+s*(i.y-r.y)}}function MB(r,i,s,l){return{x:r.x+s*(i.x-r.x),y:l==="middle"?s<.5?r.y:i.y:l==="after"?s<1?r.y:i.y:s>0?i.y:r.y}}function IB(r,i,s,l){const u={x:r.cp2x,y:r.cp2y},g={x:i.cp1x,y:i.cp1y},d=jo(r,u,s),f=jo(u,g,s),p=jo(g,i,s),k=jo(d,f,s),C=jo(f,p,s);return jo(k,C,s)}const iv=new Map;function TB(r,i){i=i||{};const s=r+JSON.stringify(i);let l=iv.get(s);return l||(l=new Intl.NumberFormat(r,i),iv.set(s,l)),l}function Ks(r,i,s){return TB(i,s).format(r)}const PB=function(r,i){return{x(s){return r+r+i-s},setWidth(s){i=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,l){return s-l},leftForLtr(s,l){return s-l}}},OB=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,i){return r+i},leftForLtr(r,i){return r}}};function Br(r,i,s){return r?PB(i,s):OB()}function cC(r,i){let s,l;(i==="ltr"||i==="rtl")&&(s=r.canvas.style,l=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",i,"important"),r.prevTextDirection=l)}function dC(r,i){i!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",i[0],i[1]))}function uC(r){return r==="angle"?{between:js,compare:wN,normalize:Hn}:{between:Yi,compare:(i,s)=>i-s,normalize:i=>i}}function ov({start:r,end:i,count:s,loop:l,style:u}){return{start:r%s,end:i%s,loop:l&&(i-r+1)%s===0,style:u}}function NB(r,i,s){const{property:l,start:u,end:g}=s,{between:d,normalize:f}=uC(l),p=i.length;let{start:k,end:C,loop:w}=r,x,E;if(w){for(k+=p,C+=p,x=0,E=p;x<E&&d(f(i[k%p][l]),u,g);++x)k--,C--;k%=p,C%=p}return C<k&&(C+=p),{start:k,end:C,loop:w,style:r.style}}function hC(r,i,s){if(!s)return[r];const{property:l,start:u,end:g}=s,d=i.length,{compare:f,between:p,normalize:k}=uC(l),{start:C,end:w,loop:x,style:E}=NB(r,i,s),D=[];let I=!1,P=null,B,z,U;const R=()=>p(u,U,B)&&f(u,U)!==0,F=()=>f(g,B)===0||p(g,U,B),H=()=>I||R(),$=()=>!I||F();for(let G=C,V=C;G<=w;++G)z=i[G%d],!z.skip&&(B=k(z[l]),B!==U&&(I=p(B,u,g),P===null&&H()&&(P=f(B,u)===0?G:V),P!==null&&$()&&(D.push(ov({start:P,end:G,loop:x,count:d,style:E})),P=null),V=G,U=B));return P!==null&&D.push(ov({start:P,end:w,loop:x,count:d,style:E})),D}function gC(r,i){const s=[],l=r.segments;for(let u=0;u<l.length;u++){const g=hC(l[u],r.points,i);g.length&&s.push(...g)}return s}function BB(r,i,s,l){let u=0,g=i-1;if(s&&!l)for(;u<i&&!r[u].skip;)u++;for(;u<i&&r[u].skip;)u++;for(u%=i,s&&(g+=u);g>u&&r[g%i].skip;)g--;return g%=i,{start:u,end:g}}function LB(r,i,s,l){const u=r.length,g=[];let d=i,f=r[i],p;for(p=i+1;p<=s;++p){const k=r[p%u];k.skip||k.stop?f.skip||(l=!1,g.push({start:i%u,end:(p-1)%u,loop:l}),i=d=k.stop?p:null):(d=p,f.skip&&(i=p)),f=k}return d!==null&&g.push({start:i%u,end:d%u,loop:l}),g}function zB(r,i){const s=r.points,l=r.options.spanGaps,u=s.length;if(!u)return[];const g=!!r._loop,{start:d,end:f}=BB(s,u,g,l);if(l===!0)return rv(r,[{start:d,end:f,loop:g}],s,i);const p=f<d?f+u:f,k=!!r._fullLoop&&d===0&&f===u-1;return rv(r,LB(s,d,p,k),s,i)}function rv(r,i,s,l){return!l||!l.setContext||!s?i:RB(r,i,s,l)}function RB(r,i,s,l){const u=r._chart.getContext(),g=sv(r.options),{_datasetIndex:d,options:{spanGaps:f}}=r,p=s.length,k=[];let C=g,w=i[0].start,x=w;function E(D,I,P,B){const z=f?-1:1;if(D!==I){for(D+=p;s[D%p].skip;)D-=z;for(;s[I%p].skip;)I+=z;D%p!==I%p&&(k.push({start:D%p,end:I%p,loop:P,style:B}),C=B,w=I%p)}}for(const D of i){w=f?w:D.start;let I=s[w%p],P;for(x=w+1;x<=D.end;x++){const B=s[x%p];P=sv(l.setContext(ho(u,{type:"segment",p0:I,p1:B,p0DataIndex:(x-1)%p,p1DataIndex:x%p,datasetIndex:d}))),jB(P,C)&&E(w,x-1,D.loop,C),I=B,C=P}w<x-1&&E(w,x-1,D.loop,C)}return k}function sv(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function jB(r,i){return i&&JSON.stringify(r)!==JSON.stringify(i)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class FB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,s,l,u){const g=s.listeners[u],d=s.duration;g.forEach(f=>f({chart:i,initial:s.initial,numSteps:d,currentStep:Math.min(l-s.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=W0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let s=0;this._charts.forEach((l,u)=>{if(!l.running||!l.items.length)return;const g=l.items;let d=g.length-1,f=!1,p;for(;d>=0;--d)p=g[d],p._active?(p._total>l.duration&&(l.duration=p._total),p.tick(i),f=!0):(g[d]=g[g.length-1],g.pop());f&&(u.draw(),this._notify(u,l,i,"progress")),g.length||(l.running=!1,this._notify(u,l,i,"complete"),l.initial=!1),s+=g.length}),this._lastDate=i,s===0&&(this._running=!1)}_getAnims(i){const s=this._charts;let l=s.get(i);return l||(l={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(i,l)),l}listen(i,s,l){this._getAnims(i).listeners[s].push(l)}add(i,s){!s||!s.length||this._getAnims(i).items.push(...s)}has(i){return this._getAnims(i).items.length>0}start(i){const s=this._charts.get(i);!s||(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((l,u)=>Math.max(l,u._duration),0),this._refresh())}running(i){if(!this._running)return!1;const s=this._charts.get(i);return!(!s||!s.running||!s.items.length)}stop(i){const s=this._charts.get(i);if(!s||!s.items.length)return;const l=s.items;let u=l.length-1;for(;u>=0;--u)l[u].cancel();s.items=[],this._notify(i,s,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var $i=new FB;const av="transparent",VB={boolean(r,i,s){return s>.5?i:r},color(r,i,s){const l=qw(r||av),u=l.valid&&qw(i||av);return u&&u.valid?u.mix(l,s).hexString():i},number(r,i,s){return r+(i-r)*s}};class UB{constructor(i,s,l,u){const g=s[l];u=Es([i.to,u,g,i.from]);const d=Es([i.from,g,u]);this._active=!0,this._fn=i.fn||VB[i.type||typeof d],this._easing=Bs[i.easing]||Bs.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=s,this._prop=l,this._from=d,this._to=u,this._promises=void 0}active(){return this._active}update(i,s,l){if(this._active){this._notify(!1);const u=this._target[this._prop],g=l-this._start,d=this._duration-g;this._start=l,this._duration=Math.floor(Math.max(d,i.duration)),this._total+=g,this._loop=!!i.loop,this._to=Es([i.to,s,u,i.from]),this._from=Es([i.from,u,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const s=i-this._start,l=this._duration,u=this._prop,g=this._from,d=this._loop,f=this._to;let p;if(this._active=g!==f&&(d||s<l),!this._active){this._target[u]=f,this._notify(!0);return}if(s<0){this._target[u]=g;return}p=s/l%2,p=d&&p>1?2-p:p,p=this._easing(Math.min(1,Math.max(0,p))),this._target[u]=this._fn(g,f,p)}wait(){const i=this._promises||(this._promises=[]);return new Promise((s,l)=>{i.push({res:s,rej:l})})}_notify(i){const s=i?"res":"rej",l=this._promises||[];for(let u=0;u<l.length;u++)l[u][s]()}}const HB=["x","y","borderWidth","radius","tension"],$B=["color","borderColor","backgroundColor"];Vt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const WB=Object.keys(Vt.animation);Vt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"});Vt.set("animations",{colors:{type:"color",properties:$B},numbers:{type:"number",properties:HB}});Vt.describe("animations",{_fallback:"animation"});Vt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}});class fC{constructor(i,s){this._chart=i,this._properties=new Map,this.configure(s)}configure(i){if(!Ft(i))return;const s=this._properties;Object.getOwnPropertyNames(i).forEach(l=>{const u=i[l];if(!Ft(u))return;const g={};for(const d of WB)g[d]=u[d];(Ce(u.properties)&&u.properties||[l]).forEach(d=>{(d===l||!s.has(d))&&s.set(d,g)})})}_animateOptions(i,s){const l=s.options,u=YB(i,l);if(!u)return[];const g=this._createAnimations(u,l);return l.$shared&&GB(i.options.$animations,l).then(()=>{i.options=l},()=>{}),g}_createAnimations(i,s){const l=this._properties,u=[],g=i.$animations||(i.$animations={}),d=Object.keys(s),f=Date.now();let p;for(p=d.length-1;p>=0;--p){const k=d[p];if(k.charAt(0)==="$")continue;if(k==="options"){u.push(...this._animateOptions(i,s));continue}const C=s[k];let w=g[k];const x=l.get(k);if(w)if(x&&w.active()){w.update(x,C,f);continue}else w.cancel();if(!x||!x.duration){i[k]=C;continue}g[k]=w=new UB(x,i,k,C),u.push(w)}return u}update(i,s){if(this._properties.size===0){Object.assign(i,s);return}const l=this._createAnimations(i,s);if(l.length)return $i.add(this._chart,l),!0}}function GB(r,i){const s=[],l=Object.keys(i);for(let u=0;u<l.length;u++){const g=r[l[u]];g&&g.active()&&s.push(g.wait())}return Promise.all(s)}function YB(r,i){if(!i)return;let s=r.options;if(!s){r.options=i;return}return s.$shared&&(r.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function lv(r,i){const s=r&&r.options||{},l=s.reverse,u=s.min===void 0?i:0,g=s.max===void 0?i:0;return{start:l?g:u,end:l?u:g}}function KB(r,i,s){if(s===!1)return!1;const l=lv(r,s),u=lv(i,s);return{top:u.end,right:l.end,bottom:u.start,left:l.start}}function QB(r){let i,s,l,u;return Ft(r)?(i=r.top,s=r.right,l=r.bottom,u=r.left):i=s=l=u=r,{top:i,right:s,bottom:l,left:u,disabled:r===!1}}function pC(r,i){const s=[],l=r._getSortedDatasetMetas(i);let u,g;for(u=0,g=l.length;u<g;++u)s.push(l[u].index);return s}function cv(r,i,s,l={}){const u=r.keys,g=l.mode==="single";let d,f,p,k;if(i!==null){for(d=0,f=u.length;d<f;++d){if(p=+u[d],p===s){if(l.all)continue;break}k=r.values[p],Ge(k)&&(g||i===0||Ii(i)===Ii(k))&&(i+=k)}return i}}function ZB(r){const i=Object.keys(r),s=new Array(i.length);let l,u,g;for(l=0,u=i.length;l<u;++l)g=i[l],s[l]={x:g,y:r[g]};return s}function dv(r,i){const s=r&&r.options.stacked;return s||s===void 0&&i.stack!==void 0}function qB(r,i,s){return`${r.id}.${i.id}.${s.stack||s.type}`}function XB(r){const{min:i,max:s,minDefined:l,maxDefined:u}=r.getUserBounds();return{min:l?i:Number.NEGATIVE_INFINITY,max:u?s:Number.POSITIVE_INFINITY}}function JB(r,i,s){const l=r[i]||(r[i]={});return l[s]||(l[s]={})}function uv(r,i,s,l){for(const u of i.getMatchingVisibleMetas(l).reverse()){const g=r[u.index];if(s&&g>0||!s&&g<0)return u.index}return null}function hv(r,i){const{chart:s,_cachedMeta:l}=r,u=s._stacks||(s._stacks={}),{iScale:g,vScale:d,index:f}=l,p=g.axis,k=d.axis,C=qB(g,d,l),w=i.length;let x;for(let E=0;E<w;++E){const D=i[E],{[p]:I,[k]:P}=D,B=D._stacks||(D._stacks={});x=B[k]=JB(u,C,I),x[f]=P,x._top=uv(x,d,!0,l.type),x._bottom=uv(x,d,!1,l.type)}}function gu(r,i){const s=r.scales;return Object.keys(s).filter(l=>s[l].axis===i).shift()}function t4(r,i){return ho(r,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}function e4(r,i,s){return ho(r,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:s,index:i,mode:"default",type:"data"})}function ms(r,i){const s=r.controller.index,l=r.vScale&&r.vScale.axis;if(!!l){i=i||r._parsed;for(const u of i){const g=u._stacks;if(!g||g[l]===void 0||g[l][s]===void 0)return;delete g[l][s]}}}const fu=r=>r==="reset"||r==="none",gv=(r,i)=>i?r:Object.assign({},r),n4=(r,i,s)=>r&&!i.hidden&&i._stacked&&{keys:pC(s,!0),values:null};class pi{constructor(i,s){this.chart=i,this._ctx=i.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=dv(i.vScale,i),this.addElements()}updateIndex(i){this.index!==i&&ms(this._cachedMeta),this.index=i}linkScales(){const i=this.chart,s=this._cachedMeta,l=this.getDataset(),u=(w,x,E,D)=>w==="x"?x:w==="r"?D:E,g=s.xAxisID=Pt(l.xAxisID,gu(i,"x")),d=s.yAxisID=Pt(l.yAxisID,gu(i,"y")),f=s.rAxisID=Pt(l.rAxisID,gu(i,"r")),p=s.indexAxis,k=s.iAxisID=u(p,g,d,f),C=s.vAxisID=u(p,d,g,f);s.xScale=this.getScaleForId(g),s.yScale=this.getScaleForId(d),s.rScale=this.getScaleForId(f),s.iScale=this.getScaleForId(k),s.vScale=this.getScaleForId(C)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){const s=this._cachedMeta;return i===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const i=this._cachedMeta;this._data&&$w(this._data,this),i._stacked&&ms(i)}_dataCheck(){const i=this.getDataset(),s=i.data||(i.data=[]),l=this._data;if(Ft(s))this._data=ZB(s);else if(l!==s){if(l){$w(l,this);const u=this._cachedMeta;ms(u),u._parsed=[]}s&&Object.isExtensible(s)&&AN(s,this),this._syncList=[],this._data=s}}addElements(){const i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){const s=this._cachedMeta,l=this.getDataset();let u=!1;this._dataCheck();const g=s._stacked;s._stacked=dv(s.vScale,s),s.stack!==l.stack&&(u=!0,ms(s),s.stack=l.stack),this._resyncElements(i),(u||g!==s._stacked)&&hv(this,s._parsed)}configure(){const i=this.chart.config,s=i.datasetScopeKeys(this._type),l=i.getOptionScopes(this.getDataset(),s,!0);this.options=i.createResolver(l,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,s){const{_cachedMeta:l,_data:u}=this,{iScale:g,_stacked:d}=l,f=g.axis;let p=i===0&&s===u.length?!0:l._sorted,k=i>0&&l._parsed[i-1],C,w,x;if(this._parsing===!1)l._parsed=u,l._sorted=!0,x=u;else{Ce(u[i])?x=this.parseArrayData(l,u,i,s):Ft(u[i])?x=this.parseObjectData(l,u,i,s):x=this.parsePrimitiveData(l,u,i,s);const E=()=>w[f]===null||k&&w[f]<k[f];for(C=0;C<s;++C)l._parsed[C+i]=w=x[C],p&&(E()&&(p=!1),k=w);l._sorted=p}d&&hv(this,x)}parsePrimitiveData(i,s,l,u){const{iScale:g,vScale:d}=i,f=g.axis,p=d.axis,k=g.getLabels(),C=g===d,w=new Array(u);let x,E,D;for(x=0,E=u;x<E;++x)D=x+l,w[x]={[f]:C||g.parse(k[D],D),[p]:d.parse(s[D],D)};return w}parseArrayData(i,s,l,u){const{xScale:g,yScale:d}=i,f=new Array(u);let p,k,C,w;for(p=0,k=u;p<k;++p)C=p+l,w=s[C],f[p]={x:g.parse(w[0],C),y:d.parse(w[1],C)};return f}parseObjectData(i,s,l,u){const{xScale:g,yScale:d}=i,{xAxisKey:f="x",yAxisKey:p="y"}=this._parsing,k=new Array(u);let C,w,x,E;for(C=0,w=u;C<w;++C)x=C+l,E=s[x],k[C]={x:g.parse(co(E,f),x),y:d.parse(co(E,p),x)};return k}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,s,l){const u=this.chart,g=this._cachedMeta,d=s[i.axis],f={keys:pC(u,!0),values:s._stacks[i.axis]};return cv(f,d,g.index,{mode:l})}updateRangeFromParsed(i,s,l,u){const g=l[s.axis];let d=g===null?NaN:g;const f=u&&l._stacks[s.axis];u&&f&&(u.values=f,d=cv(u,g,this._cachedMeta.index)),i.min=Math.min(i.min,d),i.max=Math.max(i.max,d)}getMinMax(i,s){const l=this._cachedMeta,u=l._parsed,g=l._sorted&&i===l.iScale,d=u.length,f=this._getOtherScale(i),p=n4(s,l,this.chart),k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:C,max:w}=XB(f);let x,E;function D(){E=u[x];const I=E[f.axis];return!Ge(E[i.axis])||C>I||w<I}for(x=0;x<d&&!(!D()&&(this.updateRangeFromParsed(k,i,E,p),g));++x);if(g){for(x=d-1;x>=0;--x)if(!D()){this.updateRangeFromParsed(k,i,E,p);break}}return k}getAllParsedValues(i){const s=this._cachedMeta._parsed,l=[];let u,g,d;for(u=0,g=s.length;u<g;++u)d=s[u][i.axis],Ge(d)&&l.push(d);return l}getMaxOverflow(){return!1}getLabelAndValue(i){const s=this._cachedMeta,l=s.iScale,u=s.vScale,g=this.getParsed(i);return{label:l?""+l.getLabelForValue(g[l.axis]):"",value:u?""+u.getLabelForValue(g[u.axis]):""}}_update(i){const s=this._cachedMeta;this.update(i||"default"),s._clip=QB(Pt(this.options.clip,KB(s.xScale,s.yScale,this.getMaxOverflow())))}update(i){}draw(){const i=this._ctx,s=this.chart,l=this._cachedMeta,u=l.data||[],g=s.chartArea,d=[],f=this._drawStart||0,p=this._drawCount||u.length-f,k=this.options.drawActiveElementsOnTop;let C;for(l.dataset&&l.dataset.draw(i,g,f,p),C=f;C<f+p;++C){const w=u[C];w.hidden||(w.active&&k?d.push(w):w.draw(i,g))}for(C=0;C<d.length;++C)d[C].draw(i,g)}getStyle(i,s){const l=s?"active":"default";return i===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(l):this.resolveDataElementOptions(i||0,l)}getContext(i,s,l){const u=this.getDataset();let g;if(i>=0&&i<this._cachedMeta.data.length){const d=this._cachedMeta.data[i];g=d.$context||(d.$context=e4(this.getContext(),i,d)),g.parsed=this.getParsed(i),g.raw=u.data[i],g.index=g.dataIndex=i}else g=this.$context||(this.$context=t4(this.chart.getContext(),this.index)),g.dataset=u,g.index=g.datasetIndex=this.index;return g.active=!!s,g.mode=l,g}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,s){return this._resolveElementOptions(this.dataElementType.id,s,i)}_resolveElementOptions(i,s="default",l){const u=s==="active",g=this._cachedDataOpts,d=i+"-"+s,f=g[d],p=this.enableOptionSharing&&si(l);if(f)return gv(f,p);const k=this.chart.config,C=k.datasetElementScopeKeys(this._type,i),w=u?[`${i}Hover`,"hover",i,""]:[i,""],x=k.getOptionScopes(this.getDataset(),C),E=Object.keys(Vt.elements[i]),D=()=>this.getContext(l,u),I=k.resolveNamedOptions(x,E,D,w);return I.$shared&&(I.$shared=p,g[d]=Object.freeze(gv(I,p))),I}_resolveAnimations(i,s,l){const u=this.chart,g=this._cachedDataOpts,d=`animation-${s}`,f=g[d];if(f)return f;let p;if(u.options.animation!==!1){const C=this.chart.config,w=C.datasetAnimationScopeKeys(this._type,s),x=C.getOptionScopes(this.getDataset(),w);p=C.createResolver(x,this.getContext(i,l,s))}const k=new fC(u,p&&p.animations);return p&&p._cacheable&&(g[d]=Object.freeze(k)),k}getSharedOptions(i){if(!!i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,s){return!s||fu(i)||this.chart._animationsDisabled}_getSharedOptions(i,s){const l=this.resolveDataElementOptions(i,s),u=this._sharedOptions,g=this.getSharedOptions(l),d=this.includeOptions(s,g)||g!==u;return this.updateSharedOptions(g,s,l),{sharedOptions:g,includeOptions:d}}updateElement(i,s,l,u){fu(u)?Object.assign(i,l):this._resolveAnimations(s,u).update(i,l)}updateSharedOptions(i,s,l){i&&!fu(s)&&this._resolveAnimations(void 0,s).update(i,l)}_setStyle(i,s,l,u){i.active=u;const g=this.getStyle(s,u);this._resolveAnimations(s,l,u).update(i,{options:!u&&this.getSharedOptions(g)||g})}removeHoverStyle(i,s,l){this._setStyle(i,l,"active",!1)}setHoverStyle(i,s,l){this._setStyle(i,l,"active",!0)}_removeDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){const s=this._data,l=this._cachedMeta.data;for(const[f,p,k]of this._syncList)this[f](p,k);this._syncList=[];const u=l.length,g=s.length,d=Math.min(g,u);d&&this.parse(0,d),g>u?this._insertElements(u,g-u,i):g<u&&this._removeElements(g,u-g)}_insertElements(i,s,l=!0){const u=this._cachedMeta,g=u.data,d=i+s;let f;const p=k=>{for(k.length+=s,f=k.length-1;f>=d;f--)k[f]=k[f-s]};for(p(g),f=i;f<d;++f)g[f]=new this.dataElementType;this._parsing&&p(u._parsed),this.parse(i,s),l&&this.updateElements(g,i,s,"reset")}updateElements(i,s,l,u){}_removeElements(i,s){const l=this._cachedMeta;if(this._parsing){const u=l._parsed.splice(i,s);l._stacked&&ms(l,u)}l.data.splice(i,s)}_sync(i){if(this._parsing)this._syncList.push(i);else{const[s,l,u]=i;this[s](l,u)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){const i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,s){s&&this._sync(["_removeElements",i,s]);const l=arguments.length-2;l&&this._sync(["_insertElements",i,l])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}pi.defaults={};pi.prototype.datasetElementType=null;pi.prototype.dataElementType=null;function i4(r,i){if(!r._cache.$bar){const s=r.getMatchingVisibleMetas(i);let l=[];for(let u=0,g=s.length;u<g;u++)l=l.concat(s[u].controller.getAllParsedValues(r));r._cache.$bar=$0(l.sort((u,g)=>u-g))}return r._cache.$bar}function o4(r){const i=r.iScale,s=i4(i,r.type);let l=i._length,u,g,d,f;const p=()=>{d===32767||d===-32768||(si(f)&&(l=Math.min(l,Math.abs(d-f)||l)),f=d)};for(u=0,g=s.length;u<g;++u)d=i.getPixelForValue(s[u]),p();for(f=void 0,u=0,g=i.ticks.length;u<g;++u)d=i.getPixelForTick(u),p();return l}function r4(r,i,s,l){const u=s.barThickness;let g,d;return Wt(u)?(g=i.min*s.categoryPercentage,d=s.barPercentage):(g=u*l,d=1),{chunk:g/l,ratio:d,start:i.pixels[r]-g/2}}function s4(r,i,s,l){const u=i.pixels,g=u[r];let d=r>0?u[r-1]:null,f=r<u.length-1?u[r+1]:null;const p=s.categoryPercentage;d===null&&(d=g-(f===null?i.end-i.start:f-g)),f===null&&(f=g+g-d);const k=g-(g-Math.min(d,f))/2*p;return{chunk:Math.abs(f-d)/2*p/l,ratio:s.barPercentage,start:k}}function a4(r,i,s,l){const u=s.parse(r[0],l),g=s.parse(r[1],l),d=Math.min(u,g),f=Math.max(u,g);let p=d,k=f;Math.abs(d)>Math.abs(f)&&(p=f,k=d),i[s.axis]=k,i._custom={barStart:p,barEnd:k,start:u,end:g,min:d,max:f}}function mC(r,i,s,l){return Ce(r)?a4(r,i,s,l):i[s.axis]=s.parse(r,l),i}function fv(r,i,s,l){const u=r.iScale,g=r.vScale,d=u.getLabels(),f=u===g,p=[];let k,C,w,x;for(k=s,C=s+l;k<C;++k)x=i[k],w={},w[u.axis]=f||u.parse(d[k],k),p.push(mC(x,w,g,k));return p}function pu(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function l4(r,i,s){return r!==0?Ii(r):(i.isHorizontal()?1:-1)*(i.min>=s?1:-1)}function c4(r){let i,s,l,u,g;return r.horizontal?(i=r.base>r.x,s="left",l="right"):(i=r.base<r.y,s="bottom",l="top"),i?(u="end",g="start"):(u="start",g="end"),{start:s,end:l,reverse:i,top:u,bottom:g}}function d4(r,i,s,l){let u=i.borderSkipped;const g={};if(!u){r.borderSkipped=g;return}if(u===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:d,end:f,reverse:p,top:k,bottom:C}=c4(r);u==="middle"&&s&&(r.enableBorderRadius=!0,(s._top||0)===l?u=k:(s._bottom||0)===l?u=C:(g[pv(C,d,f,p)]=!0,u=k)),g[pv(u,d,f,p)]=!0,r.borderSkipped=g}function pv(r,i,s,l){return l?(r=u4(r,i,s),r=mv(r,s,i)):r=mv(r,i,s),r}function u4(r,i,s){return r===i?s:r===s?i:r}function mv(r,i,s){return r==="start"?i:r==="end"?s:r}function h4(r,{inflateAmount:i},s){r.inflateAmount=i==="auto"?s===1?.33:0:i}class Ul extends pi{parsePrimitiveData(i,s,l,u){return fv(i,s,l,u)}parseArrayData(i,s,l,u){return fv(i,s,l,u)}parseObjectData(i,s,l,u){const{iScale:g,vScale:d}=i,{xAxisKey:f="x",yAxisKey:p="y"}=this._parsing,k=g.axis==="x"?f:p,C=d.axis==="x"?f:p,w=[];let x,E,D,I;for(x=l,E=l+u;x<E;++x)I=s[x],D={},D[g.axis]=g.parse(co(I,k),x),w.push(mC(co(I,C),D,d,x));return w}updateRangeFromParsed(i,s,l,u){super.updateRangeFromParsed(i,s,l,u);const g=l._custom;g&&s===this._cachedMeta.vScale&&(i.min=Math.min(i.min,g.min),i.max=Math.max(i.max,g.max))}getMaxOverflow(){return 0}getLabelAndValue(i){const s=this._cachedMeta,{iScale:l,vScale:u}=s,g=this.getParsed(i),d=g._custom,f=pu(d)?"["+d.start+", "+d.end+"]":""+u.getLabelForValue(g[u.axis]);return{label:""+l.getLabelForValue(g[l.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize();const i=this._cachedMeta;i.stack=this.getDataset().stack}update(i){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,i)}updateElements(i,s,l,u){const g=u==="reset",{index:d,_cachedMeta:{vScale:f}}=this,p=f.getBasePixel(),k=f.isHorizontal(),C=this._getRuler(),{sharedOptions:w,includeOptions:x}=this._getSharedOptions(s,u);for(let E=s;E<s+l;E++){const D=this.getParsed(E),I=g||Wt(D[f.axis])?{base:p,head:p}:this._calculateBarValuePixels(E),P=this._calculateBarIndexPixels(E,C),B=(D._stacks||{})[f.axis],z={horizontal:k,base:I.base,enableBorderRadius:!B||pu(D._custom)||d===B._top||d===B._bottom,x:k?I.head:P.center,y:k?P.center:I.head,height:k?P.size:Math.abs(I.size),width:k?Math.abs(I.size):P.size};x&&(z.options=w||this.resolveDataElementOptions(E,i[E].active?"active":u));const U=z.options||i[E].options;d4(z,U,B,d),h4(z,U,C.ratio),this.updateElement(i[E],E,z,u)}}_getStacks(i,s){const{iScale:l}=this._cachedMeta,u=l.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),g=l.options.stacked,d=[],f=p=>{const k=p.controller.getParsed(s),C=k&&k[p.vScale.axis];if(Wt(C)||isNaN(C))return!0};for(const p of u)if(!(s!==void 0&&f(p))&&((g===!1||d.indexOf(p.stack)===-1||g===void 0&&p.stack===void 0)&&d.push(p.stack),p.index===i))break;return d.length||d.push(void 0),d}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,s,l){const u=this._getStacks(i,l),g=s!==void 0?u.indexOf(s):-1;return g===-1?u.length-1:g}_getRuler(){const i=this.options,s=this._cachedMeta,l=s.iScale,u=[];let g,d;for(g=0,d=s.data.length;g<d;++g)u.push(l.getPixelForValue(this.getParsed(g)[l.axis],g));const f=i.barThickness;return{min:f||o4(s),pixels:u,start:l._startPixel,end:l._endPixel,stackCount:this._getStackCount(),scale:l,grouped:i.grouped,ratio:f?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){const{_cachedMeta:{vScale:s,_stacked:l},options:{base:u,minBarLength:g}}=this,d=u||0,f=this.getParsed(i),p=f._custom,k=pu(p);let C=f[s.axis],w=0,x=l?this.applyStack(s,f,l):C,E,D;x!==C&&(w=x-C,x=C),k&&(C=p.barStart,x=p.barEnd-p.barStart,C!==0&&Ii(C)!==Ii(p.barEnd)&&(w=0),w+=C);const I=!Wt(u)&&!k?u:w;let P=s.getPixelForValue(I);if(this.chart.getDataVisibility(i)?E=s.getPixelForValue(w+x):E=P,D=E-P,Math.abs(D)<g){D=l4(D,s,d)*g,C===d&&(P-=D/2);const B=s.getPixelForDecimal(0),z=s.getPixelForDecimal(1),U=Math.min(B,z),R=Math.max(B,z);P=Math.max(Math.min(P,R),U),E=P+D}if(P===s.getPixelForValue(d)){const B=Ii(D)*s.getLineWidthForValue(d)/2;P+=B,D-=B}return{size:D,base:P,head:E,center:E+D/2}}_calculateBarIndexPixels(i,s){const l=s.scale,u=this.options,g=u.skipNull,d=Pt(u.maxBarThickness,1/0);let f,p;if(s.grouped){const k=g?this._getStackCount(i):s.stackCount,C=u.barThickness==="flex"?s4(i,s,u,k):r4(i,s,u,k),w=this._getStackIndex(this.index,this._cachedMeta.stack,g?i:void 0);f=C.start+C.chunk*w+C.chunk/2,p=Math.min(d,C.chunk*C.ratio)}else f=l.getPixelForValue(this.getParsed(i)[l.axis],i),p=Math.min(d,s.min*s.ratio);return{base:f-p/2,head:f+p/2,center:f,size:p}}draw(){const i=this._cachedMeta,s=i.vScale,l=i.data,u=l.length;let g=0;for(;g<u;++g)this.getParsed(g)[s.axis]!==null&&l[g].draw(this._ctx)}}Ul.id="bar";Ul.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Ul.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Hl extends pi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,s,l,u){const g=super.parsePrimitiveData(i,s,l,u);for(let d=0;d<g.length;d++)g[d]._custom=this.resolveDataElementOptions(d+l).radius;return g}parseArrayData(i,s,l,u){const g=super.parseArrayData(i,s,l,u);for(let d=0;d<g.length;d++){const f=s[l+d];g[d]._custom=Pt(f[2],this.resolveDataElementOptions(d+l).radius)}return g}parseObjectData(i,s,l,u){const g=super.parseObjectData(i,s,l,u);for(let d=0;d<g.length;d++){const f=s[l+d];g[d]._custom=Pt(f&&f.r&&+f.r,this.resolveDataElementOptions(d+l).radius)}return g}getMaxOverflow(){const i=this._cachedMeta.data;let s=0;for(let l=i.length-1;l>=0;--l)s=Math.max(s,i[l].size(this.resolveDataElementOptions(l))/2);return s>0&&s}getLabelAndValue(i){const s=this._cachedMeta,{xScale:l,yScale:u}=s,g=this.getParsed(i),d=l.getLabelForValue(g.x),f=u.getLabelForValue(g.y),p=g._custom;return{label:s.label,value:"("+d+", "+f+(p?", "+p:"")+")"}}update(i){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,i)}updateElements(i,s,l,u){const g=u==="reset",{iScale:d,vScale:f}=this._cachedMeta,{sharedOptions:p,includeOptions:k}=this._getSharedOptions(s,u),C=d.axis,w=f.axis;for(let x=s;x<s+l;x++){const E=i[x],D=!g&&this.getParsed(x),I={},P=I[C]=g?d.getPixelForDecimal(.5):d.getPixelForValue(D[C]),B=I[w]=g?f.getBasePixel():f.getPixelForValue(D[w]);I.skip=isNaN(P)||isNaN(B),k&&(I.options=p||this.resolveDataElementOptions(x,E.active?"active":u),g&&(I.options.radius=0)),this.updateElement(E,x,I,u)}}resolveDataElementOptions(i,s){const l=this.getParsed(i);let u=super.resolveDataElementOptions(i,s);u.$shared&&(u=Object.assign({},u,{$shared:!1}));const g=u.radius;return s!=="active"&&(u.radius=0),u.radius+=Pt(l&&l._custom,g),u}}Hl.id="bubble";Hl.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Hl.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function g4(r,i,s){let l=1,u=1,g=0,d=0;if(i<de){const f=r,p=f+i,k=Math.cos(f),C=Math.sin(f),w=Math.cos(p),x=Math.sin(p),E=(U,R,F)=>js(U,f,p,!0)?1:Math.max(R,R*s,F,F*s),D=(U,R,F)=>js(U,f,p,!0)?-1:Math.min(R,R*s,F,F*s),I=E(0,k,w),P=E(He,C,x),B=D(Oe,k,w),z=D(Oe+He,C,x);l=(I-B)/2,u=(P-z)/2,g=-(I+B)/2,d=-(P+z)/2}return{ratioX:l,ratioY:u,offsetX:g,offsetY:d}}class Fr extends pi{constructor(i,s){super(i,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,s){const l=this.getDataset().data,u=this._cachedMeta;if(this._parsing===!1)u._parsed=l;else{let g=p=>+l[p];if(Ft(l[i])){const{key:p="value"}=this._parsing;g=k=>+co(l[k],p)}let d,f;for(d=i,f=i+s;d<f;++d)u._parsed[d]=g(d)}}_getRotation(){return fi(this.options.rotation-90)}_getCircumference(){return fi(this.options.circumference)}_getRotationExtents(){let i=de,s=-de;for(let l=0;l<this.chart.data.datasets.length;++l)if(this.chart.isDatasetVisible(l)){const u=this.chart.getDatasetMeta(l).controller,g=u._getRotation(),d=u._getCircumference();i=Math.min(i,g),s=Math.max(s,g+d)}return{rotation:i,circumference:s-i}}update(i){const s=this.chart,{chartArea:l}=s,u=this._cachedMeta,g=u.data,d=this.getMaxBorderWidth()+this.getMaxOffset(g)+this.options.spacing,f=Math.max((Math.min(l.width,l.height)-d)/2,0),p=Math.min(cN(this.options.cutout,f),1),k=this._getRingWeight(this.index),{circumference:C,rotation:w}=this._getRotationExtents(),{ratioX:x,ratioY:E,offsetX:D,offsetY:I}=g4(w,C,p),P=(l.width-d)/x,B=(l.height-d)/E,z=Math.max(Math.min(P,B)/2,0),U=j0(this.options.radius,z),R=Math.max(U*p,0),F=(U-R)/this._getVisibleDatasetWeightTotal();this.offsetX=D*U,this.offsetY=I*U,u.total=this.calculateTotal(),this.outerRadius=U-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*k,0),this.updateElements(g,0,g.length,i)}_circumference(i,s){const l=this.options,u=this._cachedMeta,g=this._getCircumference();return s&&l.animation.animateRotate||!this.chart.getDataVisibility(i)||u._parsed[i]===null||u.data[i].hidden?0:this.calculateCircumference(u._parsed[i]*g/de)}updateElements(i,s,l,u){const g=u==="reset",d=this.chart,f=d.chartArea,k=d.options.animation,C=(f.left+f.right)/2,w=(f.top+f.bottom)/2,x=g&&k.animateScale,E=x?0:this.innerRadius,D=x?0:this.outerRadius,{sharedOptions:I,includeOptions:P}=this._getSharedOptions(s,u);let B=this._getRotation(),z;for(z=0;z<s;++z)B+=this._circumference(z,g);for(z=s;z<s+l;++z){const U=this._circumference(z,g),R=i[z],F={x:C+this.offsetX,y:w+this.offsetY,startAngle:B,endAngle:B+U,circumference:U,outerRadius:D,innerRadius:E};P&&(F.options=I||this.resolveDataElementOptions(z,R.active?"active":u)),B+=U,this.updateElement(R,z,F,u)}}calculateTotal(){const i=this._cachedMeta,s=i.data;let l=0,u;for(u=0;u<s.length;u++){const g=i._parsed[u];g!==null&&!isNaN(g)&&this.chart.getDataVisibility(u)&&!s[u].hidden&&(l+=Math.abs(g))}return l}calculateCircumference(i){const s=this._cachedMeta.total;return s>0&&!isNaN(i)?de*(Math.abs(i)/s):0}getLabelAndValue(i){const s=this._cachedMeta,l=this.chart,u=l.data.labels||[],g=Ks(s._parsed[i],l.options.locale);return{label:u[i]||"",value:g}}getMaxBorderWidth(i){let s=0;const l=this.chart;let u,g,d,f,p;if(!i){for(u=0,g=l.data.datasets.length;u<g;++u)if(l.isDatasetVisible(u)){d=l.getDatasetMeta(u),i=d.data,f=d.controller;break}}if(!i)return 0;for(u=0,g=i.length;u<g;++u)p=f.resolveDataElementOptions(u),p.borderAlign!=="inner"&&(s=Math.max(s,p.borderWidth||0,p.hoverBorderWidth||0));return s}getMaxOffset(i){let s=0;for(let l=0,u=i.length;l<u;++l){const g=this.resolveDataElementOptions(l);s=Math.max(s,g.offset||0,g.hoverOffset||0)}return s}_getRingWeightOffset(i){let s=0;for(let l=0;l<i;++l)this.chart.isDatasetVisible(l)&&(s+=this._getRingWeight(l));return s}_getRingWeight(i){return Math.max(Pt(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fr.id="doughnut";Fr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Fr.descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"};Fr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const i=r.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:s}}=r.legend.options;return i.labels.map((l,u)=>{const d=r.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:s,hidden:!r.getDataVisibility(u),index:u}})}return[]}},onClick(r,i,s){s.chart.toggleDataVisibility(i.index),s.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){let i=r.label;const s=": "+r.formattedValue;return Ce(i)?(i=i.slice(),i[0]+=s):i+=s,i}}}}};class $l extends pi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){const s=this._cachedMeta,{dataset:l,data:u=[],_dataset:g}=s,d=this.chart._animationsDisabled;let{start:f,count:p}=Y0(s,u,d);this._drawStart=f,this._drawCount=p,K0(s)&&(f=0,p=u.length),l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!g._decimated,l.points=u;const k=this.resolveDatasetElementOptions(i);this.options.showLine||(k.borderWidth=0),k.segment=this.options.segment,this.updateElement(l,void 0,{animated:!d,options:k},i),this.updateElements(u,f,p,i)}updateElements(i,s,l,u){const g=u==="reset",{iScale:d,vScale:f,_stacked:p,_dataset:k}=this._cachedMeta,{sharedOptions:C,includeOptions:w}=this._getSharedOptions(s,u),x=d.axis,E=f.axis,{spanGaps:D,segment:I}=this.options,P=zr(D)?D:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||g||u==="none";let z=s>0&&this.getParsed(s-1);for(let U=s;U<s+l;++U){const R=i[U],F=this.getParsed(U),H=B?R:{},$=Wt(F[E]),G=H[x]=d.getPixelForValue(F[x],U),V=H[E]=g||$?f.getBasePixel():f.getPixelForValue(p?this.applyStack(f,F,p):F[E],U);H.skip=isNaN(G)||isNaN(V)||$,H.stop=U>0&&Math.abs(F[x]-z[x])>P,I&&(H.parsed=F,H.raw=k.data[U]),w&&(H.options=C||this.resolveDataElementOptions(U,R.active?"active":u)),B||this.updateElement(R,U,H,u),z=F}}getMaxOverflow(){const i=this._cachedMeta,s=i.dataset,l=s.options&&s.options.borderWidth||0,u=i.data||[];if(!u.length)return l;const g=u[0].size(this.resolveDataElementOptions(0)),d=u[u.length-1].size(this.resolveDataElementOptions(u.length-1));return Math.max(l,g,d)/2}draw(){const i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}$l.id="line";$l.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};$l.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Wl extends pi{constructor(i,s){super(i,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){const s=this._cachedMeta,l=this.chart,u=l.data.labels||[],g=Ks(s._parsed[i].r,l.options.locale);return{label:u[i]||"",value:g}}parseObjectData(i,s,l,u){return sC.bind(this)(i,s,l,u)}update(i){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,i)}getMinMax(){const i=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return i.data.forEach((l,u)=>{const g=this.getParsed(u).r;!isNaN(g)&&this.chart.getDataVisibility(u)&&(g<s.min&&(s.min=g),g>s.max&&(s.max=g))}),s}_updateRadius(){const i=this.chart,s=i.chartArea,l=i.options,u=Math.min(s.right-s.left,s.bottom-s.top),g=Math.max(u/2,0),d=Math.max(l.cutoutPercentage?g/100*l.cutoutPercentage:1,0),f=(g-d)/i.getVisibleDatasetCount();this.outerRadius=g-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(i,s,l,u){const g=u==="reset",d=this.chart,p=d.options.animation,k=this._cachedMeta.rScale,C=k.xCenter,w=k.yCenter,x=k.getIndexAngle(0)-.5*Oe;let E=x,D;const I=360/this.countVisibleElements();for(D=0;D<s;++D)E+=this._computeAngle(D,u,I);for(D=s;D<s+l;D++){const P=i[D];let B=E,z=E+this._computeAngle(D,u,I),U=d.getDataVisibility(D)?k.getDistanceFromCenterForValue(this.getParsed(D).r):0;E=z,g&&(p.animateScale&&(U=0),p.animateRotate&&(B=z=x));const R={x:C,y:w,innerRadius:0,outerRadius:U,startAngle:B,endAngle:z,options:this.resolveDataElementOptions(D,P.active?"active":u)};this.updateElement(P,D,R,u)}}countVisibleElements(){const i=this._cachedMeta;let s=0;return i.data.forEach((l,u)=>{!isNaN(this.getParsed(u).r)&&this.chart.getDataVisibility(u)&&s++}),s}_computeAngle(i,s,l){return this.chart.getDataVisibility(i)?fi(this.resolveDataElementOptions(i,s).angle||l):0}}Wl.id="polarArea";Wl.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Wl.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const i=r.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:s}}=r.legend.options;return i.labels.map((l,u)=>{const d=r.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:s,hidden:!r.getDataVisibility(u),index:u}})}return[]}},onClick(r,i,s){s.chart.toggleDataVisibility(i.index),s.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){return r.chart.data.labels[r.dataIndex]+": "+r.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class sh extends Fr{}sh.id="pie";sh.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Gl extends pi{getLabelAndValue(i){const s=this._cachedMeta.vScale,l=this.getParsed(i);return{label:s.getLabels()[i],value:""+s.getLabelForValue(l[s.axis])}}parseObjectData(i,s,l,u){return sC.bind(this)(i,s,l,u)}update(i){const s=this._cachedMeta,l=s.dataset,u=s.data||[],g=s.iScale.getLabels();if(l.points=u,i!=="resize"){const d=this.resolveDatasetElementOptions(i);this.options.showLine||(d.borderWidth=0);const f={_loop:!0,_fullLoop:g.length===u.length,options:d};this.updateElement(l,void 0,f,i)}this.updateElements(u,0,u.length,i)}updateElements(i,s,l,u){const g=this._cachedMeta.rScale,d=u==="reset";for(let f=s;f<s+l;f++){const p=i[f],k=this.resolveDataElementOptions(f,p.active?"active":u),C=g.getPointPositionForValue(f,this.getParsed(f).r),w=d?g.xCenter:C.x,x=d?g.yCenter:C.y,E={x:w,y:x,angle:C.angle,skip:isNaN(w)||isNaN(x),options:k};this.updateElement(p,f,E,u)}}}Gl.id="radar";Gl.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Gl.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class mi{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(i){const{x:s,y:l}=this.getProps(["x","y"],i);return{x:s,y:l}}hasValue(){return zr(this.x)&&zr(this.y)}getProps(i,s){const l=this.$animations;if(!s||!l)return this;const u={};return i.forEach(g=>{u[g]=l[g]&&l[g].active()?l[g]._to:this[g]}),u}}mi.defaults={};mi.defaultRoutes=void 0;const bC={values(r){return Ce(r)?r:""+r},numeric(r,i,s){if(r===0)return"0";const l=this.chart.options.locale;let u,g=r;if(s.length>1){const k=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(k<1e-4||k>1e15)&&(u="scientific"),g=f4(r,s)}const d=oi(Math.abs(g)),f=Math.max(Math.min(-1*Math.floor(d),20),0),p={notation:u,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(p,this.options.ticks.format),Ks(r,l,p)},logarithmic(r,i,s){if(r===0)return"0";const l=r/Math.pow(10,Math.floor(oi(r)));return l===1||l===2||l===5?bC.numeric.call(this,r,i,s):""}};function f4(r,i){let s=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(s)>=1&&r!==Math.floor(r)&&(s=r-Math.floor(r)),s}var Yl={formatters:bC};Vt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,i)=>i.lineWidth,tickColor:(r,i)=>i.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Vt.route("scale.ticks","color","","color");Vt.route("scale.grid","color","","borderColor");Vt.route("scale.grid","borderColor","","borderColor");Vt.route("scale.title","color","","color");Vt.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"});Vt.describe("scales",{_fallback:"scale"});Vt.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"});function p4(r,i){const s=r.options.ticks,l=s.maxTicksLimit||m4(r),u=s.major.enabled?k4(i):[],g=u.length,d=u[0],f=u[g-1],p=[];if(g>l)return w4(i,p,u,g/l),p;const k=b4(u,i,l);if(g>0){let C,w;const x=g>1?Math.round((f-d)/(g-1)):null;for(nl(i,p,k,Wt(x)?0:d-x,d),C=0,w=g-1;C<w;C++)nl(i,p,k,u[C],u[C+1]);return nl(i,p,k,f,Wt(x)?i.length:f+x),p}return nl(i,p,k),p}function m4(r){const i=r.options.offset,s=r._tickSize(),l=r._length/s+(i?0:1),u=r._maxLength/s;return Math.floor(Math.min(l,u))}function b4(r,i,s){const l=v4(r),u=i.length/s;if(!l)return Math.max(u,1);const g=bN(l);for(let d=0,f=g.length-1;d<f;d++){const p=g[d];if(p>u)return p}return Math.max(u,1)}function k4(r){const i=[];let s,l;for(s=0,l=r.length;s<l;s++)r[s].major&&i.push(s);return i}function w4(r,i,s,l){let u=0,g=s[0],d;for(l=Math.ceil(l),d=0;d<r.length;d++)d===g&&(i.push(r[d]),u++,g=s[u*l])}function nl(r,i,s,l,u){const g=Pt(l,0),d=Math.min(Pt(u,r.length),r.length);let f=0,p,k,C;for(s=Math.ceil(s),u&&(p=u-l,s=p/Math.floor(p/s)),C=g;C<0;)f++,C=Math.round(g+f*s);for(k=Math.max(g,0);k<d;k++)k===C&&(i.push(r[k]),f++,C=Math.round(g+f*s))}function v4(r){const i=r.length;let s,l;if(i<2)return!1;for(l=r[0],s=1;s<i;++s)if(r[s]-r[s-1]!==l)return!1;return l}const C4=r=>r==="left"?"right":r==="right"?"left":r,bv=(r,i,s)=>i==="top"||i==="left"?r[i]+s:r[i]-s;function kv(r,i){const s=[],l=r.length/i,u=r.length;let g=0;for(;g<u;g+=l)s.push(r[Math.floor(g)]);return s}function _4(r,i,s){const l=r.ticks.length,u=Math.min(i,l-1),g=r._startPixel,d=r._endPixel,f=1e-6;let p=r.getPixelForTick(u),k;if(!(s&&(l===1?k=Math.max(p-g,d-p):i===0?k=(r.getPixelForTick(1)-p)/2:k=(p-r.getPixelForTick(u-1))/2,p+=u<i?k:-k,p<g-f||p>d+f)))return p}function A4(r,i){ie(r,s=>{const l=s.gc,u=l.length/2;let g;if(u>i){for(g=0;g<u;++g)delete s.data[l[g]];l.splice(0,u)}})}function bs(r){return r.drawTicks?r.tickLength:0}function wv(r,i){if(!r.display)return 0;const s=Xe(r.font,i),l=_n(r.padding);return(Ce(r.text)?r.text.length:1)*s.lineHeight+l.height}function y4(r,i){return ho(r,{scale:i,type:"scale"})}function x4(r,i,s){return ho(r,{tick:s,index:i,type:"tick"})}function E4(r,i,s){let l=qu(r);return(s&&i!=="right"||!s&&i==="right")&&(l=C4(l)),l}function S4(r,i,s,l){const{top:u,left:g,bottom:d,right:f,chart:p}=r,{chartArea:k,scales:C}=p;let w=0,x,E,D;const I=d-u,P=f-g;if(r.isHorizontal()){if(E=kn(l,g,f),Ft(s)){const B=Object.keys(s)[0],z=s[B];D=C[B].getPixelForValue(z)+I-i}else s==="center"?D=(k.bottom+k.top)/2+I-i:D=bv(r,s,i);x=f-g}else{if(Ft(s)){const B=Object.keys(s)[0],z=s[B];E=C[B].getPixelForValue(z)-P+i}else s==="center"?E=(k.left+k.right)/2-P+i:E=bv(r,s,i);D=kn(l,d,u),w=s==="left"?-He:He}return{titleX:E,titleY:D,maxWidth:x,rotation:w}}class Yo extends mi{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,s){return i}getUserBounds(){let{_userMin:i,_userMax:s,_suggestedMin:l,_suggestedMax:u}=this;return i=ii(i,Number.POSITIVE_INFINITY),s=ii(s,Number.NEGATIVE_INFINITY),l=ii(l,Number.POSITIVE_INFINITY),u=ii(u,Number.NEGATIVE_INFINITY),{min:ii(i,l),max:ii(s,u),minDefined:Ge(i),maxDefined:Ge(s)}}getMinMax(i){let{min:s,max:l,minDefined:u,maxDefined:g}=this.getUserBounds(),d;if(u&&g)return{min:s,max:l};const f=this.getMatchingVisibleMetas();for(let p=0,k=f.length;p<k;++p)d=f[p].controller.getMinMax(this,i),u||(s=Math.min(s,d.min)),g||(l=Math.max(l,d.max));return s=g&&s>l?l:s,l=u&&s>l?s:l,{min:ii(s,ii(l,s)),max:ii(l,ii(s,l))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ve(this.options.beforeUpdate,[this])}update(i,s,l){const{beginAtZero:u,grace:g,ticks:d}=this.options,f=d.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=s,this._margins=l=Object.assign({left:0,right:0,top:0,bottom:0},l),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+l.left+l.right:this.height+l.top+l.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rB(this,g,u),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const p=f<this.ticks.length;this._convertTicksToLabels(p?kv(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=p4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),p&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i=this.options.reverse,s,l;this.isHorizontal()?(s=this.left,l=this.right):(s=this.top,l=this.bottom,i=!i),this._startPixel=s,this._endPixel=l,this._reversePixels=i,this._length=l-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ve(this.options.afterUpdate,[this])}beforeSetDimensions(){ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ve(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),ve(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const s=this.options.ticks;let l,u,g;for(l=0,u=i.length;l<u;l++)g=i[l],g.label=ve(s.callback,[g.value,l,i],this)}afterTickToLabelConversion(){ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,s=i.ticks,l=this.ticks.length,u=s.minRotation||0,g=s.maxRotation;let d=u,f,p,k;if(!this._isVisible()||!s.display||u>=g||l<=1||!this.isHorizontal()){this.labelRotation=u;return}const C=this._getLabelSizes(),w=C.widest.width,x=C.highest.height,E=on(this.chart.width-w,0,this.maxWidth);f=i.offset?this.maxWidth/l:E/(l-1),w+6>f&&(f=E/(l-(i.offset?.5:1)),p=this.maxHeight-bs(i.grid)-s.padding-wv(i.title,this.chart.options.font),k=Math.sqrt(w*w+x*x),d=Qu(Math.min(Math.asin(on((C.highest.height+6)/f,-1,1)),Math.asin(on(p/k,-1,1))-Math.asin(on(x/k,-1,1)))),d=Math.max(u,Math.min(g,d))),this.labelRotation=d}afterCalculateLabelRotation(){ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ve(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:s,options:{ticks:l,title:u,grid:g}}=this,d=this._isVisible(),f=this.isHorizontal();if(d){const p=wv(u,s.options.font);if(f?(i.width=this.maxWidth,i.height=bs(g)+p):(i.height=this.maxHeight,i.width=bs(g)+p),l.display&&this.ticks.length){const{first:k,last:C,widest:w,highest:x}=this._getLabelSizes(),E=l.padding*2,D=fi(this.labelRotation),I=Math.cos(D),P=Math.sin(D);if(f){const B=l.mirror?0:P*w.width+I*x.height;i.height=Math.min(this.maxHeight,i.height+B+E)}else{const B=l.mirror?0:I*w.width+P*x.height;i.width=Math.min(this.maxWidth,i.width+B+E)}this._calculatePadding(k,C,P,I)}}this._handleMargins(),f?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,s,l,u){const{ticks:{align:g,padding:d},position:f}=this.options,p=this.labelRotation!==0,k=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const C=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,E=0;p?k?(x=u*i.width,E=l*s.height):(x=l*i.height,E=u*s.width):g==="start"?E=s.width:g==="end"?x=i.width:g!=="inner"&&(x=i.width/2,E=s.width/2),this.paddingLeft=Math.max((x-C+d)*this.width/(this.width-C),0),this.paddingRight=Math.max((E-w+d)*this.width/(this.width-w),0)}else{let C=s.height/2,w=i.height/2;g==="start"?(C=0,w=i.height):g==="end"&&(C=s.height,w=0),this.paddingTop=C+d,this.paddingBottom=w+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ve(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:s}=this.options;return s==="top"||s==="bottom"||i==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){this.beforeTickToLabelConversion(),this.generateTickLabels(i);let s,l;for(s=0,l=i.length;s<l;s++)Wt(i[s].label)&&(i.splice(s,1),l--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const s=this.options.ticks.sampleSize;let l=this.ticks;s<l.length&&(l=kv(l,s)),this._labelSizes=i=this._computeLabelSizes(l,l.length)}return i}_computeLabelSizes(i,s){const{ctx:l,_longestTextCache:u}=this,g=[],d=[];let f=0,p=0,k,C,w,x,E,D,I,P,B,z,U;for(k=0;k<s;++k){if(x=i[k].label,E=this._resolveTickFontOptions(k),l.font=D=E.string,I=u[D]=u[D]||{data:{},gc:[]},P=E.lineHeight,B=z=0,!Wt(x)&&!Ce(x))B=yl(l,I.data,I.gc,B,x),z=P;else if(Ce(x))for(C=0,w=x.length;C<w;++C)U=x[C],!Wt(U)&&!Ce(U)&&(B=yl(l,I.data,I.gc,B,U),z+=P);g.push(B),d.push(z),f=Math.max(B,f),p=Math.max(z,p)}A4(u,s);const R=g.indexOf(f),F=d.indexOf(p),H=$=>({width:g[$]||0,height:d[$]||0});return{first:H(0),last:H(s-1),widest:H(R),highest:H(F),widths:g,heights:d}}getLabelForValue(i){return i}getPixelForValue(i,s){return NaN}getValueForPixel(i){}getPixelForTick(i){const s=this.ticks;return i<0||i>s.length-1?null:this.getPixelForValue(s[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const s=this._startPixel+i*this._length;return vN(this._alignToPixels?No(this.chart,s,0):s)}getDecimalForPixel(i){const s=(i-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:s}=this;return i<0&&s<0?s:i>0&&s>0?i:0}getContext(i){const s=this.ticks||[];if(i>=0&&i<s.length){const l=s[i];return l.$context||(l.$context=x4(this.getContext(),i,l))}return this.$context||(this.$context=y4(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,s=fi(this.labelRotation),l=Math.abs(Math.cos(s)),u=Math.abs(Math.sin(s)),g=this._getLabelSizes(),d=i.autoSkipPadding||0,f=g?g.widest.width+d:0,p=g?g.highest.height+d:0;return this.isHorizontal()?p*l>f*u?f/l:p/u:p*u<f*l?p/l:f/u}_isVisible(){const i=this.options.display;return i!=="auto"?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const s=this.axis,l=this.chart,u=this.options,{grid:g,position:d}=u,f=g.offset,p=this.isHorizontal(),C=this.ticks.length+(f?1:0),w=bs(g),x=[],E=g.setContext(this.getContext()),D=E.drawBorder?E.borderWidth:0,I=D/2,P=function(ot){return No(l,ot,D)};let B,z,U,R,F,H,$,G,V,Q,nt,J;if(d==="top")B=P(this.bottom),H=this.bottom-w,G=B-I,Q=P(i.top)+I,J=i.bottom;else if(d==="bottom")B=P(this.top),Q=i.top,J=P(i.bottom)-I,H=B+I,G=this.top+w;else if(d==="left")B=P(this.right),F=this.right-w,$=B-I,V=P(i.left)+I,nt=i.right;else if(d==="right")B=P(this.left),V=i.left,nt=P(i.right)-I,F=B+I,$=this.left+w;else if(s==="x"){if(d==="center")B=P((i.top+i.bottom)/2+.5);else if(Ft(d)){const ot=Object.keys(d)[0],rt=d[ot];B=P(this.chart.scales[ot].getPixelForValue(rt))}Q=i.top,J=i.bottom,H=B+I,G=H+w}else if(s==="y"){if(d==="center")B=P((i.left+i.right)/2);else if(Ft(d)){const ot=Object.keys(d)[0],rt=d[ot];B=P(this.chart.scales[ot].getPixelForValue(rt))}F=B-I,$=F-w,V=i.left,nt=i.right}const X=Pt(u.ticks.maxTicksLimit,C),lt=Math.max(1,Math.ceil(C/X));for(z=0;z<C;z+=lt){const ot=g.setContext(this.getContext(z)),rt=ot.lineWidth,ht=ot.color,Dt=ot.borderDash||[],Gt=ot.borderDashOffset,Yt=ot.tickWidth,Kt=ot.tickColor,Ut=ot.tickBorderDash||[],Xt=ot.tickBorderDashOffset;U=_4(this,z,f),U!==void 0&&(R=No(l,U,rt),p?F=$=V=nt=R:H=G=Q=J=R,x.push({tx1:F,ty1:H,tx2:$,ty2:G,x1:V,y1:Q,x2:nt,y2:J,width:rt,color:ht,borderDash:Dt,borderDashOffset:Gt,tickWidth:Yt,tickColor:Kt,tickBorderDash:Ut,tickBorderDashOffset:Xt}))}return this._ticksLength=C,this._borderValue=B,x}_computeLabelItems(i){const s=this.axis,l=this.options,{position:u,ticks:g}=l,d=this.isHorizontal(),f=this.ticks,{align:p,crossAlign:k,padding:C,mirror:w}=g,x=bs(l.grid),E=x+C,D=w?-C:E,I=-fi(this.labelRotation),P=[];let B,z,U,R,F,H,$,G,V,Q,nt,J,X="middle";if(u==="top")H=this.bottom-D,$=this._getXAxisLabelAlignment();else if(u==="bottom")H=this.top+D,$=this._getXAxisLabelAlignment();else if(u==="left"){const ot=this._getYAxisLabelAlignment(x);$=ot.textAlign,F=ot.x}else if(u==="right"){const ot=this._getYAxisLabelAlignment(x);$=ot.textAlign,F=ot.x}else if(s==="x"){if(u==="center")H=(i.top+i.bottom)/2+E;else if(Ft(u)){const ot=Object.keys(u)[0],rt=u[ot];H=this.chart.scales[ot].getPixelForValue(rt)+E}$=this._getXAxisLabelAlignment()}else if(s==="y"){if(u==="center")F=(i.left+i.right)/2-E;else if(Ft(u)){const ot=Object.keys(u)[0],rt=u[ot];F=this.chart.scales[ot].getPixelForValue(rt)}$=this._getYAxisLabelAlignment(x).textAlign}s==="y"&&(p==="start"?X="top":p==="end"&&(X="bottom"));const lt=this._getLabelSizes();for(B=0,z=f.length;B<z;++B){U=f[B],R=U.label;const ot=g.setContext(this.getContext(B));G=this.getPixelForTick(B)+g.labelOffset,V=this._resolveTickFontOptions(B),Q=V.lineHeight,nt=Ce(R)?R.length:1;const rt=nt/2,ht=ot.color,Dt=ot.textStrokeColor,Gt=ot.textStrokeWidth;let Yt=$;d?(F=G,$==="inner"&&(B===z-1?Yt=this.options.reverse?"left":"right":B===0?Yt=this.options.reverse?"right":"left":Yt="center"),u==="top"?k==="near"||I!==0?J=-nt*Q+Q/2:k==="center"?J=-lt.highest.height/2-rt*Q+Q:J=-lt.highest.height+Q/2:k==="near"||I!==0?J=Q/2:k==="center"?J=lt.highest.height/2-rt*Q:J=lt.highest.height-nt*Q,w&&(J*=-1)):(H=G,J=(1-nt)*Q/2);let Kt;if(ot.showLabelBackdrop){const Ut=_n(ot.backdropPadding),Xt=lt.heights[B],he=lt.widths[B];let it=H+J-Ut.top,pt=F-Ut.left;switch(X){case"middle":it-=Xt/2;break;case"bottom":it-=Xt;break}switch($){case"center":pt-=he/2;break;case"right":pt-=he;break}Kt={left:pt,top:it,width:he+Ut.width,height:Xt+Ut.height,color:ot.backdropColor}}P.push({rotation:I,label:R,font:V,color:ht,strokeColor:Dt,strokeWidth:Gt,textOffset:J,textAlign:Yt,textBaseline:X,translation:[F,H],backdrop:Kt})}return P}_getXAxisLabelAlignment(){const{position:i,ticks:s}=this.options;if(-fi(this.labelRotation))return i==="top"?"left":"right";let u="center";return s.align==="start"?u="left":s.align==="end"?u="right":s.align==="inner"&&(u="inner"),u}_getYAxisLabelAlignment(i){const{position:s,ticks:{crossAlign:l,mirror:u,padding:g}}=this.options,d=this._getLabelSizes(),f=i+g,p=d.widest.width;let k,C;return s==="left"?u?(C=this.right+g,l==="near"?k="left":l==="center"?(k="center",C+=p/2):(k="right",C+=p)):(C=this.right-f,l==="near"?k="right":l==="center"?(k="center",C-=p/2):(k="left",C=this.left)):s==="right"?u?(C=this.left+g,l==="near"?k="right":l==="center"?(k="center",C-=p/2):(k="left",C-=p)):(C=this.left+f,l==="near"?k="left":l==="center"?(k="center",C+=p/2):(k="right",C=this.right)):k="right",{textAlign:k,x:C}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:i.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:i.width}}drawBackground(){const{ctx:i,options:{backgroundColor:s},left:l,top:u,width:g,height:d}=this;s&&(i.save(),i.fillStyle=s,i.fillRect(l,u,g,d),i.restore())}getLineWidthForValue(i){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const u=this.ticks.findIndex(g=>g.value===i);return u>=0?s.setContext(this.getContext(u)).lineWidth:0}drawGrid(i){const s=this.options.grid,l=this.ctx,u=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let g,d;const f=(p,k,C)=>{!C.width||!C.color||(l.save(),l.lineWidth=C.width,l.strokeStyle=C.color,l.setLineDash(C.borderDash||[]),l.lineDashOffset=C.borderDashOffset,l.beginPath(),l.moveTo(p.x,p.y),l.lineTo(k.x,k.y),l.stroke(),l.restore())};if(s.display)for(g=0,d=u.length;g<d;++g){const p=u[g];s.drawOnChartArea&&f({x:p.x1,y:p.y1},{x:p.x2,y:p.y2},p),s.drawTicks&&f({x:p.tx1,y:p.ty1},{x:p.tx2,y:p.ty2},{color:p.tickColor,width:p.tickWidth,borderDash:p.tickBorderDash,borderDashOffset:p.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:s,options:{grid:l}}=this,u=l.setContext(this.getContext()),g=l.drawBorder?u.borderWidth:0;if(!g)return;const d=l.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let p,k,C,w;this.isHorizontal()?(p=No(i,this.left,g)-g/2,k=No(i,this.right,d)+d/2,C=w=f):(C=No(i,this.top,g)-g/2,w=No(i,this.bottom,d)+d/2,p=k=f),s.save(),s.lineWidth=u.borderWidth,s.strokeStyle=u.borderColor,s.beginPath(),s.moveTo(p,C),s.lineTo(k,w),s.stroke(),s.restore()}drawLabels(i){if(!this.options.ticks.display)return;const l=this.ctx,u=this._computeLabelArea();u&&jl(l,u);const g=this._labelItems||(this._labelItems=this._computeLabelItems(i));let d,f;for(d=0,f=g.length;d<f;++d){const p=g[d],k=p.font,C=p.label;p.backdrop&&(l.fillStyle=p.backdrop.color,l.fillRect(p.backdrop.left,p.backdrop.top,p.backdrop.width,p.backdrop.height));let w=p.textOffset;Go(l,C,0,w,k,p)}u&&Fl(l)}drawTitle(){const{ctx:i,options:{position:s,title:l,reverse:u}}=this;if(!l.display)return;const g=Xe(l.font),d=_n(l.padding),f=l.align;let p=g.lineHeight/2;s==="bottom"||s==="center"||Ft(s)?(p+=d.bottom,Ce(l.text)&&(p+=g.lineHeight*(l.text.length-1))):p+=d.top;const{titleX:k,titleY:C,maxWidth:w,rotation:x}=S4(this,p,s,f);Go(i,l.text,0,0,g,{color:l.color,maxWidth:w,rotation:x,textAlign:E4(f,s,u),textBaseline:"middle",translation:[k,C]})}draw(i){!this._isVisible()||(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,s=i.ticks&&i.ticks.z||0,l=Pt(i.grid&&i.grid.z,-1);return!this._isVisible()||this.draw!==Yo.prototype.draw?[{z:s,draw:u=>{this.draw(u)}}]:[{z:l,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:l+1,draw:()=>{this.drawBorder()}},{z:s,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(i){const s=this.chart.getSortedVisibleDatasetMetas(),l=this.axis+"AxisID",u=[];let g,d;for(g=0,d=s.length;g<d;++g){const f=s[g];f[l]===this.id&&(!i||f.type===i)&&u.push(f)}return u}_resolveTickFontOptions(i){const s=this.options.ticks.setContext(this.getContext(i));return Xe(s.font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class il{constructor(i,s,l){this.type=i,this.scope=s,this.override=l,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const s=Object.getPrototypeOf(i);let l;I4(s)&&(l=this.register(s));const u=this.items,g=i.id,d=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+i);return g in u||(u[g]=i,D4(i,d,l),this.override&&Vt.override(i.id,i.overrides)),d}get(i){return this.items[i]}unregister(i){const s=this.items,l=i.id,u=this.scope;l in s&&delete s[l],u&&l in Vt[u]&&(delete Vt[u][l],this.override&&delete Wo[l])}}function D4(r,i,s){const l=Rs(Object.create(null),[s?Vt.get(s):{},Vt.get(i),r.defaults]);Vt.set(i,l),r.defaultRoutes&&M4(i,r.defaultRoutes),r.descriptors&&Vt.describe(i,r.descriptors)}function M4(r,i){Object.keys(i).forEach(s=>{const l=s.split("."),u=l.pop(),g=[r].concat(l).join("."),d=i[s].split("."),f=d.pop(),p=d.join(".");Vt.route(g,u,p,f)})}function I4(r){return"id"in r&&"defaults"in r}class T4{constructor(){this.controllers=new il(pi,"datasets",!0),this.elements=new il(mi,"elements"),this.plugins=new il(Object,"plugins"),this.scales=new il(Yo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,s,l){[...s].forEach(u=>{const g=l||this._getRegistryForType(u);l||g.isForType(u)||g===this.plugins&&u.id?this._exec(i,g,u):ie(u,d=>{const f=l||this._getRegistryForType(d);this._exec(i,f,d)})})}_exec(i,s,l){const u=Ku(i);ve(l["before"+u],[],l),s[i](l),ve(l["after"+u],[],l)}_getRegistryForType(i){for(let s=0;s<this._typedRegistries.length;s++){const l=this._typedRegistries[s];if(l.isForType(i))return l}return this.plugins}_get(i,s,l){const u=s.get(i);if(u===void 0)throw new Error('"'+i+'" is not a registered '+l+".");return u}}var Di=new T4;class Kl extends pi{update(i){const s=this._cachedMeta,{data:l=[]}=s,u=this.chart._animationsDisabled;let{start:g,count:d}=Y0(s,l,u);if(this._drawStart=g,this._drawCount=d,K0(s)&&(g=0,d=l.length),this.options.showLine){const{dataset:f,_dataset:p}=s;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!p._decimated,f.points=l;const k=this.resolveDatasetElementOptions(i);k.segment=this.options.segment,this.updateElement(f,void 0,{animated:!u,options:k},i)}this.updateElements(l,g,d,i)}addElements(){const{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=Di.getElement("line")),super.addElements()}updateElements(i,s,l,u){const g=u==="reset",{iScale:d,vScale:f,_stacked:p,_dataset:k}=this._cachedMeta,C=this.resolveDataElementOptions(s,u),w=this.getSharedOptions(C),x=this.includeOptions(u,w),E=d.axis,D=f.axis,{spanGaps:I,segment:P}=this.options,B=zr(I)?I:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||g||u==="none";let U=s>0&&this.getParsed(s-1);for(let R=s;R<s+l;++R){const F=i[R],H=this.getParsed(R),$=z?F:{},G=Wt(H[D]),V=$[E]=d.getPixelForValue(H[E],R),Q=$[D]=g||G?f.getBasePixel():f.getPixelForValue(p?this.applyStack(f,H,p):H[D],R);$.skip=isNaN(V)||isNaN(Q)||G,$.stop=R>0&&Math.abs(H[E]-U[E])>B,P&&($.parsed=H,$.raw=k.data[R]),x&&($.options=w||this.resolveDataElementOptions(R,F.active?"active":u)),z||this.updateElement(F,R,$,u),U=H}this.updateSharedOptions(w,u,C)}getMaxOverflow(){const i=this._cachedMeta,s=i.data||[];if(!this.options.showLine){let f=0;for(let p=s.length-1;p>=0;--p)f=Math.max(f,s[p].size(this.resolveDataElementOptions(p))/2);return f>0&&f}const l=i.dataset,u=l.options&&l.options.borderWidth||0;if(!s.length)return u;const g=s[0].size(this.resolveDataElementOptions(0)),d=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(u,g,d)/2}}Kl.id="scatter";Kl.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Kl.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(r){return"("+r.label+", "+r.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var P4=Object.freeze({__proto__:null,BarController:Ul,BubbleController:Hl,DoughnutController:Fr,LineController:$l,PolarAreaController:Wl,PieController:sh,RadarController:Gl,ScatterController:Kl});function Bo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ou{constructor(i){this.options=i||{}}init(i){}formats(){return Bo()}parse(i,s){return Bo()}format(i,s){return Bo()}add(i,s,l){return Bo()}diff(i,s,l){return Bo()}startOf(i,s,l){return Bo()}endOf(i,s){return Bo()}}Ou.override=function(r){Object.assign(Ou.prototype,r)};var O4={_date:Ou};function N4(r,i,s,l){const{controller:u,data:g,_sorted:d}=r,f=u._cachedMeta.iScale;if(f&&i===f.axis&&i!=="r"&&d&&g.length){const p=f._reversePixels?CN:Ki;if(l){if(u._sharedOptions){const k=g[0],C=typeof k.getRange=="function"&&k.getRange(i);if(C){const w=p(g,i,s-C),x=p(g,i,s+C);return{lo:w.lo,hi:x.hi}}}}else return p(g,i,s)}return{lo:0,hi:g.length-1}}function Qs(r,i,s,l,u){const g=r.getSortedVisibleDatasetMetas(),d=s[i];for(let f=0,p=g.length;f<p;++f){const{index:k,data:C}=g[f],{lo:w,hi:x}=N4(g[f],i,d,u);for(let E=w;E<=x;++E){const D=C[E];D.skip||l(D,k,E)}}}function B4(r){const i=r.indexOf("x")!==-1,s=r.indexOf("y")!==-1;return function(l,u){const g=i?Math.abs(l.x-u.x):0,d=s?Math.abs(l.y-u.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(d,2))}}function mu(r,i,s,l,u){const g=[];return!u&&!r.isPointInArea(i)||Qs(r,s,i,function(f,p,k){!u&&!Fs(f,r.chartArea,0)||f.inRange(i.x,i.y,l)&&g.push({element:f,datasetIndex:p,index:k})},!0),g}function L4(r,i,s,l){let u=[];function g(d,f,p){const{startAngle:k,endAngle:C}=d.getProps(["startAngle","endAngle"],l),{angle:w}=U0(d,{x:i.x,y:i.y});js(w,k,C)&&u.push({element:d,datasetIndex:f,index:p})}return Qs(r,s,i,g),u}function z4(r,i,s,l,u,g){let d=[];const f=B4(s);let p=Number.POSITIVE_INFINITY;function k(C,w,x){const E=C.inRange(i.x,i.y,u);if(l&&!E)return;const D=C.getCenterPoint(u);if(!(!!g||r.isPointInArea(D))&&!E)return;const P=f(i,D);P<p?(d=[{element:C,datasetIndex:w,index:x}],p=P):P===p&&d.push({element:C,datasetIndex:w,index:x})}return Qs(r,s,i,k),d}function bu(r,i,s,l,u,g){return!g&&!r.isPointInArea(i)?[]:s==="r"&&!l?L4(r,i,s,u):z4(r,i,s,l,u,g)}function vv(r,i,s,l,u){const g=[],d=s==="x"?"inXRange":"inYRange";let f=!1;return Qs(r,s,i,(p,k,C)=>{p[d](i[s],u)&&(g.push({element:p,datasetIndex:k,index:C}),f=f||p.inRange(i.x,i.y,u))}),l&&!f?[]:g}var R4={evaluateInteractionItems:Qs,modes:{index(r,i,s,l){const u=Ro(i,r),g=s.axis||"x",d=s.includeInvisible||!1,f=s.intersect?mu(r,u,g,l,d):bu(r,u,g,!1,l,d),p=[];return f.length?(r.getSortedVisibleDatasetMetas().forEach(k=>{const C=f[0].index,w=k.data[C];w&&!w.skip&&p.push({element:w,datasetIndex:k.index,index:C})}),p):[]},dataset(r,i,s,l){const u=Ro(i,r),g=s.axis||"xy",d=s.includeInvisible||!1;let f=s.intersect?mu(r,u,g,l,d):bu(r,u,g,!1,l,d);if(f.length>0){const p=f[0].datasetIndex,k=r.getDatasetMeta(p).data;f=[];for(let C=0;C<k.length;++C)f.push({element:k[C],datasetIndex:p,index:C})}return f},point(r,i,s,l){const u=Ro(i,r),g=s.axis||"xy",d=s.includeInvisible||!1;return mu(r,u,g,l,d)},nearest(r,i,s,l){const u=Ro(i,r),g=s.axis||"xy",d=s.includeInvisible||!1;return bu(r,u,g,s.intersect,l,d)},x(r,i,s,l){const u=Ro(i,r);return vv(r,u,"x",s.intersect,l)},y(r,i,s,l){const u=Ro(i,r);return vv(r,u,"y",s.intersect,l)}}};const kC=["left","top","right","bottom"];function ks(r,i){return r.filter(s=>s.pos===i)}function Cv(r,i){return r.filter(s=>kC.indexOf(s.pos)===-1&&s.box.axis===i)}function ws(r,i){return r.sort((s,l)=>{const u=i?l:s,g=i?s:l;return u.weight===g.weight?u.index-g.index:u.weight-g.weight})}function j4(r){const i=[];let s,l,u,g,d,f;for(s=0,l=(r||[]).length;s<l;++s)u=r[s],{position:g,options:{stack:d,stackWeight:f=1}}=u,i.push({index:s,box:u,pos:g,horizontal:u.isHorizontal(),weight:u.weight,stack:d&&g+d,stackWeight:f});return i}function F4(r){const i={};for(const s of r){const{stack:l,pos:u,stackWeight:g}=s;if(!l||!kC.includes(u))continue;const d=i[l]||(i[l]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=g}return i}function V4(r,i){const s=F4(r),{vBoxMaxWidth:l,hBoxMaxHeight:u}=i;let g,d,f;for(g=0,d=r.length;g<d;++g){f=r[g];const{fullSize:p}=f.box,k=s[f.stack],C=k&&f.stackWeight/k.weight;f.horizontal?(f.width=C?C*l:p&&i.availableWidth,f.height=u):(f.width=l,f.height=C?C*u:p&&i.availableHeight)}return s}function U4(r){const i=j4(r),s=ws(i.filter(k=>k.box.fullSize),!0),l=ws(ks(i,"left"),!0),u=ws(ks(i,"right")),g=ws(ks(i,"top"),!0),d=ws(ks(i,"bottom")),f=Cv(i,"x"),p=Cv(i,"y");return{fullSize:s,leftAndTop:l.concat(g),rightAndBottom:u.concat(p).concat(d).concat(f),chartArea:ks(i,"chartArea"),vertical:l.concat(u).concat(p),horizontal:g.concat(d).concat(f)}}function _v(r,i,s,l){return Math.max(r[s],i[s])+Math.max(r[l],i[l])}function wC(r,i){r.top=Math.max(r.top,i.top),r.left=Math.max(r.left,i.left),r.bottom=Math.max(r.bottom,i.bottom),r.right=Math.max(r.right,i.right)}function H4(r,i,s,l){const{pos:u,box:g}=s,d=r.maxPadding;if(!Ft(u)){s.size&&(r[u]-=s.size);const w=l[s.stack]||{size:0,count:1};w.size=Math.max(w.size,s.horizontal?g.height:g.width),s.size=w.size/w.count,r[u]+=s.size}g.getPadding&&wC(d,g.getPadding());const f=Math.max(0,i.outerWidth-_v(d,r,"left","right")),p=Math.max(0,i.outerHeight-_v(d,r,"top","bottom")),k=f!==r.w,C=p!==r.h;return r.w=f,r.h=p,s.horizontal?{same:k,other:C}:{same:C,other:k}}function $4(r){const i=r.maxPadding;function s(l){const u=Math.max(i[l]-r[l],0);return r[l]+=u,u}r.y+=s("top"),r.x+=s("left"),s("right"),s("bottom")}function W4(r,i){const s=i.maxPadding;function l(u){const g={left:0,top:0,right:0,bottom:0};return u.forEach(d=>{g[d]=Math.max(i[d],s[d])}),g}return l(r?["left","right"]:["top","bottom"])}function Ss(r,i,s,l){const u=[];let g,d,f,p,k,C;for(g=0,d=r.length,k=0;g<d;++g){f=r[g],p=f.box,p.update(f.width||i.w,f.height||i.h,W4(f.horizontal,i));const{same:w,other:x}=H4(i,s,f,l);k|=w&&u.length,C=C||x,p.fullSize||u.push(f)}return k&&Ss(u,i,s,l)||C}function ol(r,i,s,l,u){r.top=s,r.left=i,r.right=i+l,r.bottom=s+u,r.width=l,r.height=u}function Av(r,i,s,l){const u=s.padding;let{x:g,y:d}=i;for(const f of r){const p=f.box,k=l[f.stack]||{count:1,placed:0,weight:1},C=f.stackWeight/k.weight||1;if(f.horizontal){const w=i.w*C,x=k.size||p.height;si(k.start)&&(d=k.start),p.fullSize?ol(p,u.left,d,s.outerWidth-u.right-u.left,x):ol(p,i.left+k.placed,d,w,x),k.start=d,k.placed+=w,d=p.bottom}else{const w=i.h*C,x=k.size||p.width;si(k.start)&&(g=k.start),p.fullSize?ol(p,g,u.top,x,s.outerHeight-u.bottom-u.top):ol(p,g,i.top+k.placed,x,w),k.start=g,k.placed+=w,g=p.right}}i.x=g,i.y=d}Vt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Cn={addBox(r,i){r.boxes||(r.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(s){i.draw(s)}}]},r.boxes.push(i)},removeBox(r,i){const s=r.boxes?r.boxes.indexOf(i):-1;s!==-1&&r.boxes.splice(s,1)},configure(r,i,s){i.fullSize=s.fullSize,i.position=s.position,i.weight=s.weight},update(r,i,s,l){if(!r)return;const u=_n(r.options.layout.padding),g=Math.max(i-u.width,0),d=Math.max(s-u.height,0),f=U4(r.boxes),p=f.vertical,k=f.horizontal;ie(r.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const C=p.reduce((I,P)=>P.box.options&&P.box.options.display===!1?I:I+1,0)||1,w=Object.freeze({outerWidth:i,outerHeight:s,padding:u,availableWidth:g,availableHeight:d,vBoxMaxWidth:g/2/C,hBoxMaxHeight:d/2}),x=Object.assign({},u);wC(x,_n(l));const E=Object.assign({maxPadding:x,w:g,h:d,x:u.left,y:u.top},u),D=V4(p.concat(k),w);Ss(f.fullSize,E,w,D),Ss(p,E,w,D),Ss(k,E,w,D)&&Ss(p,E,w,D),$4(E),Av(f.leftAndTop,E,w,D),E.x+=E.w,E.y+=E.h,Av(f.rightAndBottom,E,w,D),r.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},ie(f.chartArea,I=>{const P=I.box;Object.assign(P,r.chartArea),P.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class vC{acquireContext(i,s){}releaseContext(i){return!1}addEventListener(i,s,l){}removeEventListener(i,s,l){}getDevicePixelRatio(){return 1}getMaximumSize(i,s,l,u){return s=Math.max(0,s||i.width),l=l||i.height,{width:s,height:Math.max(0,u?Math.floor(s/u):l)}}isAttached(i){return!0}updateConfig(i){}}class G4 extends vC{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const fl="$chartjs",Y4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yv=r=>r===null||r==="";function K4(r,i){const s=r.style,l=r.getAttribute("height"),u=r.getAttribute("width");if(r[fl]={initial:{height:l,width:u,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",yv(u)){const g=nv(r,"width");g!==void 0&&(r.width=g)}if(yv(l))if(r.style.height==="")r.height=r.width/(i||2);else{const g=nv(r,"height");g!==void 0&&(r.height=g)}return r}const CC=DB?{passive:!0}:!1;function Q4(r,i,s){r.addEventListener(i,s,CC)}function Z4(r,i,s){r.canvas.removeEventListener(i,s,CC)}function q4(r,i){const s=Y4[r.type]||r.type,{x:l,y:u}=Ro(r,i);return{type:s,chart:i,native:r,x:l!==void 0?l:null,y:u!==void 0?u:null}}function El(r,i){for(const s of r)if(s===i||s.contains(i))return!0}function X4(r,i,s){const l=r.canvas,u=new MutationObserver(g=>{let d=!1;for(const f of g)d=d||El(f.addedNodes,l),d=d&&!El(f.removedNodes,l);d&&s()});return u.observe(document,{childList:!0,subtree:!0}),u}function J4(r,i,s){const l=r.canvas,u=new MutationObserver(g=>{let d=!1;for(const f of g)d=d||El(f.removedNodes,l),d=d&&!El(f.addedNodes,l);d&&s()});return u.observe(document,{childList:!0,subtree:!0}),u}const Us=new Map;let xv=0;function _C(){const r=window.devicePixelRatio;r!==xv&&(xv=r,Us.forEach((i,s)=>{s.currentDevicePixelRatio!==r&&i()}))}function tL(r,i){Us.size||window.addEventListener("resize",_C),Us.set(r,i)}function eL(r){Us.delete(r),Us.size||window.removeEventListener("resize",_C)}function nL(r,i,s){const l=r.canvas,u=l&&rh(l);if(!u)return;const g=G0((f,p)=>{const k=u.clientWidth;s(f,p),k<u.clientWidth&&s()},window),d=new ResizeObserver(f=>{const p=f[0],k=p.contentRect.width,C=p.contentRect.height;k===0&&C===0||g(k,C)});return d.observe(u),tL(r,g),d}function ku(r,i,s){s&&s.disconnect(),i==="resize"&&eL(r)}function iL(r,i,s){const l=r.canvas,u=G0(g=>{r.ctx!==null&&s(q4(g,r))},r,g=>{const d=g[0];return[d,d.offsetX,d.offsetY]});return Q4(l,i,u),u}class oL extends vC{acquireContext(i,s){const l=i&&i.getContext&&i.getContext("2d");return l&&l.canvas===i?(K4(i,s),l):null}releaseContext(i){const s=i.canvas;if(!s[fl])return!1;const l=s[fl].initial;["height","width"].forEach(g=>{const d=l[g];Wt(d)?s.removeAttribute(g):s.setAttribute(g,d)});const u=l.style||{};return Object.keys(u).forEach(g=>{s.style[g]=u[g]}),s.width=s.width,delete s[fl],!0}addEventListener(i,s,l){this.removeEventListener(i,s);const u=i.$proxies||(i.$proxies={}),d={attach:X4,detach:J4,resize:nL}[s]||iL;u[s]=d(i,s,l)}removeEventListener(i,s){const l=i.$proxies||(i.$proxies={}),u=l[s];if(!u)return;({attach:ku,detach:ku,resize:ku}[s]||Z4)(i,s,u),l[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,s,l,u){return SB(i,s,l,u)}isAttached(i){const s=rh(i);return!!(s&&s.isConnected)}}function rL(r){return!lC()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?G4:oL}class sL{constructor(){this._init=[]}notify(i,s,l,u){s==="beforeInit"&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const g=u?this._descriptors(i).filter(u):this._descriptors(i),d=this._notify(g,i,s,l);return s==="afterDestroy"&&(this._notify(g,i,"stop"),this._notify(this._init,i,"uninstall")),d}_notify(i,s,l,u){u=u||{};for(const g of i){const d=g.plugin,f=d[l],p=[s,u,g.options];if(ve(f,p,d)===!1&&u.cancelable)return!1}return!0}invalidate(){Wt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),s}_createDescriptors(i,s){const l=i&&i.config,u=Pt(l.options&&l.options.plugins,{}),g=aL(l);return u===!1&&!s?[]:cL(i,g,u,s)}_notifyStateChanges(i){const s=this._oldCache||[],l=this._cache,u=(g,d)=>g.filter(f=>!d.some(p=>f.plugin.id===p.plugin.id));this._notify(u(s,l),i,"stop"),this._notify(u(l,s),i,"start")}}function aL(r){const i={},s=[],l=Object.keys(Di.plugins.items);for(let g=0;g<l.length;g++)s.push(Di.getPlugin(l[g]));const u=r.plugins||[];for(let g=0;g<u.length;g++){const d=u[g];s.indexOf(d)===-1&&(s.push(d),i[d.id]=!0)}return{plugins:s,localIds:i}}function lL(r,i){return!i&&r===!1?null:r===!0?{}:r}function cL(r,{plugins:i,localIds:s},l,u){const g=[],d=r.getContext();for(const f of i){const p=f.id,k=lL(l[p],u);k!==null&&g.push({plugin:f,options:dL(r.config,{plugin:f,local:s[p]},k,d)})}return g}function dL(r,{plugin:i,local:s},l,u){const g=r.pluginScopeKeys(i),d=r.getOptionScopes(l,g);return s&&i.defaults&&d.push(i.defaults),r.createResolver(d,u,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Nu(r,i){const s=Vt.datasets[r]||{};return((i.datasets||{})[r]||{}).indexAxis||i.indexAxis||s.indexAxis||"x"}function uL(r,i){let s=r;return r==="_index_"?s=i:r==="_value_"&&(s=i==="x"?"y":"x"),s}function hL(r,i){return r===i?"_index_":"_value_"}function gL(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function Bu(r,i){return r==="x"||r==="y"?r:i.axis||gL(i.position)||r.charAt(0).toLowerCase()}function fL(r,i){const s=Wo[r.type]||{scales:{}},l=i.scales||{},u=Nu(r.type,i),g=Object.create(null),d=Object.create(null);return Object.keys(l).forEach(f=>{const p=l[f];if(!Ft(p))return console.error(`Invalid scale configuration for scale: ${f}`);if(p._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${f}`);const k=Bu(f,p),C=hL(k,u),w=s.scales||{};g[k]=g[k]||f,d[f]=Os(Object.create(null),[{axis:k},p,w[k],w[C]])}),r.data.datasets.forEach(f=>{const p=f.type||r.type,k=f.indexAxis||Nu(p,i),w=(Wo[p]||{}).scales||{};Object.keys(w).forEach(x=>{const E=uL(x,k),D=f[E+"AxisID"]||g[E]||E;d[D]=d[D]||Object.create(null),Os(d[D],[{axis:E},l[D],w[x]])})}),Object.keys(d).forEach(f=>{const p=d[f];Os(p,[Vt.scales[p.type],Vt.scale])}),d}function AC(r){const i=r.options||(r.options={});i.plugins=Pt(i.plugins,{}),i.scales=fL(r,i)}function yC(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function pL(r){return r=r||{},r.data=yC(r.data),AC(r),r}const Ev=new Map,xC=new Set;function rl(r,i){let s=Ev.get(r);return s||(s=i(),Ev.set(r,s),xC.add(s)),s}const vs=(r,i,s)=>{const l=co(i,s);l!==void 0&&r.add(l)};class mL{constructor(i){this._config=pL(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=yC(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),AC(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return rl(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,s){return rl(`${i}.transition.${s}`,()=>[[`datasets.${i}.transitions.${s}`,`transitions.${s}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,s){return rl(`${i}-${s}`,()=>[[`datasets.${i}.elements.${s}`,`datasets.${i}`,`elements.${s}`,""]])}pluginScopeKeys(i){const s=i.id,l=this.type;return rl(`${l}-plugin-${s}`,()=>[[`plugins.${s}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,s){const l=this._scopeCache;let u=l.get(i);return(!u||s)&&(u=new Map,l.set(i,u)),u}getOptionScopes(i,s,l){const{options:u,type:g}=this,d=this._cachedScopes(i,l),f=d.get(s);if(f)return f;const p=new Set;s.forEach(C=>{i&&(p.add(i),C.forEach(w=>vs(p,i,w))),C.forEach(w=>vs(p,u,w)),C.forEach(w=>vs(p,Wo[g]||{},w)),C.forEach(w=>vs(p,Vt,w)),C.forEach(w=>vs(p,Tu,w))});const k=Array.from(p);return k.length===0&&k.push(Object.create(null)),xC.has(s)&&d.set(s,k),k}chartOptionScopes(){const{options:i,type:s}=this;return[i,Wo[s]||{},Vt.datasets[s]||{},{type:s},Vt,Tu]}resolveNamedOptions(i,s,l,u=[""]){const g={$shared:!0},{resolver:d,subPrefixes:f}=Sv(this._resolverCache,i,u);let p=d;if(kL(d,s)){g.$shared=!1,l=uo(l)?l():l;const k=this.createResolver(i,l,f);p=Rr(d,l,k)}for(const k of s)g[k]=p[k];return g}createResolver(i,s,l=[""],u){const{resolver:g}=Sv(this._resolverCache,i,l);return Ft(s)?Rr(g,s,void 0,u):g}}function Sv(r,i,s){let l=r.get(i);l||(l=new Map,r.set(i,l));const u=s.join();let g=l.get(u);return g||(g={resolver:nh(i,s),subPrefixes:s.filter(f=>!f.toLowerCase().includes("hover"))},l.set(u,g)),g}const bL=r=>Ft(r)&&Object.getOwnPropertyNames(r).reduce((i,s)=>i||uo(r[s]),!1);function kL(r,i){const{isScriptable:s,isIndexable:l}=nC(r);for(const u of i){const g=s(u),d=l(u),f=(d||g)&&r[u];if(g&&(uo(f)||bL(f))||d&&Ce(f))return!0}return!1}var wL="3.9.1";const vL=["top","bottom","left","right","chartArea"];function Dv(r,i){return r==="top"||r==="bottom"||vL.indexOf(r)===-1&&i==="x"}function Mv(r,i){return function(s,l){return s[r]===l[r]?s[i]-l[i]:s[r]-l[r]}}function Iv(r){const i=r.chart,s=i.options.animation;i.notifyPlugins("afterRender"),ve(s&&s.onComplete,[r],i)}function CL(r){const i=r.chart,s=i.options.animation;ve(s&&s.onProgress,[r],i)}function EC(r){return lC()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const Sl={},SC=r=>{const i=EC(r);return Object.values(Sl).filter(s=>s.canvas===i).pop()};function _L(r,i,s){const l=Object.keys(r);for(const u of l){const g=+u;if(g>=i){const d=r[u];delete r[u],(s>0||g>i)&&(r[g+s]=d)}}}function AL(r,i,s,l){return!s||r.type==="mouseout"?null:l?i:r}class Zs{constructor(i,s){const l=this.config=new mL(s),u=EC(i),g=SC(u);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas with ID '"+g.canvas.id+"' can be reused.");const d=l.createResolver(l.chartOptionScopes(),this.getContext());this.platform=new(l.platform||rL(u)),this.platform.updateConfig(l);const f=this.platform.acquireContext(u,d.aspectRatio),p=f&&f.canvas,k=p&&p.height,C=p&&p.width;if(this.id=lN(),this.ctx=f,this.canvas=p,this.width=C,this.height=k,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yN(w=>this.update(w),d.resizeDelay||0),this._dataChanges=[],Sl[this.id]=this,!f||!p){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",Iv),$i.listen(this,"progress",CL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:s},width:l,height:u,_aspectRatio:g}=this;return Wt(i)?s&&g?g:u?l/u:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ev(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xw(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(i,s){$i.running(this)?this._resizeBeforeDraw={width:i,height:s}:this._resize(i,s)}_resize(i,s){const l=this.options,u=this.canvas,g=l.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(u,i,s,g),f=l.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,ev(this,f,!0)&&(this.notifyPlugins("resize",{size:d}),ve(l.onResize,[this,d],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ie(s,(l,u)=>{l.id=u})}buildOrUpdateScales(){const i=this.options,s=i.scales,l=this.scales,u=Object.keys(l).reduce((d,f)=>(d[f]=!1,d),{});let g=[];s&&(g=g.concat(Object.keys(s).map(d=>{const f=s[d],p=Bu(d,f),k=p==="r",C=p==="x";return{options:f,dposition:k?"chartArea":C?"bottom":"left",dtype:k?"radialLinear":C?"category":"linear"}}))),ie(g,d=>{const f=d.options,p=f.id,k=Bu(p,f),C=Pt(f.type,d.dtype);(f.position===void 0||Dv(f.position,k)!==Dv(d.dposition))&&(f.position=d.dposition),u[p]=!0;let w=null;if(p in l&&l[p].type===C)w=l[p];else{const x=Di.getScale(C);w=new x({id:p,type:C,ctx:this.ctx,chart:this}),l[w.id]=w}w.init(f,i)}),ie(u,(d,f)=>{d||delete l[f]}),ie(l,d=>{Cn.configure(this,d,d.options),Cn.addBox(this,d)})}_updateMetasets(){const i=this._metasets,s=this.data.datasets.length,l=i.length;if(i.sort((u,g)=>u.index-g.index),l>s){for(let u=s;u<l;++u)this._destroyDatasetMeta(u);i.splice(s,l-s)}this._sortedMetasets=i.slice(0).sort(Mv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:s}}=this;i.length>s.length&&delete this._stacks,i.forEach((l,u)=>{s.filter(g=>g===l._dataset).length===0&&this._destroyDatasetMeta(u)})}buildOrUpdateControllers(){const i=[],s=this.data.datasets;let l,u;for(this._removeUnreferencedMetasets(),l=0,u=s.length;l<u;l++){const g=s[l];let d=this.getDatasetMeta(l);const f=g.type||this.config.type;if(d.type&&d.type!==f&&(this._destroyDatasetMeta(l),d=this.getDatasetMeta(l)),d.type=f,d.indexAxis=g.indexAxis||Nu(f,this.options),d.order=g.order||0,d.index=l,d.label=""+g.label,d.visible=this.isDatasetVisible(l),d.controller)d.controller.updateIndex(l),d.controller.linkScales();else{const p=Di.getController(f),{datasetElementType:k,dataElementType:C}=Vt.datasets[f];Object.assign(p.prototype,{dataElementType:Di.getElement(C),datasetElementType:k&&Di.getElement(k)}),d.controller=new p(this,l),i.push(d.controller)}}return this._updateMetasets(),i}_resetElements(){ie(this.data.datasets,(i,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const s=this.config;s.update();const l=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),u=this._animationsDisabled=!l.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0})===!1)return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let k=0,C=this.data.datasets.length;k<C;k++){const{controller:w}=this.getDatasetMeta(k),x=!u&&g.indexOf(w)===-1;w.buildOrUpdateElements(x),d=Math.max(+w.getMaxOverflow(),d)}d=this._minPadding=l.layout.autoPadding?d:0,this._updateLayout(d),u||ie(g,k=>{k.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(Mv("z","_idx"));const{_active:f,_lastEvent:p}=this;p?this._eventHandler(p,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){ie(this.scales,i=>{Cn.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,s=new Set(Object.keys(this._listeners)),l=new Set(i.events);(!Fw(s,l)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,s=this._getUniformDataChanges()||[];for(const{method:l,start:u,count:g}of s){const d=l==="_removeElements"?-g:g;_L(i,u,d)}}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const s=this.data.datasets.length,l=g=>new Set(i.filter(d=>d[0]===g).map((d,f)=>f+","+d.splice(1).join(","))),u=l(0);for(let g=1;g<s;g++)if(!Fw(u,l(g)))return;return Array.from(u).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(i){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cn.update(this,this.width,this.height,i);const s=this.chartArea,l=s.width<=0||s.height<=0;this._layers=[],ie(this.boxes,u=>{l&&u.position==="chartArea"||(u.configure&&u.configure(),this._layers.push(...u._layers()))},this),this._layers.forEach((u,g)=>{u._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})!==!1){for(let s=0,l=this.data.datasets.length;s<l;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,l=this.data.datasets.length;s<l;++s)this._updateDataset(s,uo(i)?i({datasetIndex:s}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,s){const l=this.getDatasetMeta(i),u={meta:l,index:i,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",u)!==!1&&(l.controller._update(s),u.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",u))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),Iv({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:l,height:u}=this._resizeBeforeDraw;this._resize(l,u),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(i=0;i<s.length&&s[i].z<=0;++i)s[i].draw(this.chartArea);for(this._drawDatasets();i<s.length;++i)s[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const s=this._sortedMetasets,l=[];let u,g;for(u=0,g=s.length;u<g;++u){const d=s[u];(!i||d.visible)&&l.push(d)}return l}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const i=this.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s)this._drawDataset(i[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const s=this.ctx,l=i._clip,u=!l.disabled,g=this.chartArea,d={meta:i,index:i.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",d)!==!1&&(u&&jl(s,{left:l.left===!1?0:g.left-l.left,right:l.right===!1?this.width:g.right+l.right,top:l.top===!1?0:g.top-l.top,bottom:l.bottom===!1?this.height:g.bottom+l.bottom}),i.controller.draw(),u&&Fl(s),d.cancelable=!1,this.notifyPlugins("afterDatasetDraw",d))}isPointInArea(i){return Fs(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,s,l,u){const g=R4.modes[s];return typeof g=="function"?g(this,i,l,u):[]}getDatasetMeta(i){const s=this.data.datasets[i],l=this._metasets;let u=l.filter(g=>g&&g._dataset===s).pop();return u||(u={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:i,_dataset:s,_parsed:[],_sorted:!1},l.push(u)),u}getContext(){return this.$context||(this.$context=ho(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const s=this.data.datasets[i];if(!s)return!1;const l=this.getDatasetMeta(i);return typeof l.hidden=="boolean"?!l.hidden:!s.hidden}setDatasetVisibility(i,s){const l=this.getDatasetMeta(i);l.hidden=!s}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,s,l){const u=l?"show":"hide",g=this.getDatasetMeta(i),d=g.controller._resolveAnimations(void 0,u);si(s)?(g.data[s].hidden=!l,this.update()):(this.setDatasetVisibility(i,l),d.update(g,{visible:l}),this.update(f=>f.datasetIndex===i?u:void 0))}hide(i,s){this._updateVisibility(i,s,!1)}show(i,s){this._updateVisibility(i,s,!0)}_destroyDatasetMeta(i){const s=this._metasets[i];s&&s.controller&&s.controller._destroy(),delete this._metasets[i]}_stop(){let i,s;for(this.stop(),$i.remove(this),i=0,s=this.data.datasets.length;i<s;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:s}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),Xw(i,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Sl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,s=this.platform,l=(g,d)=>{s.addEventListener(this,g,d),i[g]=d},u=(g,d,f)=>{g.offsetX=d,g.offsetY=f,this._eventHandler(g)};ie(this.options.events,g=>l(g,u))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,s=this.platform,l=(p,k)=>{s.addEventListener(this,p,k),i[p]=k},u=(p,k)=>{i[p]&&(s.removeEventListener(this,p,k),delete i[p])},g=(p,k)=>{this.canvas&&this.resize(p,k)};let d;const f=()=>{u("attach",f),this.attached=!0,this.resize(),l("resize",g),l("detach",d)};d=()=>{this.attached=!1,u("resize",g),this._stop(),this._resize(0,0),l("attach",f)},s.isAttached(this.canvas)?f():d()}unbindEvents(){ie(this._listeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._listeners={},ie(this._responsiveListeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,s,l){const u=l?"set":"remove";let g,d,f,p;for(s==="dataset"&&(g=this.getDatasetMeta(i[0].datasetIndex),g.controller["_"+u+"DatasetHoverStyle"]()),f=0,p=i.length;f<p;++f){d=i[f];const k=d&&this.getDatasetMeta(d.datasetIndex).controller;k&&k[u+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const s=this._active||[],l=i.map(({datasetIndex:g,index:d})=>{const f=this.getDatasetMeta(g);if(!f)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:f.data[d],index:d}});!vl(l,s)&&(this._active=l,this._lastEvent=null,this._updateHoverStyles(l,s))}notifyPlugins(i,s,l){return this._plugins.notify(this,i,s,l)}_updateHoverStyles(i,s,l){const u=this.options.hover,g=(p,k)=>p.filter(C=>!k.some(w=>C.datasetIndex===w.datasetIndex&&C.index===w.index)),d=g(s,i),f=l?i:g(i,s);d.length&&this.updateHoverStyle(d,u.mode,!1),f.length&&u.mode&&this.updateHoverStyle(f,u.mode,!0)}_eventHandler(i,s){const l={event:i,replay:s,cancelable:!0,inChartArea:this.isPointInArea(i)},u=d=>(d.options.events||this.options.events).includes(i.native.type);if(this.notifyPlugins("beforeEvent",l,u)===!1)return;const g=this._handleEvent(i,s,l.inChartArea);return l.cancelable=!1,this.notifyPlugins("afterEvent",l,u),(g||l.changed)&&this.render(),this}_handleEvent(i,s,l){const{_active:u=[],options:g}=this,d=s,f=this._getActiveElements(i,u,l,d),p=fN(i),k=AL(i,this._lastEvent,l,p);l&&(this._lastEvent=null,ve(g.onHover,[i,f,this],this),p&&ve(g.onClick,[i,f,this],this));const C=!vl(f,u);return(C||s)&&(this._active=f,this._updateHoverStyles(f,u,s)),this._lastEvent=k,C}_getActiveElements(i,s,l,u){if(i.type==="mouseout")return[];if(!l)return s;const g=this.options.hover;return this.getElementsAtEventForMode(i,g.mode,g,u)}}const Tv=()=>ie(Zs.instances,r=>r._plugins.invalidate()),no=!0;Object.defineProperties(Zs,{defaults:{enumerable:no,value:Vt},instances:{enumerable:no,value:Sl},overrides:{enumerable:no,value:Wo},registry:{enumerable:no,value:Di},version:{enumerable:no,value:wL},getChart:{enumerable:no,value:SC},register:{enumerable:no,value:(...r)=>{Di.add(...r),Tv()}},unregister:{enumerable:no,value:(...r)=>{Di.remove(...r),Tv()}}});function DC(r,i,s){const{startAngle:l,pixelMargin:u,x:g,y:d,outerRadius:f,innerRadius:p}=i;let k=u/f;r.beginPath(),r.arc(g,d,f,l-k,s+k),p>u?(k=u/p,r.arc(g,d,p,s+k,l-k,!0)):r.arc(g,d,u,s+He,l-He),r.closePath(),r.clip()}function yL(r){return eh(r,["outerStart","outerEnd","innerStart","innerEnd"])}function xL(r,i,s,l){const u=yL(r.options.borderRadius),g=(s-i)/2,d=Math.min(g,l*i/2),f=p=>{const k=(s-Math.min(g,p))*l/2;return on(p,0,Math.min(g,k))};return{outerStart:f(u.outerStart),outerEnd:f(u.outerEnd),innerStart:on(u.innerStart,0,d),innerEnd:on(u.innerEnd,0,d)}}function Sr(r,i,s,l){return{x:s+r*Math.cos(i),y:l+r*Math.sin(i)}}function Lu(r,i,s,l,u,g){const{x:d,y:f,startAngle:p,pixelMargin:k,innerRadius:C}=i,w=Math.max(i.outerRadius+l+s-k,0),x=C>0?C+l+s+k:0;let E=0;const D=u-p;if(l){const ot=C>0?C-l:0,rt=w>0?w-l:0,ht=(ot+rt)/2,Dt=ht!==0?D*ht/(ht+l):D;E=(D-Dt)/2}const I=Math.max(.001,D*w-s/Oe)/w,P=(D-I)/2,B=p+P+E,z=u-P-E,{outerStart:U,outerEnd:R,innerStart:F,innerEnd:H}=xL(i,x,w,z-B),$=w-U,G=w-R,V=B+U/$,Q=z-R/G,nt=x+F,J=x+H,X=B+F/nt,lt=z-H/J;if(r.beginPath(),g){if(r.arc(d,f,w,V,Q),R>0){const ht=Sr(G,Q,d,f);r.arc(ht.x,ht.y,R,Q,z+He)}const ot=Sr(J,z,d,f);if(r.lineTo(ot.x,ot.y),H>0){const ht=Sr(J,lt,d,f);r.arc(ht.x,ht.y,H,z+He,lt+Math.PI)}if(r.arc(d,f,x,z-H/x,B+F/x,!0),F>0){const ht=Sr(nt,X,d,f);r.arc(ht.x,ht.y,F,X+Math.PI,B-He)}const rt=Sr($,B,d,f);if(r.lineTo(rt.x,rt.y),U>0){const ht=Sr($,V,d,f);r.arc(ht.x,ht.y,U,B-He,V)}}else{r.moveTo(d,f);const ot=Math.cos(V)*w+d,rt=Math.sin(V)*w+f;r.lineTo(ot,rt);const ht=Math.cos(Q)*w+d,Dt=Math.sin(Q)*w+f;r.lineTo(ht,Dt)}r.closePath()}function EL(r,i,s,l,u){const{fullCircles:g,startAngle:d,circumference:f}=i;let p=i.endAngle;if(g){Lu(r,i,s,l,d+de,u);for(let k=0;k<g;++k)r.fill();isNaN(f)||(p=d+f%de,f%de===0&&(p+=de))}return Lu(r,i,s,l,p,u),r.fill(),p}function SL(r,i,s){const{x:l,y:u,startAngle:g,pixelMargin:d,fullCircles:f}=i,p=Math.max(i.outerRadius-d,0),k=i.innerRadius+d;let C;for(s&&DC(r,i,g+de),r.beginPath(),r.arc(l,u,k,g+de,g,!0),C=0;C<f;++C)r.stroke();for(r.beginPath(),r.arc(l,u,p,g,g+de),C=0;C<f;++C)r.stroke()}function DL(r,i,s,l,u,g){const{options:d}=i,{borderWidth:f,borderJoinStyle:p}=d,k=d.borderAlign==="inner";!f||(k?(r.lineWidth=f*2,r.lineJoin=p||"round"):(r.lineWidth=f,r.lineJoin=p||"bevel"),i.fullCircles&&SL(r,i,k),k&&DC(r,i,u),Lu(r,i,s,l,u,g),r.stroke())}class Ql extends mi{constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,s,l){const u=this.getProps(["x","y"],l),{angle:g,distance:d}=U0(u,{x:i,y:s}),{startAngle:f,endAngle:p,innerRadius:k,outerRadius:C,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),x=this.options.spacing/2,D=Pt(w,p-f)>=de||js(g,f,p),I=Yi(d,k+x,C+x);return D&&I}getCenterPoint(i){const{x:s,y:l,startAngle:u,endAngle:g,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),{offset:p,spacing:k}=this.options,C=(u+g)/2,w=(d+f+k+p)/2;return{x:s+Math.cos(C)*w,y:l+Math.sin(C)*w}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:s,circumference:l}=this,u=(s.offset||0)/2,g=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=l>de?Math.floor(l/de):0,l===0||this.innerRadius<0||this.outerRadius<0)return;i.save();let f=0;if(u){f=u/2;const k=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(k)*f,Math.sin(k)*f),this.circumference>=Oe&&(f=u)}i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor;const p=EL(i,this,f,g,d);DL(i,this,f,g,p,d),i.restore()}}Ql.id="arc";Ql.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Ql.defaultRoutes={backgroundColor:"backgroundColor"};function MC(r,i,s=i){r.lineCap=Pt(s.borderCapStyle,i.borderCapStyle),r.setLineDash(Pt(s.borderDash,i.borderDash)),r.lineDashOffset=Pt(s.borderDashOffset,i.borderDashOffset),r.lineJoin=Pt(s.borderJoinStyle,i.borderJoinStyle),r.lineWidth=Pt(s.borderWidth,i.borderWidth),r.strokeStyle=Pt(s.borderColor,i.borderColor)}function ML(r,i,s){r.lineTo(s.x,s.y)}function IL(r){return r.stepped?qN:r.tension||r.cubicInterpolationMode==="monotone"?XN:ML}function IC(r,i,s={}){const l=r.length,{start:u=0,end:g=l-1}=s,{start:d,end:f}=i,p=Math.max(u,d),k=Math.min(g,f),C=u<d&&g<d||u>f&&g>f;return{count:l,start:p,loop:i.loop,ilen:k<p&&!C?l+k-p:k-p}}function TL(r,i,s,l){const{points:u,options:g}=i,{count:d,start:f,loop:p,ilen:k}=IC(u,s,l),C=IL(g);let{move:w=!0,reverse:x}=l||{},E,D,I;for(E=0;E<=k;++E)D=u[(f+(x?k-E:E))%d],!D.skip&&(w?(r.moveTo(D.x,D.y),w=!1):C(r,I,D,x,g.stepped),I=D);return p&&(D=u[(f+(x?k:0))%d],C(r,I,D,x,g.stepped)),!!p}function PL(r,i,s,l){const u=i.points,{count:g,start:d,ilen:f}=IC(u,s,l),{move:p=!0,reverse:k}=l||{};let C=0,w=0,x,E,D,I,P,B;const z=R=>(d+(k?f-R:R))%g,U=()=>{I!==P&&(r.lineTo(C,P),r.lineTo(C,I),r.lineTo(C,B))};for(p&&(E=u[z(0)],r.moveTo(E.x,E.y)),x=0;x<=f;++x){if(E=u[z(x)],E.skip)continue;const R=E.x,F=E.y,H=R|0;H===D?(F<I?I=F:F>P&&(P=F),C=(w*C+R)/++w):(U(),r.lineTo(R,F),D=H,w=0,I=P=F),B=F}U()}function zu(r){const i=r.options,s=i.borderDash&&i.borderDash.length;return!r._decimated&&!r._loop&&!i.tension&&i.cubicInterpolationMode!=="monotone"&&!i.stepped&&!s?PL:TL}function OL(r){return r.stepped?MB:r.tension||r.cubicInterpolationMode==="monotone"?IB:jo}function NL(r,i,s,l){let u=i._path;u||(u=i._path=new Path2D,i.path(u,s,l)&&u.closePath()),MC(r,i.options),r.stroke(u)}function BL(r,i,s,l){const{segments:u,options:g}=i,d=zu(i);for(const f of u)MC(r,g,f.style),r.beginPath(),d(r,i,f,{start:s,end:s+l-1})&&r.closePath(),r.stroke()}const LL=typeof Path2D=="function";function zL(r,i,s,l){LL&&!i.options.segment?NL(r,i,s,l):BL(r,i,s,l)}class go extends mi{constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,s){const l=this.options;if((l.tension||l.cubicInterpolationMode==="monotone")&&!l.stepped&&!this._pointsUpdated){const u=l.spanGaps?this._loop:this._fullLoop;CB(this._points,l,i,u,s),this._pointsUpdated=!0}}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zB(this,this.options.segment))}first(){const i=this.segments,s=this.points;return i.length&&s[i[0].start]}last(){const i=this.segments,s=this.points,l=i.length;return l&&s[i[l-1].end]}interpolate(i,s){const l=this.options,u=i[s],g=this.points,d=gC(this,{property:s,start:u,end:u});if(!d.length)return;const f=[],p=OL(l);let k,C;for(k=0,C=d.length;k<C;++k){const{start:w,end:x}=d[k],E=g[w],D=g[x];if(E===D){f.push(E);continue}const I=Math.abs((u-E[s])/(D[s]-E[s])),P=p(E,D,I,l.stepped);P[s]=i[s],f.push(P)}return f.length===1?f[0]:f}pathSegment(i,s,l){return zu(this)(i,this,s,l)}path(i,s,l){const u=this.segments,g=zu(this);let d=this._loop;s=s||0,l=l||this.points.length-s;for(const f of u)d&=g(i,this,f,{start:s,end:s+l-1});return!!d}draw(i,s,l,u){const g=this.options||{};(this.points||[]).length&&g.borderWidth&&(i.save(),zL(i,this,l,u),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}go.id="line";go.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};go.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};go.descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};function Pv(r,i,s,l){const u=r.options,{[s]:g}=r.getProps([s],l);return Math.abs(i-g)<u.radius+u.hitRadius}class Zl extends mi{constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,s,l){const u=this.options,{x:g,y:d}=this.getProps(["x","y"],l);return Math.pow(i-g,2)+Math.pow(s-d,2)<Math.pow(u.hitRadius+u.radius,2)}inXRange(i,s){return Pv(this,i,"x",s)}inYRange(i,s){return Pv(this,i,"y",s)}getCenterPoint(i){const{x:s,y:l}=this.getProps(["x","y"],i);return{x:s,y:l}}size(i){i=i||this.options||{};let s=i.radius||0;s=Math.max(s,s&&i.hoverRadius||0);const l=s&&i.borderWidth||0;return(s+l)*2}draw(i,s){const l=this.options;this.skip||l.radius<.1||!Fs(this,s,this.size(l)/2)||(i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.fillStyle=l.backgroundColor,Pu(i,l,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}Zl.id="point";Zl.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Zl.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function TC(r,i){const{x:s,y:l,base:u,width:g,height:d}=r.getProps(["x","y","base","width","height"],i);let f,p,k,C,w;return r.horizontal?(w=d/2,f=Math.min(s,u),p=Math.max(s,u),k=l-w,C=l+w):(w=g/2,f=s-w,p=s+w,k=Math.min(l,u),C=Math.max(l,u)),{left:f,top:k,right:p,bottom:C}}function ao(r,i,s,l){return r?0:on(i,s,l)}function RL(r,i,s){const l=r.options.borderWidth,u=r.borderSkipped,g=eC(l);return{t:ao(u.top,g.top,0,s),r:ao(u.right,g.right,0,i),b:ao(u.bottom,g.bottom,0,s),l:ao(u.left,g.left,0,i)}}function jL(r,i,s){const{enableBorderRadius:l}=r.getProps(["enableBorderRadius"]),u=r.options.borderRadius,g=Vo(u),d=Math.min(i,s),f=r.borderSkipped,p=l||Ft(u);return{topLeft:ao(!p||f.top||f.left,g.topLeft,0,d),topRight:ao(!p||f.top||f.right,g.topRight,0,d),bottomLeft:ao(!p||f.bottom||f.left,g.bottomLeft,0,d),bottomRight:ao(!p||f.bottom||f.right,g.bottomRight,0,d)}}function FL(r){const i=TC(r),s=i.right-i.left,l=i.bottom-i.top,u=RL(r,s/2,l/2),g=jL(r,s/2,l/2);return{outer:{x:i.left,y:i.top,w:s,h:l,radius:g},inner:{x:i.left+u.l,y:i.top+u.t,w:s-u.l-u.r,h:l-u.t-u.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(u.t,u.l)),topRight:Math.max(0,g.topRight-Math.max(u.t,u.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(u.b,u.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(u.b,u.r))}}}}function wu(r,i,s,l){const u=i===null,g=s===null,f=r&&!(u&&g)&&TC(r,l);return f&&(u||Yi(i,f.left,f.right))&&(g||Yi(s,f.top,f.bottom))}function VL(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function UL(r,i){r.rect(i.x,i.y,i.w,i.h)}function vu(r,i,s={}){const l=r.x!==s.x?-i:0,u=r.y!==s.y?-i:0,g=(r.x+r.w!==s.x+s.w?i:0)-l,d=(r.y+r.h!==s.y+s.h?i:0)-u;return{x:r.x+l,y:r.y+u,w:r.w+g,h:r.h+d,radius:r.radius}}class ql extends mi{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:s,options:{borderColor:l,backgroundColor:u}}=this,{inner:g,outer:d}=FL(this),f=VL(d.radius)?Vs:UL;i.save(),(d.w!==g.w||d.h!==g.h)&&(i.beginPath(),f(i,vu(d,s,g)),i.clip(),f(i,vu(g,-s,d)),i.fillStyle=l,i.fill("evenodd")),i.beginPath(),f(i,vu(g,s)),i.fillStyle=u,i.fill(),i.restore()}inRange(i,s,l){return wu(this,i,s,l)}inXRange(i,s){return wu(this,i,null,s)}inYRange(i,s){return wu(this,null,i,s)}getCenterPoint(i){const{x:s,y:l,base:u,horizontal:g}=this.getProps(["x","y","base","horizontal"],i);return{x:g?(s+u)/2:s,y:g?l:(l+u)/2}}getRange(i){return i==="x"?this.width/2:this.height/2}}ql.id="bar";ql.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};ql.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var HL=Object.freeze({__proto__:null,ArcElement:Ql,LineElement:go,PointElement:Zl,BarElement:ql});function $L(r,i,s,l,u){const g=u.samples||l;if(g>=s)return r.slice(i,i+s);const d=[],f=(s-2)/(g-2);let p=0;const k=i+s-1;let C=i,w,x,E,D,I;for(d[p++]=r[C],w=0;w<g-2;w++){let P=0,B=0,z;const U=Math.floor((w+1)*f)+1+i,R=Math.min(Math.floor((w+2)*f)+1,s)+i,F=R-U;for(z=U;z<R;z++)P+=r[z].x,B+=r[z].y;P/=F,B/=F;const H=Math.floor(w*f)+1+i,$=Math.min(Math.floor((w+1)*f)+1,s)+i,{x:G,y:V}=r[C];for(E=D=-1,z=H;z<$;z++)D=.5*Math.abs((G-P)*(r[z].y-V)-(G-r[z].x)*(B-V)),D>E&&(E=D,x=r[z],I=z);d[p++]=x,C=I}return d[p++]=r[k],d}function WL(r,i,s,l){let u=0,g=0,d,f,p,k,C,w,x,E,D,I;const P=[],B=i+s-1,z=r[i].x,R=r[B].x-z;for(d=i;d<i+s;++d){f=r[d],p=(f.x-z)/R*l,k=f.y;const F=p|0;if(F===C)k<D?(D=k,w=d):k>I&&(I=k,x=d),u=(g*u+f.x)/++g;else{const H=d-1;if(!Wt(w)&&!Wt(x)){const $=Math.min(w,x),G=Math.max(w,x);$!==E&&$!==H&&P.push({...r[$],x:u}),G!==E&&G!==H&&P.push({...r[G],x:u})}d>0&&H!==E&&P.push(r[H]),P.push(f),C=F,g=0,D=I=k,w=x=E=d}}return P}function PC(r){if(r._decimated){const i=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:i})}}function Ov(r){r.data.datasets.forEach(i=>{PC(i)})}function GL(r,i){const s=i.length;let l=0,u;const{iScale:g}=r,{min:d,max:f,minDefined:p,maxDefined:k}=g.getUserBounds();return p&&(l=on(Ki(i,g.axis,d).lo,0,s-1)),k?u=on(Ki(i,g.axis,f).hi+1,l,s)-l:u=s-l,{start:l,count:u}}var YL={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,i,s)=>{if(!s.enabled){Ov(r);return}const l=r.width;r.data.datasets.forEach((u,g)=>{const{_data:d,indexAxis:f}=u,p=r.getDatasetMeta(g),k=d||u.data;if(Es([f,r.options.indexAxis])==="y"||!p.controller.supportsDecimation)return;const C=r.scales[p.xAxisID];if(C.type!=="linear"&&C.type!=="time"||r.options.parsing)return;let{start:w,count:x}=GL(p,k);const E=s.threshold||4*l;if(x<=E){PC(u);return}Wt(d)&&(u._data=k,delete u.data,Object.defineProperty(u,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(I){this._data=I}}));let D;switch(s.algorithm){case"lttb":D=$L(k,w,x,l,s);break;case"min-max":D=WL(k,w,x,l);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}u._decimated=D})},destroy(r){Ov(r)}};function KL(r,i,s){const l=r.segments,u=r.points,g=i.points,d=[];for(const f of l){let{start:p,end:k}=f;k=ah(p,k,u);const C=Ru(s,u[p],u[k],f.loop);if(!i.segments){d.push({source:f,target:C,start:u[p],end:u[k]});continue}const w=gC(i,C);for(const x of w){const E=Ru(s,g[x.start],g[x.end],x.loop),D=hC(f,u,E);for(const I of D)d.push({source:I,target:x,start:{[s]:Nv(C,E,"start",Math.max)},end:{[s]:Nv(C,E,"end",Math.min)}})}}return d}function Ru(r,i,s,l){if(l)return;let u=i[r],g=s[r];return r==="angle"&&(u=Hn(u),g=Hn(g)),{property:r,start:u,end:g}}function QL(r,i){const{x:s=null,y:l=null}=r||{},u=i.points,g=[];return i.segments.forEach(({start:d,end:f})=>{f=ah(d,f,u);const p=u[d],k=u[f];l!==null?(g.push({x:p.x,y:l}),g.push({x:k.x,y:l})):s!==null&&(g.push({x:s,y:p.y}),g.push({x:s,y:k.y}))}),g}function ah(r,i,s){for(;i>r;i--){const l=s[i];if(!isNaN(l.x)&&!isNaN(l.y))break}return i}function Nv(r,i,s,l){return r&&i?l(r[s],i[s]):r?r[s]:i?i[s]:0}function OC(r,i){let s=[],l=!1;return Ce(r)?(l=!0,s=r):s=QL(r,i),s.length?new go({points:s,options:{tension:0},_loop:l,_fullLoop:l}):null}function Bv(r){return r&&r.fill!==!1}function ZL(r,i,s){let u=r[i].fill;const g=[i];let d;if(!s)return u;for(;u!==!1&&g.indexOf(u)===-1;){if(!Ge(u))return u;if(d=r[u],!d)return!1;if(d.visible)return u;g.push(u),u=d.fill}return!1}function qL(r,i,s){const l=ez(r);if(Ft(l))return isNaN(l.value)?!1:l;let u=parseFloat(l);return Ge(u)&&Math.floor(u)===u?XL(l[0],i,u,s):["origin","start","end","stack","shape"].indexOf(l)>=0&&l}function XL(r,i,s,l){return(r==="-"||r==="+")&&(s=i+s),s===i||s<0||s>=l?!1:s}function JL(r,i){let s=null;return r==="start"?s=i.bottom:r==="end"?s=i.top:Ft(r)?s=i.getPixelForValue(r.value):i.getBasePixel&&(s=i.getBasePixel()),s}function tz(r,i,s){let l;return r==="start"?l=s:r==="end"?l=i.options.reverse?i.min:i.max:Ft(r)?l=r.value:l=i.getBaseValue(),l}function ez(r){const i=r.options,s=i.fill;let l=Pt(s&&s.target,s);return l===void 0&&(l=!!i.backgroundColor),l===!1||l===null?!1:l===!0?"origin":l}function nz(r){const{scale:i,index:s,line:l}=r,u=[],g=l.segments,d=l.points,f=iz(i,s);f.push(OC({x:null,y:i.bottom},l));for(let p=0;p<g.length;p++){const k=g[p];for(let C=k.start;C<=k.end;C++)oz(u,d[C],f)}return new go({points:u,options:{}})}function iz(r,i){const s=[],l=r.getMatchingVisibleMetas("line");for(let u=0;u<l.length;u++){const g=l[u];if(g.index===i)break;g.hidden||s.unshift(g.dataset)}return s}function oz(r,i,s){const l=[];for(let u=0;u<s.length;u++){const g=s[u],{first:d,last:f,point:p}=rz(g,i,"x");if(!(!p||d&&f)){if(d)l.unshift(p);else if(r.push(p),!f)break}}r.push(...l)}function rz(r,i,s){const l=r.interpolate(i,s);if(!l)return{};const u=l[s],g=r.segments,d=r.points;let f=!1,p=!1;for(let k=0;k<g.length;k++){const C=g[k],w=d[C.start][s],x=d[C.end][s];if(Yi(u,w,x)){f=u===w,p=u===x;break}}return{first:f,last:p,point:l}}class NC{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,s,l){const{x:u,y:g,radius:d}=this;return s=s||{start:0,end:de},i.arc(u,g,d,s.end,s.start,!0),!l.bounds}interpolate(i){const{x:s,y:l,radius:u}=this,g=i.angle;return{x:s+Math.cos(g)*u,y:l+Math.sin(g)*u,angle:g}}}function sz(r){const{chart:i,fill:s,line:l}=r;if(Ge(s))return az(i,s);if(s==="stack")return nz(r);if(s==="shape")return!0;const u=lz(r);return u instanceof NC?u:OC(u,l)}function az(r,i){const s=r.getDatasetMeta(i);return s&&r.isDatasetVisible(i)?s.dataset:null}function lz(r){return(r.scale||{}).getPointPositionForValue?dz(r):cz(r)}function cz(r){const{scale:i={},fill:s}=r,l=JL(s,i);if(Ge(l)){const u=i.isHorizontal();return{x:u?l:null,y:u?null:l}}return null}function dz(r){const{scale:i,fill:s}=r,l=i.options,u=i.getLabels().length,g=l.reverse?i.max:i.min,d=tz(s,i,g),f=[];if(l.grid.circular){const p=i.getPointPositionForValue(0,g);return new NC({x:p.x,y:p.y,radius:i.getDistanceFromCenterForValue(d)})}for(let p=0;p<u;++p)f.push(i.getPointPositionForValue(p,d));return f}function Cu(r,i,s){const l=sz(i),{line:u,scale:g,axis:d}=i,f=u.options,p=f.fill,k=f.backgroundColor,{above:C=k,below:w=k}=p||{};l&&u.points.length&&(jl(r,s),uz(r,{line:u,target:l,above:C,below:w,area:s,scale:g,axis:d}),Fl(r))}function uz(r,i){const{line:s,target:l,above:u,below:g,area:d,scale:f}=i,p=s._loop?"angle":i.axis;r.save(),p==="x"&&g!==u&&(Lv(r,l,d.top),zv(r,{line:s,target:l,color:u,scale:f,property:p}),r.restore(),r.save(),Lv(r,l,d.bottom)),zv(r,{line:s,target:l,color:g,scale:f,property:p}),r.restore()}function Lv(r,i,s){const{segments:l,points:u}=i;let g=!0,d=!1;r.beginPath();for(const f of l){const{start:p,end:k}=f,C=u[p],w=u[ah(p,k,u)];g?(r.moveTo(C.x,C.y),g=!1):(r.lineTo(C.x,s),r.lineTo(C.x,C.y)),d=!!i.pathSegment(r,f,{move:d}),d?r.closePath():r.lineTo(w.x,s)}r.lineTo(i.first().x,s),r.closePath(),r.clip()}function zv(r,i){const{line:s,target:l,property:u,color:g,scale:d}=i,f=KL(s,l,u);for(const{source:p,target:k,start:C,end:w}of f){const{style:{backgroundColor:x=g}={}}=p,E=l!==!0;r.save(),r.fillStyle=x,hz(r,d,E&&Ru(u,C,w)),r.beginPath();const D=!!s.pathSegment(r,p);let I;if(E){D?r.closePath():Rv(r,l,w,u);const P=!!l.pathSegment(r,k,{move:D,reverse:!0});I=D&&P,I||Rv(r,l,C,u)}r.closePath(),r.fill(I?"evenodd":"nonzero"),r.restore()}}function hz(r,i,s){const{top:l,bottom:u}=i.chart.chartArea,{property:g,start:d,end:f}=s||{};g==="x"&&(r.beginPath(),r.rect(d,l,f-d,u-l),r.clip())}function Rv(r,i,s,l){const u=i.interpolate(s,l);u&&r.lineTo(u.x,u.y)}var gz={id:"filler",afterDatasetsUpdate(r,i,s){const l=(r.data.datasets||[]).length,u=[];let g,d,f,p;for(d=0;d<l;++d)g=r.getDatasetMeta(d),f=g.dataset,p=null,f&&f.options&&f instanceof go&&(p={visible:r.isDatasetVisible(d),index:d,fill:qL(f,d,l),chart:r,axis:g.controller.options.indexAxis,scale:g.vScale,line:f}),g.$filler=p,u.push(p);for(d=0;d<l;++d)p=u[d],!(!p||p.fill===!1)&&(p.fill=ZL(u,d,s.propagate))},beforeDraw(r,i,s){const l=s.drawTime==="beforeDraw",u=r.getSortedVisibleDatasetMetas(),g=r.chartArea;for(let d=u.length-1;d>=0;--d){const f=u[d].$filler;!f||(f.line.updateControlPoints(g,f.axis),l&&f.fill&&Cu(r.ctx,f,g))}},beforeDatasetsDraw(r,i,s){if(s.drawTime!=="beforeDatasetsDraw")return;const l=r.getSortedVisibleDatasetMetas();for(let u=l.length-1;u>=0;--u){const g=l[u].$filler;Bv(g)&&Cu(r.ctx,g,r.chartArea)}},beforeDatasetDraw(r,i,s){const l=i.meta.$filler;!Bv(l)||s.drawTime!=="beforeDatasetDraw"||Cu(r.ctx,l,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const jv=(r,i)=>{let{boxHeight:s=i,boxWidth:l=i}=r;return r.usePointStyle&&(s=Math.min(s,i),l=r.pointStyleWidth||Math.min(l,i)),{boxWidth:l,boxHeight:s,itemHeight:Math.max(i,s)}},fz=(r,i)=>r!==null&&i!==null&&r.datasetIndex===i.datasetIndex&&r.index===i.index;class Fv extends mi{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,s,l){this.maxWidth=i,this.maxHeight=s,this._margins=l,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let s=ve(i.generateLabels,[this.chart],this)||[];i.filter&&(s=s.filter(l=>i.filter(l,this.chart.data))),i.sort&&(s=s.sort((l,u)=>i.sort(l,u,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:i,ctx:s}=this;if(!i.display){this.width=this.height=0;return}const l=i.labels,u=Xe(l.font),g=u.size,d=this._computeTitleHeight(),{boxWidth:f,itemHeight:p}=jv(l,g);let k,C;s.font=u.string,this.isHorizontal()?(k=this.maxWidth,C=this._fitRows(d,g,f,p)+10):(C=this.maxHeight,k=this._fitCols(d,g,f,p)+10),this.width=Math.min(k,i.maxWidth||this.maxWidth),this.height=Math.min(C,i.maxHeight||this.maxHeight)}_fitRows(i,s,l,u){const{ctx:g,maxWidth:d,options:{labels:{padding:f}}}=this,p=this.legendHitBoxes=[],k=this.lineWidths=[0],C=u+f;let w=i;g.textAlign="left",g.textBaseline="middle";let x=-1,E=-C;return this.legendItems.forEach((D,I)=>{const P=l+s/2+g.measureText(D.text).width;(I===0||k[k.length-1]+P+2*f>d)&&(w+=C,k[k.length-(I>0?0:1)]=0,E+=C,x++),p[I]={left:0,top:E,row:x,width:P,height:u},k[k.length-1]+=P+f}),w}_fitCols(i,s,l,u){const{ctx:g,maxHeight:d,options:{labels:{padding:f}}}=this,p=this.legendHitBoxes=[],k=this.columnSizes=[],C=d-i;let w=f,x=0,E=0,D=0,I=0;return this.legendItems.forEach((P,B)=>{const z=l+s/2+g.measureText(P.text).width;B>0&&E+u+2*f>C&&(w+=x+f,k.push({width:x,height:E}),D+=x+f,I++,x=E=0),p[B]={left:D,top:E,col:I,width:z,height:u},x=Math.max(x,z),E+=u+f}),w+=x,k.push({width:x,height:E}),w}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:l,labels:{padding:u},rtl:g}}=this,d=Br(g,this.left,this.width);if(this.isHorizontal()){let f=0,p=kn(l,this.left+u,this.right-this.lineWidths[f]);for(const k of s)f!==k.row&&(f=k.row,p=kn(l,this.left+u,this.right-this.lineWidths[f])),k.top+=this.top+i+u,k.left=d.leftForLtr(d.x(p),k.width),p+=k.width+u}else{let f=0,p=kn(l,this.top+i+u,this.bottom-this.columnSizes[f].height);for(const k of s)k.col!==f&&(f=k.col,p=kn(l,this.top+i+u,this.bottom-this.columnSizes[f].height)),k.top=p,k.left+=this.left+u,k.left=d.leftForLtr(d.x(k.left),k.width),p+=k.height+u}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const i=this.ctx;jl(i,this),this._draw(),Fl(i)}}_draw(){const{options:i,columnSizes:s,lineWidths:l,ctx:u}=this,{align:g,labels:d}=i,f=Vt.color,p=Br(i.rtl,this.left,this.width),k=Xe(d.font),{color:C,padding:w}=d,x=k.size,E=x/2;let D;this.drawTitle(),u.textAlign=p.textAlign("left"),u.textBaseline="middle",u.lineWidth=.5,u.font=k.string;const{boxWidth:I,boxHeight:P,itemHeight:B}=jv(d,x),z=function($,G,V){if(isNaN(I)||I<=0||isNaN(P)||P<0)return;u.save();const Q=Pt(V.lineWidth,1);if(u.fillStyle=Pt(V.fillStyle,f),u.lineCap=Pt(V.lineCap,"butt"),u.lineDashOffset=Pt(V.lineDashOffset,0),u.lineJoin=Pt(V.lineJoin,"miter"),u.lineWidth=Q,u.strokeStyle=Pt(V.strokeStyle,f),u.setLineDash(Pt(V.lineDash,[])),d.usePointStyle){const nt={radius:P*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:Q},J=p.xPlus($,I/2),X=G+E;tC(u,nt,J,X,d.pointStyleWidth&&I)}else{const nt=G+Math.max((x-P)/2,0),J=p.leftForLtr($,I),X=Vo(V.borderRadius);u.beginPath(),Object.values(X).some(lt=>lt!==0)?Vs(u,{x:J,y:nt,w:I,h:P,radius:X}):u.rect(J,nt,I,P),u.fill(),Q!==0&&u.stroke()}u.restore()},U=function($,G,V){Go(u,V.text,$,G+B/2,k,{strikethrough:V.hidden,textAlign:p.textAlign(V.textAlign)})},R=this.isHorizontal(),F=this._computeTitleHeight();R?D={x:kn(g,this.left+w,this.right-l[0]),y:this.top+w+F,line:0}:D={x:this.left+w,y:kn(g,this.top+F+w,this.bottom-s[0].height),line:0},cC(this.ctx,i.textDirection);const H=B+w;this.legendItems.forEach(($,G)=>{u.strokeStyle=$.fontColor||C,u.fillStyle=$.fontColor||C;const V=u.measureText($.text).width,Q=p.textAlign($.textAlign||($.textAlign=d.textAlign)),nt=I+E+V;let J=D.x,X=D.y;p.setWidth(this.width),R?G>0&&J+nt+w>this.right&&(X=D.y+=H,D.line++,J=D.x=kn(g,this.left+w,this.right-l[D.line])):G>0&&X+H>this.bottom&&(J=D.x=J+s[D.line].width+w,D.line++,X=D.y=kn(g,this.top+F+w,this.bottom-s[D.line].height));const lt=p.x(J);z(lt,X,$),J=xN(Q,J+I+E,R?J+nt:this.right,i.rtl),U(p.x(J),X,$),R?D.x+=nt+w:D.y+=H}),dC(this.ctx,i.textDirection)}drawTitle(){const i=this.options,s=i.title,l=Xe(s.font),u=_n(s.padding);if(!s.display)return;const g=Br(i.rtl,this.left,this.width),d=this.ctx,f=s.position,p=l.size/2,k=u.top+p;let C,w=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),C=this.top+k,w=kn(i.align,w,this.right-x);else{const D=this.columnSizes.reduce((I,P)=>Math.max(I,P.height),0);C=k+kn(i.align,this.top,this.bottom-D-i.labels.padding-this._computeTitleHeight())}const E=kn(f,w,w+x);d.textAlign=g.textAlign(qu(f)),d.textBaseline="middle",d.strokeStyle=s.color,d.fillStyle=s.color,d.font=l.string,Go(d,s.text,E,C,l)}_computeTitleHeight(){const i=this.options.title,s=Xe(i.font),l=_n(i.padding);return i.display?s.lineHeight+l.height:0}_getLegendItemAt(i,s){let l,u,g;if(Yi(i,this.left,this.right)&&Yi(s,this.top,this.bottom)){for(g=this.legendHitBoxes,l=0;l<g.length;++l)if(u=g[l],Yi(i,u.left,u.left+u.width)&&Yi(s,u.top,u.top+u.height))return this.legendItems[l]}return null}handleEvent(i){const s=this.options;if(!pz(i.type,s))return;const l=this._getLegendItemAt(i.x,i.y);if(i.type==="mousemove"||i.type==="mouseout"){const u=this._hoveredItem,g=fz(u,l);u&&!g&&ve(s.onLeave,[i,u,this],this),this._hoveredItem=l,l&&!g&&ve(s.onHover,[i,l,this],this)}else l&&ve(s.onClick,[i,l,this],this)}}function pz(r,i){return!!((r==="mousemove"||r==="mouseout")&&(i.onHover||i.onLeave)||i.onClick&&(r==="click"||r==="mouseup"))}var mz={id:"legend",_element:Fv,start(r,i,s){const l=r.legend=new Fv({ctx:r.ctx,options:s,chart:r});Cn.configure(r,l,s),Cn.addBox(r,l)},stop(r){Cn.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,i,s){const l=r.legend;Cn.configure(r,l,s),l.options=s},afterUpdate(r){const i=r.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(r,i){i.replay||r.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,i,s){const l=i.datasetIndex,u=s.chart;u.isDatasetVisible(l)?(u.hide(l),i.hidden=!0):(u.show(l),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const i=r.data.datasets,{labels:{usePointStyle:s,pointStyle:l,textAlign:u,color:g}}=r.legend.options;return r._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(s?0:void 0),p=_n(f.borderWidth);return{text:i[d.index].label,fillStyle:f.backgroundColor,fontColor:g,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:l||f.pointStyle,rotation:f.rotation,textAlign:u||f.textAlign,borderRadius:0,datasetIndex:d.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class lh extends mi{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,s){const l=this.options;if(this.left=0,this.top=0,!l.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=i,this.height=this.bottom=s;const u=Ce(l.text)?l.text.length:1;this._padding=_n(l.padding);const g=u*Xe(l.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const i=this.options.position;return i==="top"||i==="bottom"}_drawArgs(i){const{top:s,left:l,bottom:u,right:g,options:d}=this,f=d.align;let p=0,k,C,w;return this.isHorizontal()?(C=kn(f,l,g),w=s+i,k=g-l):(d.position==="left"?(C=l+i,w=kn(f,u,s),p=Oe*-.5):(C=g-i,w=kn(f,s,u),p=Oe*.5),k=u-s),{titleX:C,titleY:w,maxWidth:k,rotation:p}}draw(){const i=this.ctx,s=this.options;if(!s.display)return;const l=Xe(s.font),g=l.lineHeight/2+this._padding.top,{titleX:d,titleY:f,maxWidth:p,rotation:k}=this._drawArgs(g);Go(i,s.text,0,0,l,{color:s.color,maxWidth:p,rotation:k,textAlign:qu(s.align),textBaseline:"middle",translation:[d,f]})}}function bz(r,i){const s=new lh({ctx:r.ctx,options:i,chart:r});Cn.configure(r,s,i),Cn.addBox(r,s),r.titleBlock=s}var kz={id:"title",_element:lh,start(r,i,s){bz(r,s)},stop(r){const i=r.titleBlock;Cn.removeBox(r,i),delete r.titleBlock},beforeUpdate(r,i,s){const l=r.titleBlock;Cn.configure(r,l,s),l.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sl=new WeakMap;var wz={id:"subtitle",start(r,i,s){const l=new lh({ctx:r.ctx,options:s,chart:r});Cn.configure(r,l,s),Cn.addBox(r,l),sl.set(r,l)},stop(r){Cn.removeBox(r,sl.get(r)),sl.delete(r)},beforeUpdate(r,i,s){const l=sl.get(r);Cn.configure(r,l,s),l.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zs={average(r){if(!r.length)return!1;let i,s,l=0,u=0,g=0;for(i=0,s=r.length;i<s;++i){const d=r[i].element;if(d&&d.hasValue()){const f=d.tooltipPosition();l+=f.x,u+=f.y,++g}}return{x:l/g,y:u/g}},nearest(r,i){if(!r.length)return!1;let s=i.x,l=i.y,u=Number.POSITIVE_INFINITY,g,d,f;for(g=0,d=r.length;g<d;++g){const p=r[g].element;if(p&&p.hasValue()){const k=p.getCenterPoint(),C=Mu(i,k);C<u&&(u=C,f=p)}}if(f){const p=f.tooltipPosition();s=p.x,l=p.y}return{x:s,y:l}}};function Si(r,i){return i&&(Ce(i)?Array.prototype.push.apply(r,i):r.push(i)),r}function Wi(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function vz(r,i){const{element:s,datasetIndex:l,index:u}=i,g=r.getDatasetMeta(l).controller,{label:d,value:f}=g.getLabelAndValue(u);return{chart:r,label:d,parsed:g.getParsed(u),raw:r.data.datasets[l].data[u],formattedValue:f,dataset:g.getDataset(),dataIndex:u,datasetIndex:l,element:s}}function Vv(r,i){const s=r.chart.ctx,{body:l,footer:u,title:g}=r,{boxWidth:d,boxHeight:f}=i,p=Xe(i.bodyFont),k=Xe(i.titleFont),C=Xe(i.footerFont),w=g.length,x=u.length,E=l.length,D=_n(i.padding);let I=D.height,P=0,B=l.reduce((R,F)=>R+F.before.length+F.lines.length+F.after.length,0);if(B+=r.beforeBody.length+r.afterBody.length,w&&(I+=w*k.lineHeight+(w-1)*i.titleSpacing+i.titleMarginBottom),B){const R=i.displayColors?Math.max(f,p.lineHeight):p.lineHeight;I+=E*R+(B-E)*p.lineHeight+(B-1)*i.bodySpacing}x&&(I+=i.footerMarginTop+x*C.lineHeight+(x-1)*i.footerSpacing);let z=0;const U=function(R){P=Math.max(P,s.measureText(R).width+z)};return s.save(),s.font=k.string,ie(r.title,U),s.font=p.string,ie(r.beforeBody.concat(r.afterBody),U),z=i.displayColors?d+2+i.boxPadding:0,ie(l,R=>{ie(R.before,U),ie(R.lines,U),ie(R.after,U)}),z=0,s.font=C.string,ie(r.footer,U),s.restore(),P+=D.width,{width:P,height:I}}function Cz(r,i){const{y:s,height:l}=i;return s<l/2?"top":s>r.height-l/2?"bottom":"center"}function _z(r,i,s,l){const{x:u,width:g}=l,d=s.caretSize+s.caretPadding;if(r==="left"&&u+g+d>i.width||r==="right"&&u-g-d<0)return!0}function Az(r,i,s,l){const{x:u,width:g}=s,{width:d,chartArea:{left:f,right:p}}=r;let k="center";return l==="center"?k=u<=(f+p)/2?"left":"right":u<=g/2?k="left":u>=d-g/2&&(k="right"),_z(k,r,i,s)&&(k="center"),k}function Uv(r,i,s){const l=s.yAlign||i.yAlign||Cz(r,s);return{xAlign:s.xAlign||i.xAlign||Az(r,i,s,l),yAlign:l}}function yz(r,i){let{x:s,width:l}=r;return i==="right"?s-=l:i==="center"&&(s-=l/2),s}function xz(r,i,s){let{y:l,height:u}=r;return i==="top"?l+=s:i==="bottom"?l-=u+s:l-=u/2,l}function Hv(r,i,s,l){const{caretSize:u,caretPadding:g,cornerRadius:d}=r,{xAlign:f,yAlign:p}=s,k=u+g,{topLeft:C,topRight:w,bottomLeft:x,bottomRight:E}=Vo(d);let D=yz(i,f);const I=xz(i,p,k);return p==="center"?f==="left"?D+=k:f==="right"&&(D-=k):f==="left"?D-=Math.max(C,x)+u:f==="right"&&(D+=Math.max(w,E)+u),{x:on(D,0,l.width-i.width),y:on(I,0,l.height-i.height)}}function al(r,i,s){const l=_n(s.padding);return i==="center"?r.x+r.width/2:i==="right"?r.x+r.width-l.right:r.x+l.left}function $v(r){return Si([],Wi(r))}function Ez(r,i,s){return ho(r,{tooltip:i,tooltipItems:s,type:"tooltip"})}function Wv(r,i){const s=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return s?r.override(s):r}class ju extends mi{constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart||i._chart,this._chart=this.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const i=this._cachedAnimations;if(i)return i;const s=this.chart,l=this.options.setContext(this.getContext()),u=l.enabled&&s.options.animation&&l.animations,g=new fC(this.chart,u);return u._cacheable&&(this._cachedAnimations=Object.freeze(g)),g}getContext(){return this.$context||(this.$context=Ez(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,s){const{callbacks:l}=s,u=l.beforeTitle.apply(this,[i]),g=l.title.apply(this,[i]),d=l.afterTitle.apply(this,[i]);let f=[];return f=Si(f,Wi(u)),f=Si(f,Wi(g)),f=Si(f,Wi(d)),f}getBeforeBody(i,s){return $v(s.callbacks.beforeBody.apply(this,[i]))}getBody(i,s){const{callbacks:l}=s,u=[];return ie(i,g=>{const d={before:[],lines:[],after:[]},f=Wv(l,g);Si(d.before,Wi(f.beforeLabel.call(this,g))),Si(d.lines,f.label.call(this,g)),Si(d.after,Wi(f.afterLabel.call(this,g))),u.push(d)}),u}getAfterBody(i,s){return $v(s.callbacks.afterBody.apply(this,[i]))}getFooter(i,s){const{callbacks:l}=s,u=l.beforeFooter.apply(this,[i]),g=l.footer.apply(this,[i]),d=l.afterFooter.apply(this,[i]);let f=[];return f=Si(f,Wi(u)),f=Si(f,Wi(g)),f=Si(f,Wi(d)),f}_createItems(i){const s=this._active,l=this.chart.data,u=[],g=[],d=[];let f=[],p,k;for(p=0,k=s.length;p<k;++p)f.push(vz(this.chart,s[p]));return i.filter&&(f=f.filter((C,w,x)=>i.filter(C,w,x,l))),i.itemSort&&(f=f.sort((C,w)=>i.itemSort(C,w,l))),ie(f,C=>{const w=Wv(i.callbacks,C);u.push(w.labelColor.call(this,C)),g.push(w.labelPointStyle.call(this,C)),d.push(w.labelTextColor.call(this,C))}),this.labelColors=u,this.labelPointStyles=g,this.labelTextColors=d,this.dataPoints=f,f}update(i,s){const l=this.options.setContext(this.getContext()),u=this._active;let g,d=[];if(!u.length)this.opacity!==0&&(g={opacity:0});else{const f=zs[l.position].call(this,u,this._eventPosition);d=this._createItems(l),this.title=this.getTitle(d,l),this.beforeBody=this.getBeforeBody(d,l),this.body=this.getBody(d,l),this.afterBody=this.getAfterBody(d,l),this.footer=this.getFooter(d,l);const p=this._size=Vv(this,l),k=Object.assign({},f,p),C=Uv(this.chart,l,k),w=Hv(l,k,C,this.chart);this.xAlign=C.xAlign,this.yAlign=C.yAlign,g={opacity:1,x:w.x,y:w.y,width:p.width,height:p.height,caretX:f.x,caretY:f.y}}this._tooltipItems=d,this.$context=void 0,g&&this._resolveAnimations().update(this,g),i&&l.external&&l.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(i,s,l,u){const g=this.getCaretPosition(i,l,u);s.lineTo(g.x1,g.y1),s.lineTo(g.x2,g.y2),s.lineTo(g.x3,g.y3)}getCaretPosition(i,s,l){const{xAlign:u,yAlign:g}=this,{caretSize:d,cornerRadius:f}=l,{topLeft:p,topRight:k,bottomLeft:C,bottomRight:w}=Vo(f),{x,y:E}=i,{width:D,height:I}=s;let P,B,z,U,R,F;return g==="center"?(R=E+I/2,u==="left"?(P=x,B=P-d,U=R+d,F=R-d):(P=x+D,B=P+d,U=R-d,F=R+d),z=P):(u==="left"?B=x+Math.max(p,C)+d:u==="right"?B=x+D-Math.max(k,w)-d:B=this.caretX,g==="top"?(U=E,R=U-d,P=B-d,z=B+d):(U=E+I,R=U+d,P=B+d,z=B-d),F=U),{x1:P,x2:B,x3:z,y1:U,y2:R,y3:F}}drawTitle(i,s,l){const u=this.title,g=u.length;let d,f,p;if(g){const k=Br(l.rtl,this.x,this.width);for(i.x=al(this,l.titleAlign,l),s.textAlign=k.textAlign(l.titleAlign),s.textBaseline="middle",d=Xe(l.titleFont),f=l.titleSpacing,s.fillStyle=l.titleColor,s.font=d.string,p=0;p<g;++p)s.fillText(u[p],k.x(i.x),i.y+d.lineHeight/2),i.y+=d.lineHeight+f,p+1===g&&(i.y+=l.titleMarginBottom-f)}}_drawColorBox(i,s,l,u,g){const d=this.labelColors[l],f=this.labelPointStyles[l],{boxHeight:p,boxWidth:k,boxPadding:C}=g,w=Xe(g.bodyFont),x=al(this,"left",g),E=u.x(x),D=p<w.lineHeight?(w.lineHeight-p)/2:0,I=s.y+D;if(g.usePointStyle){const P={radius:Math.min(k,p)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},B=u.leftForLtr(E,k)+k/2,z=I+p/2;i.strokeStyle=g.multiKeyBackground,i.fillStyle=g.multiKeyBackground,Pu(i,P,B,z),i.strokeStyle=d.borderColor,i.fillStyle=d.backgroundColor,Pu(i,P,B,z)}else{i.lineWidth=Ft(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,i.strokeStyle=d.borderColor,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset||0;const P=u.leftForLtr(E,k-C),B=u.leftForLtr(u.xPlus(E,1),k-C-2),z=Vo(d.borderRadius);Object.values(z).some(U=>U!==0)?(i.beginPath(),i.fillStyle=g.multiKeyBackground,Vs(i,{x:P,y:I,w:k,h:p,radius:z}),i.fill(),i.stroke(),i.fillStyle=d.backgroundColor,i.beginPath(),Vs(i,{x:B,y:I+1,w:k-2,h:p-2,radius:z}),i.fill()):(i.fillStyle=g.multiKeyBackground,i.fillRect(P,I,k,p),i.strokeRect(P,I,k,p),i.fillStyle=d.backgroundColor,i.fillRect(B,I+1,k-2,p-2))}i.fillStyle=this.labelTextColors[l]}drawBody(i,s,l){const{body:u}=this,{bodySpacing:g,bodyAlign:d,displayColors:f,boxHeight:p,boxWidth:k,boxPadding:C}=l,w=Xe(l.bodyFont);let x=w.lineHeight,E=0;const D=Br(l.rtl,this.x,this.width),I=function(G){s.fillText(G,D.x(i.x+E),i.y+x/2),i.y+=x+g},P=D.textAlign(d);let B,z,U,R,F,H,$;for(s.textAlign=d,s.textBaseline="middle",s.font=w.string,i.x=al(this,P,l),s.fillStyle=l.bodyColor,ie(this.beforeBody,I),E=f&&P!=="right"?d==="center"?k/2+C:k+2+C:0,R=0,H=u.length;R<H;++R){for(B=u[R],z=this.labelTextColors[R],s.fillStyle=z,ie(B.before,I),U=B.lines,f&&U.length&&(this._drawColorBox(s,i,R,D,l),x=Math.max(w.lineHeight,p)),F=0,$=U.length;F<$;++F)I(U[F]),x=w.lineHeight;ie(B.after,I)}E=0,x=w.lineHeight,ie(this.afterBody,I),i.y-=g}drawFooter(i,s,l){const u=this.footer,g=u.length;let d,f;if(g){const p=Br(l.rtl,this.x,this.width);for(i.x=al(this,l.footerAlign,l),i.y+=l.footerMarginTop,s.textAlign=p.textAlign(l.footerAlign),s.textBaseline="middle",d=Xe(l.footerFont),s.fillStyle=l.footerColor,s.font=d.string,f=0;f<g;++f)s.fillText(u[f],p.x(i.x),i.y+d.lineHeight/2),i.y+=d.lineHeight+l.footerSpacing}}drawBackground(i,s,l,u){const{xAlign:g,yAlign:d}=this,{x:f,y:p}=i,{width:k,height:C}=l,{topLeft:w,topRight:x,bottomLeft:E,bottomRight:D}=Vo(u.cornerRadius);s.fillStyle=u.backgroundColor,s.strokeStyle=u.borderColor,s.lineWidth=u.borderWidth,s.beginPath(),s.moveTo(f+w,p),d==="top"&&this.drawCaret(i,s,l,u),s.lineTo(f+k-x,p),s.quadraticCurveTo(f+k,p,f+k,p+x),d==="center"&&g==="right"&&this.drawCaret(i,s,l,u),s.lineTo(f+k,p+C-D),s.quadraticCurveTo(f+k,p+C,f+k-D,p+C),d==="bottom"&&this.drawCaret(i,s,l,u),s.lineTo(f+E,p+C),s.quadraticCurveTo(f,p+C,f,p+C-E),d==="center"&&g==="left"&&this.drawCaret(i,s,l,u),s.lineTo(f,p+w),s.quadraticCurveTo(f,p,f+w,p),s.closePath(),s.fill(),u.borderWidth>0&&s.stroke()}_updateAnimationTarget(i){const s=this.chart,l=this.$animations,u=l&&l.x,g=l&&l.y;if(u||g){const d=zs[i.position].call(this,this._active,this._eventPosition);if(!d)return;const f=this._size=Vv(this,i),p=Object.assign({},d,this._size),k=Uv(s,i,p),C=Hv(i,p,k,s);(u._to!==C.x||g._to!==C.y)&&(this.xAlign=k.xAlign,this.yAlign=k.yAlign,this.width=f.width,this.height=f.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,C))}}_willRender(){return!!this.opacity}draw(i){const s=this.options.setContext(this.getContext());let l=this.opacity;if(!l)return;this._updateAnimationTarget(s);const u={width:this.width,height:this.height},g={x:this.x,y:this.y};l=Math.abs(l)<.001?0:l;const d=_n(s.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&f&&(i.save(),i.globalAlpha=l,this.drawBackground(g,i,u,s),cC(i,s.textDirection),g.y+=d.top,this.drawTitle(g,i,s),this.drawBody(g,i,s),this.drawFooter(g,i,s),dC(i,s.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,s){const l=this._active,u=i.map(({datasetIndex:f,index:p})=>{const k=this.chart.getDatasetMeta(f);if(!k)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:k.data[p],index:p}}),g=!vl(l,u),d=this._positionChanged(u,s);(g||d)&&(this._active=u,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,s,l=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const u=this.options,g=this._active||[],d=this._getActiveElements(i,g,s,l),f=this._positionChanged(d,i),p=s||!vl(d,g)||f;return p&&(this._active=d,(u.enabled||u.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,s))),p}_getActiveElements(i,s,l,u){const g=this.options;if(i.type==="mouseout")return[];if(!u)return s;const d=this.chart.getElementsAtEventForMode(i,g.mode,g,l);return g.reverse&&d.reverse(),d}_positionChanged(i,s){const{caretX:l,caretY:u,options:g}=this,d=zs[g.position].call(this,i,s);return d!==!1&&(l!==d.x||u!==d.y)}}ju.positioners=zs;var Sz={id:"tooltip",_element:ju,positioners:zs,afterInit(r,i,s){s&&(r.tooltip=new ju({chart:r,options:s}))},beforeUpdate(r,i,s){r.tooltip&&r.tooltip.initialize(s)},reset(r,i,s){r.tooltip&&r.tooltip.initialize(s)},afterDraw(r){const i=r.tooltip;if(i&&i._willRender()){const s={tooltip:i};if(r.notifyPlugins("beforeTooltipDraw",s)===!1)return;i.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",s)}},afterEvent(r,i){if(r.tooltip){const s=i.replay;r.tooltip.handleEvent(i.event,s,i.inChartArea)&&(i.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,i)=>i.bodyFont.size,boxWidth:(r,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Hi,title(r){if(r.length>0){const i=r[0],s=i.chart.data.labels,l=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return i.dataset.label||"";if(i.label)return i.label;if(l>0&&i.dataIndex<l)return s[i.dataIndex]}return""},afterTitle:Hi,beforeBody:Hi,beforeLabel:Hi,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let i=r.dataset.label||"";i&&(i+=": ");const s=r.formattedValue;return Wt(s)||(i+=s),i},labelColor(r){const s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Hi,afterBody:Hi,beforeFooter:Hi,footer:Hi,afterFooter:Hi}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Dz=Object.freeze({__proto__:null,Decimation:YL,Filler:gz,Legend:mz,SubTitle:wz,Title:kz,Tooltip:Sz});const Mz=(r,i,s,l)=>(typeof i=="string"?(s=r.push(i)-1,l.unshift({index:s,label:i})):isNaN(i)&&(s=null),s);function Iz(r,i,s,l){const u=r.indexOf(i);if(u===-1)return Mz(r,i,s,l);const g=r.lastIndexOf(i);return u!==g?s:u}const Tz=(r,i)=>r===null?null:on(Math.round(r),0,i);class Dl extends Yo{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const s=this._addedLabels;if(s.length){const l=this.getLabels();for(const{index:u,label:g}of s)l[u]===g&&l.splice(u,1);this._addedLabels=[]}super.init(i)}parse(i,s){if(Wt(i))return null;const l=this.getLabels();return s=isFinite(s)&&l[s]===i?s:Iz(l,i,Pt(s,i),this._addedLabels),Tz(s,l.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:l,max:u}=this.getMinMax(!0);this.options.bounds==="ticks"&&(i||(l=0),s||(u=this.getLabels().length-1)),this.min=l,this.max=u}buildTicks(){const i=this.min,s=this.max,l=this.options.offset,u=[];let g=this.getLabels();g=i===0&&s===g.length-1?g:g.slice(i,s+1),this._valueRange=Math.max(g.length-(l?0:1),1),this._startValue=this.min-(l?.5:0);for(let d=i;d<=s;d++)u.push({value:d});return u}getLabelForValue(i){const s=this.getLabels();return i>=0&&i<s.length?s[i]:i}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return typeof i!="number"&&(i=this.parse(i)),i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const s=this.ticks;return i<0||i>s.length-1?null:this.getPixelForValue(s[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}Dl.id="category";Dl.defaults={ticks:{callback:Dl.prototype.getLabelForValue}};function Pz(r,i){const s=[],{bounds:u,step:g,min:d,max:f,precision:p,count:k,maxTicks:C,maxDigits:w,includeBounds:x}=r,E=g||1,D=C-1,{min:I,max:P}=i,B=!Wt(d),z=!Wt(f),U=!Wt(k),R=(P-I)/(w+1);let F=Uw((P-I)/D/E)*E,H,$,G,V;if(F<1e-14&&!B&&!z)return[{value:I},{value:P}];V=Math.ceil(P/F)-Math.floor(I/F),V>D&&(F=Uw(V*F/D/E)*E),Wt(p)||(H=Math.pow(10,p),F=Math.ceil(F*H)/H),u==="ticks"?($=Math.floor(I/F)*F,G=Math.ceil(P/F)*F):($=I,G=P),B&&z&&g&&kN((f-d)/g,F/1e3)?(V=Math.round(Math.min((f-d)/F,C)),F=(f-d)/V,$=d,G=f):U?($=B?d:$,G=z?f:G,V=k-1,F=(G-$)/V):(V=(G-$)/F,Ns(V,Math.round(V),F/1e3)?V=Math.round(V):V=Math.ceil(V));const Q=Math.max(Hw(F),Hw($));H=Math.pow(10,Wt(p)?Q:p),$=Math.round($*H)/H,G=Math.round(G*H)/H;let nt=0;for(B&&(x&&$!==d?(s.push({value:d}),$<d&&nt++,Ns(Math.round(($+nt*F)*H)/H,d,Gv(d,R,r))&&nt++):$<d&&nt++);nt<V;++nt)s.push({value:Math.round(($+nt*F)*H)/H});return z&&x&&G!==f?s.length&&Ns(s[s.length-1].value,f,Gv(f,R,r))?s[s.length-1].value=f:s.push({value:f}):(!z||G===f)&&s.push({value:G}),s}function Gv(r,i,{horizontal:s,minRotation:l}){const u=fi(l),g=(s?Math.sin(u):Math.cos(u))||.001,d=.75*i*(""+r).length;return Math.min(i/g,d)}class Ml extends Yo{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,s){return Wt(i)||(typeof i=="number"||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:s,maxDefined:l}=this.getUserBounds();let{min:u,max:g}=this;const d=p=>u=s?u:p,f=p=>g=l?g:p;if(i){const p=Ii(u),k=Ii(g);p<0&&k<0?f(0):p>0&&k>0&&d(0)}if(u===g){let p=1;(g>=Number.MAX_SAFE_INTEGER||u<=Number.MIN_SAFE_INTEGER)&&(p=Math.abs(g*.05)),f(g+p),i||d(u-p)}this.min=u,this.max=g}getTickLimit(){const i=this.options.ticks;let{maxTicksLimit:s,stepSize:l}=i,u;return l?(u=Math.ceil(this.max/l)-Math.floor(this.min/l)+1,u>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${l} would result generating up to ${u} ticks. Limiting to 1000.`),u=1e3)):(u=this.computeTickLimit(),s=s||11),s&&(u=Math.min(s,u)),u}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,s=i.ticks;let l=this.getTickLimit();l=Math.max(2,l);const u={maxTicks:l,bounds:i.bounds,min:i.min,max:i.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},g=this._range||this,d=Pz(u,g);return i.bounds==="ticks"&&V0(d,this,"value"),i.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const i=this.ticks;let s=this.min,l=this.max;if(super.configure(),this.options.offset&&i.length){const u=(l-s)/Math.max(i.length-1,1)/2;s-=u,l+=u}this._startValue=s,this._endValue=l,this._valueRange=l-s}getLabelForValue(i){return Ks(i,this.chart.options.locale,this.options.ticks.format)}}class ch extends Ml{determineDataLimits(){const{min:i,max:s}=this.getMinMax(!0);this.min=Ge(i)?i:0,this.max=Ge(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),s=i?this.width:this.height,l=fi(this.options.ticks.minRotation),u=(i?Math.sin(l):Math.cos(l))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,g.lineHeight/u))}getPixelForValue(i){return i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}ch.id="linear";ch.defaults={ticks:{callback:Yl.formatters.numeric}};function Yv(r){return r/Math.pow(10,Math.floor(oi(r)))===1}function Oz(r,i){const s=Math.floor(oi(i.max)),l=Math.ceil(i.max/Math.pow(10,s)),u=[];let g=ii(r.min,Math.pow(10,Math.floor(oi(i.min)))),d=Math.floor(oi(g)),f=Math.floor(g/Math.pow(10,d)),p=d<0?Math.pow(10,Math.abs(d)):1;do u.push({value:g,major:Yv(g)}),++f,f===10&&(f=1,++d,p=d>=0?1:p),g=Math.round(f*Math.pow(10,d)*p)/p;while(d<s||d===s&&f<l);const k=ii(r.max,g);return u.push({value:k,major:Yv(g)}),u}class dh extends Yo{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,s){const l=Ml.prototype.parse.apply(this,[i,s]);if(l===0){this._zero=!0;return}return Ge(l)&&l>0?l:null}determineDataLimits(){const{min:i,max:s}=this.getMinMax(!0);this.min=Ge(i)?Math.max(0,i):null,this.max=Ge(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:s}=this.getUserBounds();let l=this.min,u=this.max;const g=p=>l=i?l:p,d=p=>u=s?u:p,f=(p,k)=>Math.pow(10,Math.floor(oi(p))+k);l===u&&(l<=0?(g(1),d(10)):(g(f(l,-1)),d(f(u,1)))),l<=0&&g(f(u,-1)),u<=0&&d(f(l,1)),this._zero&&this.min!==this._suggestedMin&&l===f(this.min,0)&&g(f(l,-1)),this.min=l,this.max=u}buildTicks(){const i=this.options,s={min:this._userMin,max:this._userMax},l=Oz(s,this);return i.bounds==="ticks"&&V0(l,this,"value"),i.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}getLabelForValue(i){return i===void 0?"0":Ks(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=oi(i),this._valueRange=oi(this.max)-oi(i)}getPixelForValue(i){return(i===void 0||i===0)&&(i=this.min),i===null||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(oi(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const s=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+s*this._valueRange)}}dh.id="logarithmic";dh.defaults={ticks:{callback:Yl.formatters.logarithmic,major:{enabled:!0}}};function Fu(r){const i=r.ticks;if(i.display&&r.display){const s=_n(i.backdropPadding);return Pt(i.font&&i.font.size,Vt.font.size)+s.height}return 0}function Nz(r,i,s){return s=Ce(s)?s:[s],{w:ZN(r,i.string,s),h:s.length*i.lineHeight}}function Kv(r,i,s,l,u){return r===l||r===u?{start:i-s/2,end:i+s/2}:r<l||r>u?{start:i-s,end:i}:{start:i,end:i+s}}function Bz(r){const i={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},s=Object.assign({},i),l=[],u=[],g=r._pointLabels.length,d=r.options.pointLabels,f=d.centerPointLabels?Oe/g:0;for(let p=0;p<g;p++){const k=d.setContext(r.getPointLabelContext(p));u[p]=k.padding;const C=r.getPointPosition(p,r.drawingArea+u[p],f),w=Xe(k.font),x=Nz(r.ctx,w,r._pointLabels[p]);l[p]=x;const E=Hn(r.getIndexAngle(p)+f),D=Math.round(Qu(E)),I=Kv(D,C.x,x.w,0,180),P=Kv(D,C.y,x.h,90,270);Lz(s,i,E,I,P)}r.setCenterPoint(i.l-s.l,s.r-i.r,i.t-s.t,s.b-i.b),r._pointLabelItems=zz(r,l,u)}function Lz(r,i,s,l,u){const g=Math.abs(Math.sin(s)),d=Math.abs(Math.cos(s));let f=0,p=0;l.start<i.l?(f=(i.l-l.start)/g,r.l=Math.min(r.l,i.l-f)):l.end>i.r&&(f=(l.end-i.r)/g,r.r=Math.max(r.r,i.r+f)),u.start<i.t?(p=(i.t-u.start)/d,r.t=Math.min(r.t,i.t-p)):u.end>i.b&&(p=(u.end-i.b)/d,r.b=Math.max(r.b,i.b+p))}function zz(r,i,s){const l=[],u=r._pointLabels.length,g=r.options,d=Fu(g)/2,f=r.drawingArea,p=g.pointLabels.centerPointLabels?Oe/u:0;for(let k=0;k<u;k++){const C=r.getPointPosition(k,f+d+s[k],p),w=Math.round(Qu(Hn(C.angle+He))),x=i[k],E=Fz(C.y,x.h,w),D=Rz(w),I=jz(C.x,x.w,D);l.push({x:C.x,y:E,textAlign:D,left:I,top:E,right:I+x.w,bottom:E+x.h})}return l}function Rz(r){return r===0||r===180?"center":r<180?"left":"right"}function jz(r,i,s){return s==="right"?r-=i:s==="center"&&(r-=i/2),r}function Fz(r,i,s){return s===90||s===270?r-=i/2:(s>270||s<90)&&(r-=i),r}function Vz(r,i){const{ctx:s,options:{pointLabels:l}}=r;for(let u=i-1;u>=0;u--){const g=l.setContext(r.getPointLabelContext(u)),d=Xe(g.font),{x:f,y:p,textAlign:k,left:C,top:w,right:x,bottom:E}=r._pointLabelItems[u],{backdropColor:D}=g;if(!Wt(D)){const I=Vo(g.borderRadius),P=_n(g.backdropPadding);s.fillStyle=D;const B=C-P.left,z=w-P.top,U=x-C+P.width,R=E-w+P.height;Object.values(I).some(F=>F!==0)?(s.beginPath(),Vs(s,{x:B,y:z,w:U,h:R,radius:I}),s.fill()):s.fillRect(B,z,U,R)}Go(s,r._pointLabels[u],f,p+d.lineHeight/2,d,{color:g.color,textAlign:k,textBaseline:"middle"})}}function BC(r,i,s,l){const{ctx:u}=r;if(s)u.arc(r.xCenter,r.yCenter,i,0,de);else{let g=r.getPointPosition(0,i);u.moveTo(g.x,g.y);for(let d=1;d<l;d++)g=r.getPointPosition(d,i),u.lineTo(g.x,g.y)}}function Uz(r,i,s,l){const u=r.ctx,g=i.circular,{color:d,lineWidth:f}=i;!g&&!l||!d||!f||s<0||(u.save(),u.strokeStyle=d,u.lineWidth=f,u.setLineDash(i.borderDash),u.lineDashOffset=i.borderDashOffset,u.beginPath(),BC(r,s,g,l),u.closePath(),u.stroke(),u.restore())}function Hz(r,i,s){return ho(r,{label:s,index:i,type:"pointLabel"})}class qs extends Ml{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=_n(Fu(this.options)/2),s=this.width=this.maxWidth-i.width,l=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+s/2+i.left),this.yCenter=Math.floor(this.top+l/2+i.top),this.drawingArea=Math.floor(Math.min(s,l)/2)}determineDataLimits(){const{min:i,max:s}=this.getMinMax(!1);this.min=Ge(i)&&!isNaN(i)?i:0,this.max=Ge(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Fu(this.options))}generateTickLabels(i){Ml.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((s,l)=>{const u=ve(this.options.pointLabels.callback,[s,l],this);return u||u===0?u:""}).filter((s,l)=>this.chart.getDataVisibility(l))}fit(){const i=this.options;i.display&&i.pointLabels.display?Bz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,s,l,u){this.xCenter+=Math.floor((i-s)/2),this.yCenter+=Math.floor((l-u)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,s,l,u))}getIndexAngle(i){const s=de/(this._pointLabels.length||1),l=this.options.startAngle||0;return Hn(i*s+fi(l))}getDistanceFromCenterForValue(i){if(Wt(i))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*s:(i-this.min)*s}getValueForDistanceFromCenter(i){if(Wt(i))return NaN;const s=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(i){const s=this._pointLabels||[];if(i>=0&&i<s.length){const l=s[i];return Hz(this.getContext(),i,l)}}getPointPosition(i,s,l=0){const u=this.getIndexAngle(i)-He+l;return{x:Math.cos(u)*s+this.xCenter,y:Math.sin(u)*s+this.yCenter,angle:u}}getPointPositionForValue(i,s){return this.getPointPosition(i,this.getDistanceFromCenterForValue(s))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:s,top:l,right:u,bottom:g}=this._pointLabelItems[i];return{left:s,top:l,right:u,bottom:g}}drawBackground(){const{backgroundColor:i,grid:{circular:s}}=this.options;if(i){const l=this.ctx;l.save(),l.beginPath(),BC(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),l.closePath(),l.fillStyle=i,l.fill(),l.restore()}}drawGrid(){const i=this.ctx,s=this.options,{angleLines:l,grid:u}=s,g=this._pointLabels.length;let d,f,p;if(s.pointLabels.display&&Vz(this,g),u.display&&this.ticks.forEach((k,C)=>{if(C!==0){f=this.getDistanceFromCenterForValue(k.value);const w=u.setContext(this.getContext(C-1));Uz(this,w,f,g)}}),l.display){for(i.save(),d=g-1;d>=0;d--){const k=l.setContext(this.getPointLabelContext(d)),{color:C,lineWidth:w}=k;!w||!C||(i.lineWidth=w,i.strokeStyle=C,i.setLineDash(k.borderDash),i.lineDashOffset=k.borderDashOffset,f=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),p=this.getPointPosition(d,f),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(p.x,p.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,s=this.options,l=s.ticks;if(!l.display)return;const u=this.getIndexAngle(0);let g,d;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(u),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((f,p)=>{if(p===0&&!s.reverse)return;const k=l.setContext(this.getContext(p)),C=Xe(k.font);if(g=this.getDistanceFromCenterForValue(this.ticks[p].value),k.showLabelBackdrop){i.font=C.string,d=i.measureText(f.label).width,i.fillStyle=k.backdropColor;const w=_n(k.backdropPadding);i.fillRect(-d/2-w.left,-g-C.size/2-w.top,d+w.width,C.size+w.height)}Go(i,f.label,0,-g,C,{color:k.color})}),i.restore()}drawTitle(){}}qs.id="radialLinear";qs.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}};qs.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};qs.descriptors={angleLines:{_fallback:"grid"}};const Xl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},On=Object.keys(Xl);function $z(r,i){return r-i}function Qv(r,i){if(Wt(i))return null;const s=r._adapter,{parser:l,round:u,isoWeekday:g}=r._parseOpts;let d=i;return typeof l=="function"&&(d=l(d)),Ge(d)||(d=typeof l=="string"?s.parse(d,l):s.parse(d)),d===null?null:(u&&(d=u==="week"&&(zr(g)||g===!0)?s.startOf(d,"isoWeek",g):s.startOf(d,u)),+d)}function Zv(r,i,s,l){const u=On.length;for(let g=On.indexOf(r);g<u-1;++g){const d=Xl[On[g]],f=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((s-i)/(f*d.size))<=l)return On[g]}return On[u-1]}function Wz(r,i,s,l,u){for(let g=On.length-1;g>=On.indexOf(s);g--){const d=On[g];if(Xl[d].common&&r._adapter.diff(u,l,d)>=i-1)return d}return On[s?On.indexOf(s):0]}function Gz(r){for(let i=On.indexOf(r)+1,s=On.length;i<s;++i)if(Xl[On[i]].common)return On[i]}function qv(r,i,s){if(!s)r[i]=!0;else if(s.length){const{lo:l,hi:u}=Zu(s,i),g=s[l]>=i?s[l]:s[u];r[g]=!0}}function Yz(r,i,s,l){const u=r._adapter,g=+u.startOf(i[0].value,l),d=i[i.length-1].value;let f,p;for(f=g;f<=d;f=+u.add(f,1,l))p=s[f],p>=0&&(i[p].major=!0);return i}function Xv(r,i,s){const l=[],u={},g=i.length;let d,f;for(d=0;d<g;++d)f=i[d],u[f]=d,l.push({value:f,major:!1});return g===0||!s?l:Yz(r,l,u,s)}class Xs extends Yo{constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,s){const l=i.time||(i.time={}),u=this._adapter=new O4._date(i.adapters.date);u.init(s),Os(l.displayFormats,u.formats()),this._parseOpts={parser:l.parser,round:l.round,isoWeekday:l.isoWeekday},super.init(i),this._normalized=s.normalized}parse(i,s){return i===void 0?null:Qv(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const i=this.options,s=this._adapter,l=i.time.unit||"day";let{min:u,max:g,minDefined:d,maxDefined:f}=this.getUserBounds();function p(k){!d&&!isNaN(k.min)&&(u=Math.min(u,k.min)),!f&&!isNaN(k.max)&&(g=Math.max(g,k.max))}(!d||!f)&&(p(this._getLabelBounds()),(i.bounds!=="ticks"||i.ticks.source!=="labels")&&p(this.getMinMax(!1))),u=Ge(u)&&!isNaN(u)?u:+s.startOf(Date.now(),l),g=Ge(g)&&!isNaN(g)?g:+s.endOf(Date.now(),l)+1,this.min=Math.min(u,g-1),this.max=Math.max(u+1,g)}_getLabelBounds(){const i=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return i.length&&(s=i[0],l=i[i.length-1]),{min:s,max:l}}buildTicks(){const i=this.options,s=i.time,l=i.ticks,u=l.source==="labels"?this.getLabelTimestamps():this._generate();i.bounds==="ticks"&&u.length&&(this.min=this._userMin||u[0],this.max=this._userMax||u[u.length-1]);const g=this.min,d=this.max,f=_N(u,g,d);return this._unit=s.unit||(l.autoSkip?Zv(s.minUnit,this.min,this.max,this._getLabelCapacity(g)):Wz(this,f.length,s.minUnit,this.min,this.max)),this._majorUnit=!l.major.enabled||this._unit==="year"?void 0:Gz(this._unit),this.initOffsets(u),i.reverse&&f.reverse(),Xv(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i){let s=0,l=0,u,g;this.options.offset&&i.length&&(u=this.getDecimalForValue(i[0]),i.length===1?s=1-u:s=(this.getDecimalForValue(i[1])-u)/2,g=this.getDecimalForValue(i[i.length-1]),i.length===1?l=g:l=(g-this.getDecimalForValue(i[i.length-2]))/2);const d=i.length<3?.5:.25;s=on(s,0,d),l=on(l,0,d),this._offsets={start:s,end:l,factor:1/(s+1+l)}}_generate(){const i=this._adapter,s=this.min,l=this.max,u=this.options,g=u.time,d=g.unit||Zv(g.minUnit,s,l,this._getLabelCapacity(s)),f=Pt(g.stepSize,1),p=d==="week"?g.isoWeekday:!1,k=zr(p)||p===!0,C={};let w=s,x,E;if(k&&(w=+i.startOf(w,"isoWeek",p)),w=+i.startOf(w,k?"day":d),i.diff(l,s,d)>1e5*f)throw new Error(s+" and "+l+" are too far apart with stepSize of "+f+" "+d);const D=u.ticks.source==="data"&&this.getDataTimestamps();for(x=w,E=0;x<l;x=+i.add(x,f,d),E++)qv(C,x,D);return(x===l||u.bounds==="ticks"||E===1)&&qv(C,x,D),Object.keys(C).sort((I,P)=>I-P).map(I=>+I)}getLabelForValue(i){const s=this._adapter,l=this.options.time;return l.tooltipFormat?s.format(i,l.tooltipFormat):s.format(i,l.displayFormats.datetime)}_tickFormatFunction(i,s,l,u){const g=this.options,d=g.time.displayFormats,f=this._unit,p=this._majorUnit,k=f&&d[f],C=p&&d[p],w=l[s],x=p&&C&&w&&w.major,E=this._adapter.format(i,u||(x?C:k)),D=g.ticks.callback;return D?ve(D,[E,s,l],this):E}generateTickLabels(i){let s,l,u;for(s=0,l=i.length;s<l;++s)u=i[s],u.label=this._tickFormatFunction(u.value,s,i)}getDecimalForValue(i){return i===null?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){const s=this._offsets,l=this.getDecimalForValue(i);return this.getPixelForDecimal((s.start+l)*s.factor)}getValueForPixel(i){const s=this._offsets,l=this.getDecimalForPixel(i)/s.factor-s.end;return this.min+l*(this.max-this.min)}_getLabelSize(i){const s=this.options.ticks,l=this.ctx.measureText(i).width,u=fi(this.isHorizontal()?s.maxRotation:s.minRotation),g=Math.cos(u),d=Math.sin(u),f=this._resolveTickFontOptions(0).size;return{w:l*g+f*d,h:l*d+f*g}}_getLabelCapacity(i){const s=this.options.time,l=s.displayFormats,u=l[s.unit]||l.millisecond,g=this._tickFormatFunction(i,0,Xv(this,[i],this._majorUnit),u),d=this._getLabelSize(g),f=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return f>0?f:1}getDataTimestamps(){let i=this._cache.data||[],s,l;if(i.length)return i;const u=this.getMatchingVisibleMetas();if(this._normalized&&u.length)return this._cache.data=u[0].controller.getAllParsedValues(this);for(s=0,l=u.length;s<l;++s)i=i.concat(u[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const i=this._cache.labels||[];let s,l;if(i.length)return i;const u=this.getLabels();for(s=0,l=u.length;s<l;++s)i.push(Qv(this,u[s]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return $0(i.sort($z))}}Xs.id="time";Xs.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function ll(r,i,s){let l=0,u=r.length-1,g,d,f,p;s?(i>=r[l].pos&&i<=r[u].pos&&({lo:l,hi:u}=Ki(r,"pos",i)),{pos:g,time:f}=r[l],{pos:d,time:p}=r[u]):(i>=r[l].time&&i<=r[u].time&&({lo:l,hi:u}=Ki(r,"time",i)),{time:g,pos:f}=r[l],{time:d,pos:p}=r[u]);const k=d-g;return k?f+(p-f)*(i-g)/k:f}class uh extends Xs{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(i);this._minPos=ll(s,this.min),this._tableRange=ll(s,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:s,max:l}=this,u=[],g=[];let d,f,p,k,C;for(d=0,f=i.length;d<f;++d)k=i[d],k>=s&&k<=l&&u.push(k);if(u.length<2)return[{time:s,pos:0},{time:l,pos:1}];for(d=0,f=u.length;d<f;++d)C=u[d+1],p=u[d-1],k=u[d],Math.round((C+p)/2)!==k&&g.push({time:k,pos:d/(f-1)});return g}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const s=this.getDataTimestamps(),l=this.getLabelTimestamps();return s.length&&l.length?i=this.normalize(s.concat(l)):i=s.length?s:l,i=this._cache.all=i,i}getDecimalForValue(i){return(ll(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const s=this._offsets,l=this.getDecimalForPixel(i)/s.factor-s.end;return ll(this._table,l*this._tableRange+this._minPos,!0)}}uh.id="timeseries";uh.defaults=Xs.defaults;var Kz=Object.freeze({__proto__:null,CategoryScale:Dl,LinearScale:ch,LogarithmicScale:dh,RadialLinearScale:qs,TimeScale:Xs,TimeSeriesScale:uh});const Jv=[P4,HL,Dz,Kz];var Qz=Object.defineProperty,t0=Object.getOwnPropertySymbols,Zz=Object.prototype.hasOwnProperty,qz=Object.prototype.propertyIsEnumerable,e0=(r,i,s)=>i in r?Qz(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s,Lo=(r,i)=>{for(var s in i||(i={}))Zz.call(i,s)&&e0(r,s,i[s]);if(t0)for(var s of t0(i))qz.call(i,s)&&e0(r,s,i[s]);return r};const n0=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function Xz(r,i=null){return{type:r,chartRef:i,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function Jz(r,i){return{[i.type]:()=>(r(i.type,i),i.isDefaultPrevented())}}Jv!==void 0&&Zs.register(...Jv);const tR=gD({name:"Vue3ChartJs",props:{type:{type:String,required:!0},height:{type:Number,required:!1,default:null},width:{type:Number,required:!1,default:null},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:n0,setup(r,{emit:i}){const s=fD(null),l=n0.reduce((k,C)=>{const w=Xz(C,s);return Lo(Lo({},k),Jz(i,w))},{id:"Vue3ChartJsEventHookPlugin"}),u={chart:null,plugins:[l,...r.plugins],props:Lo({},r)},g=()=>{u.chart&&(u.chart.destroy(),u.chart=null)},d=(k=750)=>{u.chart.data=Lo(Lo({},u.chart.data),u.props.data),u.chart.options=Lo(Lo({},u.chart.options),u.props.options),u.chart.update(k)},f=()=>u.chart&&u.chart.resize(),p=()=>u.chart?u.chart.update():u.chart=new Zs(s.value.getContext("2d"),{type:u.props.type,data:u.props.data,options:u.props.options,plugins:u.plugins});return pD(()=>p()),{chartJSState:u,chartRef:s,render:p,resize:f,update:d,destroy:g}},render(r){return mD("canvas",{ref:"chartRef",height:r.height,width:r.width})}}),Or=tR;Or.registerGlobalPlugins=r=>{Zs.register(...r)};Or.install=(r,i={})=>{var s;r.component(Or.name,Or),(s=i==null?void 0:i.plugins)!=null&&s.length&&Or.registerGlobalPlugins(i.plugins)};const eR={components:{Vue3ChartJs:Or},data:()=>({showChart:!1,oreders:[],lineChart:{id:"orders-line-chart",type:"line",maintainAspectRatio:!1,responsive:!0,options:{plugins:{legend:{display:!1}}},data:{labels:[],datasets:[{label:"Total orders for date",borderColor:"#bed4ed",backgroundColor:"#214b76",data:[],cubicInterpolationMode:"monotone",tension:.4}]}}}),mounted(){axios.get("/api/reports/orders").then(r=>{this.orders=r.data,this.lineChart.data.labels=r.data.map(i=>bD(i.created_at_date).format("DD MMM YY")),this.lineChart.data.datasets[0].data=r.data.map(i=>i.total),this.showChart=!0})}},nR={class:"w-full bg-white rounded-md shadow border border-gray-100 px-6 py-3",style:{height:"400px"}};function iR(r,i,s,l,u,g){const d=oe("vue3-chart-js");return et(),st("div",nR,[r.showChart?(et(),Pn(d,{key:0,id:r.lineChart.id,ref:"chartOrdersRef",type:r.lineChart.type,data:r.lineChart.data,height:"400px"},null,8,["id","type","data"])):Ee("",!0)])}const oR=ue(eR,[["render",iR]]);const rR={name:"CategoriesItem",components:{draggable:D0},props:{categories:{required:!0,type:Array}},methods:{deleteCategory(r){axios.delete("/api/product-categories/"+r).then(i=>{location.reload()}).catch(()=>{location.reload()})},topLevelContainerFilter(r,i,s){let l=i.options.group.name==="g1",u=r.el.classList.contains("top__level")||!s.classList.contains("g1");return l&&u}}},hh=r=>(Hs("data-v-74857307"),r=r(),$s(),r),sR={class:"flex justify-between items-center cursor-pointer bg-white border-b border-gray-100 hover:bg-gray-50"},aR=hh(()=>T("div",{class:"py-1 pl-4 whitespace-nowrap"},[T("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#454545",viewBox:"0 0 256 256"},[T("rect",{width:"256",height:"256",fill:"none"}),T("circle",{cx:"60",cy:"60",r:"8"}),T("circle",{cx:"128",cy:"60",r:"8"}),T("circle",{cx:"196",cy:"60",r:"8"}),T("circle",{cx:"60",cy:"128",r:"8"}),T("circle",{cx:"128",cy:"128",r:"8"}),T("circle",{cx:"196",cy:"128",r:"8"}),T("circle",{cx:"60",cy:"196",r:"8"}),T("circle",{cx:"128",cy:"196",r:"8"}),T("circle",{cx:"196",cy:"196",r:"8"})])],-1)),lR={class:"w-20 py-1 whitespace-nowrap flex justify-center items-center"},cR={key:1,class:"w-8 h-8 rounded-full bg-center bg-cover bg-no-repeat",style:{background:"#eee"}},dR={class:"w-1/3 mr-auto py-1 whitespace-nowrap"},uR={class:"font-medium text-gray-700"},hR={class:"text-xs font-light text-gray-400"},gR={class:"w-24 text-center py-1 whitespace-nowrap"},fR={key:0,class:"px-2 inline-flex text-xs leading-5 tracking-wide font-normal rounded-full bg-green-100 text-green-800"},pR={key:1,class:"px-2 inline-flex text-xs leading-5 tracking-wide font-normal rounded-full bg-gray-100 text-gray-800"},mR={class:"w-32 px-6 py-1 whitespace-nowrap text-sm text-gray-500"},bR={class:"w-32 px-6 py-1 whitespace-nowrap"},kR={class:"flex items-center justify-center"},wR=["href"],vR=hh(()=>T("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),CR=[vR],_R={class:"ml-5 flex items-center justify-center"},AR=["onClick"],yR=hh(()=>T("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",stroke:"#dc2626",viewBox:"0 0 24 24"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),xR=[yR];function ER(r,i,s,l,u,g){const d=oe("CategoriesItem",!0),f=oe("draggable");return et(),Pn(f,{class:"dragArea",tag:"ul",list:s.categories,group:{name:"g1",put:(p,k,C)=>g.topLevelContainerFilter(p,k,C)},"item-key":"name"},{item:u0(({element:p})=>[T("li",{class:Nr([p.parent_id?"pl-5":"pl-0"])},[T("div",sR,[aR,T("div",lR,[p.featured_image?(et(),st("div",{key:0,class:"w-8 h-8 rounded-full bg-center bg-cover bg-no-repeat",style:Ho(`background-image: url('/${p.featured_image.file_path}');`)},null,4)):(et(),st("div",cR))]),T("div",dR,[T("div",uR,ce(p.name),1),T("div",hR,ce(p.slug),1)]),T("div",gR,[p.available?(et(),st("span",fR," Available ")):(et(),st("span",pR," Unavailable "))]),T("div",mR,ce(p.total_products)+" products ",1),T("div",bR,[T("div",kR,[T("a",{href:"/backend/categories/edit/"+p.id,class:"flex items-center"},CR,8,wR),T("div",_R,[T("div",{class:"w-5 h-5 cursor-pointer flex items-center relative",onClick:k=>g.deleteCategory(p.id)},xR,8,AR)])])])]),wn(d,{categories:p.children},null,8,["categories"])],2)]),_:1},8,["list","group"])}const SR=ue(rR,[["render",ER],["__scopeId","data-v-74857307"]]);const DR={components:{CategoriesItem:SR},data:()=>({categories:[],originalCategories:[],flatCategories:[]}),watch:{categories:{handler(r){this.reorderCategories(this.categories)},deep:!0}},computed:{hasChanged(){return JSON.stringify(this.originalCategories)!==JSON.stringify(this.categories)}},mounted(){this.getCategories()},methods:{isArrayEqual(r,i){return _(r).xorWith(i,_.isEqual).isEmpty()},saveCategories(){axios.post("/api/sorted-categories",this.categories).then(()=>{location.reload()})},getCategories(){axios.get("/api/product-categories").then(r=>{this.categories=_.cloneDeep(r.data.data),this.originalCategories=_.cloneDeep(r.data.data)})},reorderCategories(r,i=0){r.forEach((s,l)=>{s.order=l,s.parent_id=i,s.children&&s.children.length&&this.reorderCategories(s.children,s.id)})},extractCategories(r){r.forEach(i=>{this.flatCategories.push(i),i.children&&i.children.length&&this.extractCategories(i.children)})}}},MR={class:"box pb-20"},IR={key:0,class:"fixed bottom-0 right-0 p-5 w-full bg-white flex items-center justify-end shadow-2xl border-t"};function TR(r,i,s,l,u,g){const d=oe("CategoriesItem");return et(),st("div",MR,[wn(d,{categories:r.categories,onChanged:g.getCategories},null,8,["categories","onChanged"]),g.hasChanged?(et(),st("div",IR,[T("div",{class:"text-white bg-primary-lighter group flex items-center ml-auto px-6 py-2 text-sm font-normal rounded-md hover:bg-primary-light",onClick:i[0]||(i[0]=(...f)=>g.saveCategories&&g.saveCategories(...f))}," Save changes ")])):Ee("",!0)])}const PR=ue(DR,[["render",TR]]);const OR={data:()=>({orderId:null,order:[],products:[],editing:!1}),computed:{hasInvalidSKU(){return!!this.products.find(r=>r.sku_not_valid)}},mounted(){this.orderId=document.getElementById("edit-order").dataset.order,this.getOrder()},methods:{productFeaturedImage(r){const i=r.media.find(s=>s.featured_image);return i&&i.featured_image?"/"+i.file_path:"/images/product-placeholder.png"},getOrder(){axios.get(`/api/orders/${this.orderId}/products`).then(r=>{this.products=r.data.data.products.map(i=>(i.qty=r.data.data.order.find(s=>s.sku===i.sku).qty,i)),this.order=r.data.data.order})},checkSKU(r,i){axios.get("/api/check-sku/"+r.target.value).then(s=>{i.sku_not_valid=!s.data.status})},removeProduct(r){this.products=this.products.filter(i=>i.id!==r.id)},updateOrder(){const r=this.products.map(i=>({sku:i.sku,qty:i.qty}));axios.post(`/api/request-order/change/${this.orderId}`,r).then(()=>{this.getOrder()})}}},LC=r=>(Hs("data-v-046f4ca6"),r=r(),$s(),r),NR={class:""},BR={key:0,class:"flex items-center gap-4 border-b border-gray-200 text-gray-700 py-1 px-3"},LR=["src","alt"],zR=["href"],RR={class:"font-medium"},jR={class:"flex items-center justify-center ml-auto"},FR=["onClick"],VR=LC(()=>T("svg",{class:"w-5 h-5 text-primary-lighter",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),UR=[VR],HR=["onClick"],$R=Pl('<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-red-600" fill="currentColor" viewBox="0 0 256 256" data-v-046f4ca6><rect width="256" height="256" fill="none" data-v-046f4ca6></rect><line x1="216" y1="56" x2="40" y2="56" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" data-v-046f4ca6></line><line x1="104" y1="104" x2="104" y2="168" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" data-v-046f4ca6></line><line x1="152" y1="104" x2="152" y2="168" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" data-v-046f4ca6></line><path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" data-v-046f4ca6></path><path d="M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" data-v-046f4ca6></path></svg>',1),WR=[$R],GR={key:1,class:"flex items-center gap-4 border-b border-gray-200 text-gray-700 py-1 px-3"},YR=["src","alt"],KR=["onUpdate:modelValue","onInput"],QR=["onUpdate:modelValue"],ZR={key:0,class:"text-red-500 text-sm ml-auto font-medium"},qR={key:1,class:"edit-order-save-btn absolute bottom-0 left-0 mb-6 ml-4 w-24 text-center text-white bg-primary-lighter bg-opacity-50 px-6 py-2 text-sm font-normal rounded-md"},XR=Tl(" Save "),JR=LC(()=>T("div",{class:"w-64 relative"},[T("div",{class:"tooltip-left-arrow absolute top-0 left-0 -mt-6 ml-24 w-full py-1 px-3 rounded-md bg-gray-400 text-sm text-white"}," Can't save with invalid SKU ")],-1)),t3=[XR,JR];function e3(r,i,s,l,u,g){return et(),st("div",NR,[(et(!0),st(le,null,_e(r.products,d=>(et(),st("div",{key:d.id},[d.edit?(et(),st("div",GR,[T("img",{src:g.productFeaturedImage(d),width:"24",alt:d.name},null,8,YR),Qt(T("input",{"onUpdate:modelValue":f=>d.sku=f,type:"text",class:"sm:text-sm py-0 px-4 border-1 border-gray-200 rounded-md text-gray-700",onInput:f=>g.checkSKU(f,d)},null,40,KR),[[Zt,d.sku]]),Qt(T("input",{"onUpdate:modelValue":f=>d.qty=f,type:"text",class:"w-24 sm:text-sm py-0 px-4 border-1 border-gray-200 rounded-md text-gray-700"},null,8,QR),[[Zt,d.qty]]),d.sku_not_valid?(et(),st("div",ZR,"SKU not valid")):Ee("",!0)])):(et(),st("div",BR,[T("img",{src:g.productFeaturedImage(d),width:"24",alt:d.name},null,8,LR),T("a",{href:"/product/"+d.slug,target:"_blank"},[Tl(ce(d.name)+" ",1),T("span",RR,"x "+ce(d.qty),1)],8,zR),T("div",jR,[T("div",{class:"flex items-center justify-center cursor-pointer",onClick:f=>{d.edit=!0,r.editing=!0}},UR,8,FR),T("div",{class:"ml-5 flex items-center justify-center cursor-pointer",onClick:f=>g.removeProduct(d)},WR,8,HR)])]))]))),128)),g.hasInvalidSKU?(et(),st("div",qR,t3)):(et(),st("div",{key:0,class:"absolute bottom-0 left-0 mb-6 ml-4 w-24 text-center text-white border border-primary-lighter bg-primary-lighter px-6 py-2 text-sm font-normal rounded-md hover:bg-primary-light",onClick:i[0]||(i[0]=(...d)=>g.updateOrder&&g.updateOrder(...d))}," Save "))])}const n3=ue(OR,[["render",e3],["__scopeId","data-v-046f4ca6"]]),i3={computed:{product(){return this.$store.getters.product}},methods:{updateField(r,i){this.$store.commit("updateProductField",{key:r,value:parseInt(i.target.value)})},updateProduct(){this.$store.dispatch("updateProduct")},deleteProduct(){axios.delete("/api/products/"+this.product.id).then(()=>{window.open("/backend/products/","_self")})}}},o3={class:"bg-white overflow-hidden shadow rounded-lg"},r3={class:"px-4 py-5 sm:p-6"},s3={class:"flex flex-col sm:flex-row items-center justify-between"},a3=T("div",{class:"text-lg font-medium text-black"},"Product status",-1),l3={class:"mt-5"},c3=T("option",{value:"1",selected:""},"Available",-1),d3=T("option",{value:"0"},"Not Available",-1),u3=[c3,d3],h3=T("div",{class:"text-gray-500 text-sm mt-2 pl-1"},' By selecting "Not Available", product will be hidden on the webpage ',-1),g3={class:"mt-6 flex justify-between"},f3=["href"];function p3(r,i,s,l,u,g){return et(),st("div",o3,[T("div",r3,[T("div",s3,[a3,T("div",{class:"text-sm cursor-pointer font-medium text-red-500 underline",onClick:i[0]||(i[0]=(...d)=>g.deleteProduct&&g.deleteProduct(...d))},"Delete")]),T("div",l3,[T("select",{id:"available",onInput:i[1]||(i[1]=d=>g.updateField("available",d)),name:"available",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},u3,32),h3,T("div",g3,[T("div",{class:"w-2/5 text-center text-white border border-primary-lighter bg-primary-lighter px-6 py-2 text-sm font-normal rounded-md hover:bg-primary-light cursor-pointer",onClick:i[2]||(i[2]=(...d)=>g.updateProduct&&g.updateProduct(...d))}," Update "),T("a",{href:g.product.url,target:"_blank",class:"w-2/5 text-center text-gray-600 border border-gray-200 px-6 py-2 text-sm font-normal rounded-md hover:bg-gray-200 hover:text-white cursor-pointer"}," Preview ",8,f3)])])])])}const m3=ue(i3,[["render",p3]]),b3={components:{ProductTags:T0},computed:{product(){return this.$store.getters.product},categories(){return this.$store.getters.categories}},methods:{addCategory(r){axios.get("/api/product-categories/"+r.target.value).then(i=>{this.$store.commit("addCategory",i.data.data),this.$refs.categoriesSelect.value=""})}}},k3={class:"bg-white overflow-hidden shadow rounded-lg"},w3={class:"px-4 py-5 sm:p-6"},v3=T("div",{class:"text-lg font-medium text-black"},"Organization",-1),C3={class:"mt-6"},_3=T("label",{for:"categories",class:"block text-sm font-medium text-gray-700"},"Choose categories",-1),A3=T("option",{value:"",disabled:"",selected:""},"Categories",-1),y3=["value"],x3=["value"],E3=["value"],S3={class:"mt-3 pl-1 text-sm text-gray-500"},D3={class:"pl-2"},M3=["onClick"];function I3(r,i,s,l,u,g){const d=oe("ProductTags");return et(),st("div",k3,[T("div",w3,[v3,T("div",C3,[_3,T("select",{id:"categories",name:"categories",ref:"categoriesSelect",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:i[0]||(i[0]=(...f)=>g.addCategory&&g.addCategory(...f))},[A3,(et(!0),st(le,null,_e(g.categories,f=>(et(),st(le,{key:f.id},[T("option",{value:f.id},ce(f.name),9,y3),(et(!0),st(le,null,_e(f.children,p=>(et(),st(le,{key:p.id},[T("option",{value:p.id},"-- "+ce(p.name),9,x3),(et(!0),st(le,null,_e(p.children,k=>(et(),st("option",{key:k.id,value:k.id},"---- "+ce(k.name),9,E3))),128))],64))),128))],64))),128))],544)]),T("div",S3,[(et(!0),st(le,null,_e(g.product.categories,f=>(et(),st("div",{key:f.id,class:"flex justify-between items-center selected-category-item py-1 border-b border-gray-100"},[T("div",D3,ce(f.name),1),T("div",{class:"pr-2 tracking-widest text-3xl font-thin leading-none text-gray-400 cursor-pointer hover:text-rose-500",onClick:p=>r.$store.commit("removeCategory",f.id)},"\xD7",8,M3)]))),128))]),wn(d)])])}const T3=ue(b3,[["render",I3]]),P3={components:{ckeditor:Bl.component,ProductDocuments:P0,ProductInformation:O0,ProductAvailability:m3,ProductCategories:T3,ProductIcons:B0,ProductVariations:M0,ProductTable:N0,Media:I0},data:()=>({editor:Ll,editorConfig:{height:200}}),computed:{product(){return this.$store.getters.product}},mounted(){const r=document.getElementById("editSingleProduct").dataset.key;this.$store.dispatch("getProduct",r),this.$store.dispatch("getCategories"),this.$store.dispatch("getIcons")},methods:{updateField(r,i){r==="quantity_name"&&this.$store.commit("updateProductField",{key:r,value:parseInt(i.target.value)}),this.$store.commit("updateProductField",{key:r,value:i.target.value})},updateEditorField(r,i){this.$store.commit("updateProductField",{key:r,value:i})}}},O3={key:0,class:"grid sm:grid-cols-3 gap-6"},N3={class:"sm:col-span-2 grid grid-cols-1 gap-6"},B3={class:"bg-white overflow-hidden shadow rounded-lg px-4 py-5 sm:p-6"},L3=T("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),z3=["value"],R3={class:"mt-6"},j3=T("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),F3={class:"mt-6"},V3=T("label",{for:"latin",class:"block text-sm font-medium text-gray-700"},"Latin (species)",-1),U3=["value"],H3={class:"bg-white overflow-hidden shadow rounded-lg px-4 py-5 sm:p-6"},$3=T("div",{class:"text-lg text-black font-medium"},"Inventory",-1),W3={class:"grid grid-cols-2 gap-6"},G3={class:""},Y3=T("label",{for:"sku",class:"block text-sm font-medium text-gray-700"},"SKU (Stock Keeping Unit)",-1),K3=["value"],Q3={class:""},Z3=T("label",{for:"quantity_name",class:"block text-sm font-medium text-gray-700"},"Quantity name",-1),q3=["value"],X3=Pl('<option value="0">Quantity / Magn</option><option value="1">Pallets / Bretti</option><option value="2">Meters / Metrar</option><option value="3">Par / Pairs</option><option value="4">Stk / Peaces</option><option value="5">R\xFAlla / Rolls</option><option value="6">Pakki / Packages</option><option value="7">Poki / Bags</option><option value="8">Tunna / Barrels</option><option value="9">Kassi / Boxes</option>',10),J3=[X3],tj={class:"flex flex-col gap-6"};function ej(r,i,s,l,u,g){const d=oe("ckeditor"),f=oe("ProductDocuments"),p=oe("ProductInformation"),k=oe("ProductVariations"),C=oe("ProductTable"),w=oe("ProductAvailability"),x=oe("ProductCategories"),E=oe("ProductIcons"),D=oe("Media");return r.$store.getters.productLoaded?(et(),st("div",O3,[T("div",N3,[T("div",B3,[T("div",null,[L3,T("input",{value:g.product.name,onInput:i[0]||(i[0]=I=>g.updateField("name",I)),type:"text",name:"name",id:"title",class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:""},null,40,z3)]),T("div",R3,[j3,wn(d,{editor:r.editor,"model-value":g.product.description,onInput:i[1]||(i[1]=I=>g.updateEditorField("description",I)),config:r.editorConfig},null,8,["editor","model-value","config"])]),T("div",F3,[V3,T("input",{value:g.product.species,onInput:i[2]||(i[2]=I=>g.updateField("species",I)),type:"text",name:"species",id:"latin",class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,40,U3)])]),T("div",H3,[$3,T("div",W3,[T("div",G3,[Y3,T("input",{value:g.product.sku,onInput:i[3]||(i[3]=I=>g.updateField("sku",I)),type:"text",name:"sku",id:"sku",class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:""},null,40,K3)]),T("div",Q3,[Z3,T("select",{id:"quantity_name",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:g.product.quantity_name,onChange:i[4]||(i[4]=I=>g.updateField("quantity_name",I))},J3,40,q3)])])]),wn(f),wn(p),wn(k),g.product&&g.product.id?(et(),Pn(C,{key:0})):Ee("",!0)]),T("div",tj,[wn(w),wn(x),wn(E),wn(D)])])):Ee("",!0)}const nj=ue(P3,[["render",ej]]);function ij(){return zC().__VUE_DEVTOOLS_GLOBAL_HOOK__}function zC(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const oj=typeof Proxy=="function",rj="devtools-plugin:setup",sj="plugin:settings:set";let Dr,Vu;function aj(){var r;return Dr!==void 0||(typeof window<"u"&&window.performance?(Dr=!0,Vu=window.performance):typeof global<"u"&&((r=global.perf_hooks)===null||r===void 0?void 0:r.performance)?(Dr=!0,Vu=global.perf_hooks.performance):Dr=!1),Dr}function lj(){return aj()?Vu.now():Date.now()}class cj{constructor(i,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=i,this.hook=s;const l={};if(i.settings)for(const d in i.settings){const f=i.settings[d];l[d]=f.defaultValue}const u=`__vue-devtools-plugin-settings__${i.id}`;let g=Object.assign({},l);try{const d=localStorage.getItem(u),f=JSON.parse(d);Object.assign(g,f)}catch{}this.fallbacks={getSettings(){return g},setSettings(d){try{localStorage.setItem(u,JSON.stringify(d))}catch{}g=d},now(){return lj()}},s&&s.on(sj,(d,f)=>{d===this.plugin.id&&this.fallbacks.setSettings(f)}),this.proxiedOn=new Proxy({},{get:(d,f)=>this.target?this.target.on[f]:(...p)=>{this.onQueue.push({method:f,args:p})}}),this.proxiedTarget=new Proxy({},{get:(d,f)=>this.target?this.target[f]:f==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(f)?(...p)=>(this.targetQueue.push({method:f,args:p,resolve:()=>{}}),this.fallbacks[f](...p)):(...p)=>new Promise(k=>{this.targetQueue.push({method:f,args:p,resolve:k})})})}async setRealTarget(i){this.target=i;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function dj(r,i){const s=r,l=zC(),u=ij(),g=oj&&s.enableEarlyProxy;if(u&&(l.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!g))u.emit(rj,r,i);else{const d=g?new cj(s,u):null;(l.__VUE_DEVTOOLS_PLUGINS__=l.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:i,proxy:d}),d&&i(d.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var uj="store";function Vr(r,i){Object.keys(r).forEach(function(s){return i(r[s],s)})}function hj(r){return r!==null&&typeof r=="object"}function gj(r){return r&&typeof r.then=="function"}function fj(r,i){return function(){return r(i)}}function RC(r,i,s){return i.indexOf(r)<0&&(s&&s.prepend?i.unshift(r):i.push(r)),function(){var l=i.indexOf(r);l>-1&&i.splice(l,1)}}function jC(r,i){r._actions=Object.create(null),r._mutations=Object.create(null),r._wrappedGetters=Object.create(null),r._modulesNamespaceMap=Object.create(null);var s=r.state;Jl(r,s,[],r._modules.root,!0),gh(r,s,i)}function gh(r,i,s){var l=r._state;r.getters={},r._makeLocalGettersCache=Object.create(null);var u=r._wrappedGetters,g={};Vr(u,function(d,f){g[f]=fj(d,r),Object.defineProperty(r.getters,f,{get:function(){return g[f]()},enumerable:!0})}),r._state=kD({data:i}),r.strict&&wj(r),l&&s&&r._withCommit(function(){l.data=null})}function Jl(r,i,s,l,u){var g=!s.length,d=r._modules.getNamespace(s);if(l.namespaced&&(r._modulesNamespaceMap[d],r._modulesNamespaceMap[d]=l),!g&&!u){var f=fh(i,s.slice(0,-1)),p=s[s.length-1];r._withCommit(function(){f[p]=l.state})}var k=l.context=pj(r,d,s);l.forEachMutation(function(C,w){var x=d+w;mj(r,x,C,k)}),l.forEachAction(function(C,w){var x=C.root?w:d+w,E=C.handler||C;bj(r,x,E,k)}),l.forEachGetter(function(C,w){var x=d+w;kj(r,x,C,k)}),l.forEachChild(function(C,w){Jl(r,i,s.concat(w),C,u)})}function pj(r,i,s){var l=i==="",u={dispatch:l?r.dispatch:function(g,d,f){var p=Il(g,d,f),k=p.payload,C=p.options,w=p.type;return(!C||!C.root)&&(w=i+w),r.dispatch(w,k)},commit:l?r.commit:function(g,d,f){var p=Il(g,d,f),k=p.payload,C=p.options,w=p.type;(!C||!C.root)&&(w=i+w),r.commit(w,k,C)}};return Object.defineProperties(u,{getters:{get:l?function(){return r.getters}:function(){return FC(r,i)}},state:{get:function(){return fh(r.state,s)}}}),u}function FC(r,i){if(!r._makeLocalGettersCache[i]){var s={},l=i.length;Object.keys(r.getters).forEach(function(u){if(u.slice(0,l)===i){var g=u.slice(l);Object.defineProperty(s,g,{get:function(){return r.getters[u]},enumerable:!0})}}),r._makeLocalGettersCache[i]=s}return r._makeLocalGettersCache[i]}function mj(r,i,s,l){var u=r._mutations[i]||(r._mutations[i]=[]);u.push(function(d){s.call(r,l.state,d)})}function bj(r,i,s,l){var u=r._actions[i]||(r._actions[i]=[]);u.push(function(d){var f=s.call(r,{dispatch:l.dispatch,commit:l.commit,getters:l.getters,state:l.state,rootGetters:r.getters,rootState:r.state},d);return gj(f)||(f=Promise.resolve(f)),r._devtoolHook?f.catch(function(p){throw r._devtoolHook.emit("vuex:error",p),p}):f})}function kj(r,i,s,l){r._wrappedGetters[i]||(r._wrappedGetters[i]=function(g){return s(l.state,l.getters,g.state,g.getters)})}function wj(r){g0(function(){return r._state.data},function(){},{deep:!0,flush:"sync"})}function fh(r,i){return i.reduce(function(s,l){return s[l]},r)}function Il(r,i,s){return hj(r)&&r.type&&(s=i,i=r,r=r.type),{type:r,payload:i,options:s}}var vj="vuex bindings",i0="vuex:mutations",_u="vuex:actions",Mr="vuex",Cj=0;function _j(r,i){dj({id:"org.vuejs.vuex",app:r,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[vj]},function(s){s.addTimelineLayer({id:i0,label:"Vuex Mutations",color:o0}),s.addTimelineLayer({id:_u,label:"Vuex Actions",color:o0}),s.addInspector({id:Mr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),s.on.getInspectorTree(function(l){if(l.app===r&&l.inspectorId===Mr)if(l.filter){var u=[];$C(u,i._modules.root,l.filter,""),l.rootNodes=u}else l.rootNodes=[HC(i._modules.root,"")]}),s.on.getInspectorState(function(l){if(l.app===r&&l.inspectorId===Mr){var u=l.nodeId;FC(i,u),l.state=xj(Sj(i._modules,u),u==="root"?i.getters:i._makeLocalGettersCache,u)}}),s.on.editInspectorState(function(l){if(l.app===r&&l.inspectorId===Mr){var u=l.nodeId,g=l.path;u!=="root"&&(g=u.split("/").filter(Boolean).concat(g)),i._withCommit(function(){l.set(i._state.data,g,l.state.value)})}}),i.subscribe(function(l,u){var g={};l.payload&&(g.payload=l.payload),g.state=u,s.notifyComponentUpdate(),s.sendInspectorTree(Mr),s.sendInspectorState(Mr),s.addTimelineEvent({layerId:i0,event:{time:Date.now(),title:l.type,data:g}})}),i.subscribeAction({before:function(l,u){var g={};l.payload&&(g.payload=l.payload),l._id=Cj++,l._time=Date.now(),g.state=u,s.addTimelineEvent({layerId:_u,event:{time:l._time,title:l.type,groupId:l._id,subtitle:"start",data:g}})},after:function(l,u){var g={},d=Date.now()-l._time;g.duration={_custom:{type:"duration",display:d+"ms",tooltip:"Action duration",value:d}},l.payload&&(g.payload=l.payload),g.state=u,s.addTimelineEvent({layerId:_u,event:{time:Date.now(),title:l.type,groupId:l._id,subtitle:"end",data:g}})}})})}var o0=8702998,Aj=6710886,yj=16777215,VC={label:"namespaced",textColor:yj,backgroundColor:Aj};function UC(r){return r&&r!=="root"?r.split("/").slice(-2,-1)[0]:"Root"}function HC(r,i){return{id:i||"root",label:UC(i),tags:r.namespaced?[VC]:[],children:Object.keys(r._children).map(function(s){return HC(r._children[s],i+s+"/")})}}function $C(r,i,s,l){l.includes(s)&&r.push({id:l||"root",label:l.endsWith("/")?l.slice(0,l.length-1):l||"Root",tags:i.namespaced?[VC]:[]}),Object.keys(i._children).forEach(function(u){$C(r,i._children[u],s,l+u+"/")})}function xj(r,i,s){i=s==="root"?i:i[s];var l=Object.keys(i),u={state:Object.keys(r.state).map(function(d){return{key:d,editable:!0,value:r.state[d]}})};if(l.length){var g=Ej(i);u.getters=Object.keys(g).map(function(d){return{key:d.endsWith("/")?UC(d):d,editable:!1,value:Uu(function(){return g[d]})}})}return u}function Ej(r){var i={};return Object.keys(r).forEach(function(s){var l=s.split("/");if(l.length>1){var u=i,g=l.pop();l.forEach(function(d){u[d]||(u[d]={_custom:{value:{},display:d,tooltip:"Module",abstract:!0}}),u=u[d]._custom.value}),u[g]=Uu(function(){return r[s]})}else i[s]=Uu(function(){return r[s]})}),i}function Sj(r,i){var s=i.split("/").filter(function(l){return l});return s.reduce(function(l,u,g){var d=l[u];if(!d)throw new Error('Missing module "'+u+'" for path "'+i+'".');return g===s.length-1?d:d._children},i==="root"?r:r.root._children)}function Uu(r){try{return r()}catch(i){return i}}var bi=function(i,s){this.runtime=s,this._children=Object.create(null),this._rawModule=i;var l=i.state;this.state=(typeof l=="function"?l():l)||{}},WC={namespaced:{configurable:!0}};WC.namespaced.get=function(){return!!this._rawModule.namespaced};bi.prototype.addChild=function(i,s){this._children[i]=s};bi.prototype.removeChild=function(i){delete this._children[i]};bi.prototype.getChild=function(i){return this._children[i]};bi.prototype.hasChild=function(i){return i in this._children};bi.prototype.update=function(i){this._rawModule.namespaced=i.namespaced,i.actions&&(this._rawModule.actions=i.actions),i.mutations&&(this._rawModule.mutations=i.mutations),i.getters&&(this._rawModule.getters=i.getters)};bi.prototype.forEachChild=function(i){Vr(this._children,i)};bi.prototype.forEachGetter=function(i){this._rawModule.getters&&Vr(this._rawModule.getters,i)};bi.prototype.forEachAction=function(i){this._rawModule.actions&&Vr(this._rawModule.actions,i)};bi.prototype.forEachMutation=function(i){this._rawModule.mutations&&Vr(this._rawModule.mutations,i)};Object.defineProperties(bi.prototype,WC);var Ko=function(i){this.register([],i,!1)};Ko.prototype.get=function(i){return i.reduce(function(s,l){return s.getChild(l)},this.root)};Ko.prototype.getNamespace=function(i){var s=this.root;return i.reduce(function(l,u){return s=s.getChild(u),l+(s.namespaced?u+"/":"")},"")};Ko.prototype.update=function(i){GC([],this.root,i)};Ko.prototype.register=function(i,s,l){var u=this;l===void 0&&(l=!0);var g=new bi(s,l);if(i.length===0)this.root=g;else{var d=this.get(i.slice(0,-1));d.addChild(i[i.length-1],g)}s.modules&&Vr(s.modules,function(f,p){u.register(i.concat(p),f,l)})};Ko.prototype.unregister=function(i){var s=this.get(i.slice(0,-1)),l=i[i.length-1],u=s.getChild(l);!u||!u.runtime||s.removeChild(l)};Ko.prototype.isRegistered=function(i){var s=this.get(i.slice(0,-1)),l=i[i.length-1];return s?s.hasChild(l):!1};function GC(r,i,s){if(i.update(s),s.modules)for(var l in s.modules){if(!i.getChild(l))return;GC(r.concat(l),i.getChild(l),s.modules[l])}}function Dj(r){return new Nn(r)}var Nn=function(i){var s=this;i===void 0&&(i={});var l=i.plugins;l===void 0&&(l=[]);var u=i.strict;u===void 0&&(u=!1);var g=i.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ko(i),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=g;var d=this,f=this,p=f.dispatch,k=f.commit;this.dispatch=function(x,E){return p.call(d,x,E)},this.commit=function(x,E,D){return k.call(d,x,E,D)},this.strict=u;var C=this._modules.root.state;Jl(this,C,[],this._modules.root),gh(this,C),l.forEach(function(w){return w(s)})},ph={state:{configurable:!0}};Nn.prototype.install=function(i,s){i.provide(s||uj,this),i.config.globalProperties.$store=this;var l=this._devtools!==void 0?this._devtools:!1;l&&_j(i,this)};ph.state.get=function(){return this._state.data};ph.state.set=function(r){};Nn.prototype.commit=function(i,s,l){var u=this,g=Il(i,s,l),d=g.type,f=g.payload,p={type:d,payload:f},k=this._mutations[d];!k||(this._withCommit(function(){k.forEach(function(w){w(f)})}),this._subscribers.slice().forEach(function(C){return C(p,u.state)}))};Nn.prototype.dispatch=function(i,s){var l=this,u=Il(i,s),g=u.type,d=u.payload,f={type:g,payload:d},p=this._actions[g];if(!!p){try{this._actionSubscribers.slice().filter(function(C){return C.before}).forEach(function(C){return C.before(f,l.state)})}catch{}var k=p.length>1?Promise.all(p.map(function(C){return C(d)})):p[0](d);return new Promise(function(C,w){k.then(function(x){try{l._actionSubscribers.filter(function(E){return E.after}).forEach(function(E){return E.after(f,l.state)})}catch{}C(x)},function(x){try{l._actionSubscribers.filter(function(E){return E.error}).forEach(function(E){return E.error(f,l.state,x)})}catch{}w(x)})})}};Nn.prototype.subscribe=function(i,s){return RC(i,this._subscribers,s)};Nn.prototype.subscribeAction=function(i,s){var l=typeof i=="function"?{before:i}:i;return RC(l,this._actionSubscribers,s)};Nn.prototype.watch=function(i,s,l){var u=this;return g0(function(){return i(u.state,u.getters)},s,Object.assign({},l))};Nn.prototype.replaceState=function(i){var s=this;this._withCommit(function(){s._state.data=i})};Nn.prototype.registerModule=function(i,s,l){l===void 0&&(l={}),typeof i=="string"&&(i=[i]),this._modules.register(i,s),Jl(this,this.state,i,this._modules.get(i),l.preserveState),gh(this,this.state)};Nn.prototype.unregisterModule=function(i){var s=this;typeof i=="string"&&(i=[i]),this._modules.unregister(i),this._withCommit(function(){var l=fh(s.state,i.slice(0,-1));delete l[i[i.length-1]]}),jC(this)};Nn.prototype.hasModule=function(i){return typeof i=="string"&&(i=[i]),this._modules.isRegistered(i)};Nn.prototype.hotUpdate=function(i){this._modules.update(i),jC(this,!0)};Nn.prototype._withCommit=function(i){var s=this._committing;this._committing=!0,i(),this._committing=s};Object.defineProperties(Nn.prototype,ph);const Mj={state:()=>({product:{},categories:[],icons:[],productLoaded:!1}),actions:{getProduct({commit:r},i){axios.get("/api/products/"+i).then(s=>{r("setProduct",s.data.data)})},getCategories({commit:r}){axios.get("/api/product-categories").then(i=>{r("setCategories",i.data.data)})},getIcons({commit:r}){axios.get("/api/settings-icons").then(i=>{r("setIcons",i.data)})},updateProduct({commit:r,state:i}){axios.post("/api/products/edit/"+i.product.id,i.product).then(s=>{document.body.insertAdjacentHTML("beforeend",`
            <div class="success-alert fixed right-0 top-0 mt-10 m-10 shadow bg-green-100 border-l-4 border-green-400 text-green-700 px-4 py-3 rounded" role="alert">
              <strong class="font-bold">Success!</strong>
              <span class="block sm:inline">Product successfully updated.</span>
            </div>
          `),history.go(),setTimeout(()=>{document.querySelector(".success-alert").remove()},4e3)})}},mutations:{setProduct(r,i){r.product=i,r.productLoaded=!0},setCategories(r,i){r.categories=i},setIcons(r,i){r.icons=i},updateProductField(r,i){r.product[i.key]=i.value},appendDocument(r,i){r.product.documents.push(...i)},removeDocument(r,i){r.product.documents=r.product.documents.filter(s=>s.id!==i)},addInformation(r){r.product.informations.push({name:"",value:""})},setInformation(r,i){r.product.informations[i.index][i.key]=i.value},addCategory(r,i){r.product.categories.push(i)},removeCategory(r,i){r.product.categories=r.product.categories.filter(s=>s.id!==i)},addTag(r,i){r.product.tags.push(i)},removeTag(r,i){r.product.tags=r.product.tags.filter(s=>s.name!==i)},addIcon(r,i){r.product.icons.push(i)},removeIcon(r,i){r.product.icons=r.product.icons.filter(s=>s.id!==i)},addVariant(r){r.product.variations.push({id:0,value:"",sku:""})},removeVariant(r,i){r.product.variations.splice(i,1)},updateVariantField(r,i){r.product.variations[i.index][i.key]=i.value},removeProductInformation(r,i){r.product.informations=r.product.informations.filter(s=>JSON.stringify(s)!==JSON.stringify(i))}},getters:{product:r=>r.product,categories:r=>r.categories,icons:r=>r.icons,productLoaded:r=>r.productLoaded}},Ij=Dj({namespaced:!0,modules:{product:Mj}});document.getElementById("variations-app")&&$n({components:{Variations:nI},template:"<Variations />"}).mount("#variations-app");document.getElementById("media-upload")&&$n({components:{Media:I0},template:"<Media />"}).mount("#media-upload");document.getElementById("adminCategories")&&$n({components:{Categories:PR},template:"<Categories />"}).mount("#adminCategories");document.getElementById("product-tags")&&$n({components:{ProductTags:T0},template:"<ProductTags />"}).mount("#product-tags");document.getElementById("product-documents")&&$n({components:{ProductDocuments:P0},template:"<ProductDocuments />"}).mount("#product-documents");document.getElementById("single-product-info")&&$n({components:{ProductInformation:O0},template:"<ProductInformation />"}).mount("#single-product-info");document.getElementById("single-product-table")&&$n({components:{ProductTable:N0},template:"<ProductTable />"}).mount("#single-product-table");document.getElementById("product-icons")&&$n({components:{ProductIcons:B0},template:"<ProductIcons />"}).mount("#product-icons");document.getElementById("settings")&&$n({components:{Settings:aN},template:"<Settings />"}).mount("#settings");document.getElementById("upload-customer-logo")&&$n({components:{CustomerLogo:II},template:"<CustomerLogo />"}).mount("#upload-customer-logo");document.getElementById("ordersChart")&&$n({components:{OrdersChart:oR},template:"<OrdersChart />"}).mount("#ordersChart");document.getElementById("edit-order")&&$n({components:{EditOrder:n3},template:"<EditOrder />"}).mount("#edit-order");document.getElementById("editSingleProduct")&&$n({components:{EditSingleProduct:nj},template:"<EditSingleProduct />"}).use(Ij).mount("#editSingleProduct");const r0=document.getElementById("admin-navigation"),s0=document.getElementById("open-admin-navigation"),a0=document.getElementById("close-admin-navigation");s0&&a0&&(s0.addEventListener("click",()=>{r0.classList.add("active")}),a0.addEventListener("click",()=>{r0.classList.remove("active")}));
